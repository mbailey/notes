{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"What's this?","text":"<p>Things I don't want to rely on google/my memory for. </p> <ul> <li>Not intended to replace man pages / wikipedia.</li> <li>Markdown files, published to https://mike.bailey.net.au/notes.</li> <li>Started in 2022</li> </ul> <p>I manage my notes with vim and <code>notes.sh</code> which provides:</p> <ul> <li>bash completion</li> <li>create missing notes</li> <li>separate public / work / personal repos</li> </ul>"},{"location":"#fast-learning","title":"Fast Learning","text":"<ul> <li>Concepts take time to learn.</li> <li>Good tools, less so.</li> <li>Instant and effortless access to whatever info I need is the dream.</li> </ul> <p>Matrix - Fast Learning - YouTube</p> <p>Update Oct 2022: I added this video three months before ChatGPT was released in Nov 2023. Since then, the dream has become attainable.</p>"},{"location":"jargon/","title":"Jargon","text":"<p>Glossary of terms you may not be familiar with.</p> Word Meaning grok"},{"location":"blog/","title":"Blog","text":""},{"location":"blog/2024-12-14-conventions/","title":"CONVENTIONS.md","text":"<p>Maintain conventions files.</p> <ul> <li>Markdown</li> </ul>"},{"location":"blog/2024-12-14-conventions/#scopes","title":"Scopes","text":"Scope Location Used By Description Personal <code>~/CONVENTIONS.md</code> You and your AI Coding assistant Individual conventions Team <code>~/CONVENTIONS-{TEAM}.md</code> Your team Team-wide conventions Project <code>/project_root/CONVENTIONS.md</code> Contributors Project-level conventions"},{"location":"blog/2024-12-14-personal-portable-platform/","title":"Personal Portable Platform","text":"<p>Maintain standard interfaces across devices.</p>"},{"location":"blog/2024-12-14-personal-portable-platform/#what-you-get","title":"What you get","text":"<ul> <li>Apps:<ul> <li>Sync: git</li> </ul> </li> <li>CLI commands:<ul> <li>Sync : git</li> </ul> </li> <li>Config:<ul> <li>Sync: git and/or 3<sup>rd</sup> party sync tools (e.g. firefox sync)</li> </ul> </li> <li>Media:<ul> <li>Examples: Audio, Images, Models, Videos</li> <li>Sync: git-annex / Syncthing</li> </ul> </li> </ul>"},{"location":"blog/2024-12-14-personal-portable-platform/#details","title":"Details","text":"<ul> <li>Sync: Git by default, other tools for large files or where automatic fast response required.</li> <li>Security boundaries: Public, work, personal</li> <li>Bash wrappers to </li> </ul>"},{"location":"blog/2024-12-14-personal-portable-platform/#tools","title":"Tools:","text":"<ul> <li>GNU Tools (install on macOS)</li> <li>GNU Stow</li> <li>Git</li> <li>Syncthing</li> <li>Bash</li> <li>Python</li> <li>symlinks</li> </ul>"},{"location":"blog/20250215-do-one-thing-well/","title":"Do one thing well","text":"<p>https://healthchecks.io/about/</p> <p>Healthchecks.io is a product of SIA Monkey See Monkey Do, currently a one-man software and consulting company. The one man is P\u0113teris Caune, a long time Python developer from Valmiera, Latvia. Mastodon, Github.</p>"},{"location":"blog/20250215-do-one-thing-well/#open-data","title":"Open Data","text":"<p>Here are a few metrics about the service (updated manually, last updated: February 2, 2025). Years in business  9  years \u2116 of free accounts  32 200  accounts \u2116 of open source and non-profit accounts  75  accounts \u2116 of paying accounts  741  accounts Monthly recurring revenue  16 300  USD \u2116 of services monitored (checks)  160 000  checks \u2116 of pings/day  42 000 000  processed pings \u2116 of notifications/day</p>"},{"location":"blog/code-reading-to-become-more-valuable/","title":"Blog - Code Reading becoming more valuable","text":"<ul> <li>code-reading-notes</li> </ul> <p>Australian model L McPherson was famously quoted as saying I never read books. I didn't write.. </p> <p>I suspect a lot of people prefer reading code they wrote themselves. Like laughing at your own jokes, Code produced by your brain even if you've forgotten it follows the patterns of your thinking and is less ethic to rock</p> <p>I also suspect many people would prefer to rewrite code from scratch rather than make substantial modifications to someone else's code.</p> <p>We like writing code. We would rather be the pen than the paper. The nose than the handkerchief. </p> <p>I suspect many programmers throughout their career Right for more many lines of code than they read. (If you exclude code, they wrote from the total amount that they read)</p> <p>I bought a book called code reading many years ago. I have found uses for it, but reading it was not one of them ironically. Perhaps it would be value in a companion volume called code reading reading</p> <p>People can read on average about 150 words per minute. I'm not sure how this translates to lines of code but given the comparative lack of practice and possibly lack of thoughts into how to improve their Covid reading I think that there would be large improvements that could be made in code reading ability by many programmers </p> <p>The need for and value in code reading skills is about to go through the roof with the advent of a programmers that generate code at 5\u00d75 times faster then we can read it</p> <p>The risk that projects will bloat with buggy or even malicious code being added to projects by developers who check the test pass but don't read and understand the code this presents massive security and reliability risks</p> <p>So in the advent of us all having a fire hose spewing code we all need to become engineering overseas development leads etc</p>"},{"location":"conventions/","title":"Conventions","text":"<ul> <li>Conventional Commits</li> <li>Semantic Versioning (Semver)</li> </ul>"},{"location":"conventions/conventional-commits/","title":"Conventional Commits","text":"<p>A specification for adding human and machine readable meaning to commit messages. Learn more</p> Prefix Description feat New features or significant changes to functionality fix Bug fixes docs Documentation changes only style Code style/formatting changes (no code change) refactor Code changes that neither fix bugs nor add features test Adding or modifying tests chore Maintenance tasks, dependency updates, etc. perf Performance improvements ci Changes to CI/CD configuration and scripts build Changes to build system or external dependencies revert Reverting a previous commit ## Tips for learning"},{"location":"conventions/conventional-commits/#1-stick-them-to-your-monitor","title":"1. Stick them to your monitor","text":""},{"location":"conventions/conventional-commits/#2-if-youre-unsure-ask-an-llm","title":"2. If you're unsure, ask an LLM","text":"<p>Get README to commit all pending changes with a suitable commit message, then exit.</p> <pre><code>$ aider --commit\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nAider v0.65.2.dev73+gcab8bf5f\nMain model: claude-3-5-sonnet-20241022 with diff edit format, infinite output\nWeak model: claude-3-5-haiku-20241022\nGit repo: .git with 7 files\nRepo-map: using 1024 tokens, auto refresh\nCommit b24eee5 docs: Rename README-template.md to README.md\n</code></pre>"},{"location":"conventions/semantic-versioning/","title":"Semantic Versioning (SemVer)","text":"<p>Semantic Versioning (SemVer) is a versioning scheme that uses a three-part version number (MAJOR.MINOR.PATCH) to convey meaning about the underlying changes between releases. This helps developers manage dependencies and understand the potential impact of updating to newer versions. Learn more</p>"},{"location":"hardware/passkeys/","title":"Passkeys","text":"<p>Use a hardware device and pin instead of passwords.</p> <ul> <li>Github</li> <li>Google</li> <li>Microsoft<ul> <li>Azure</li> <li>Windows</li> </ul> </li> <li> Tailscale (tailscale.com)</li> </ul>"},{"location":"hardware/passkeys/#google","title":"Google","text":"<p>Only allows Chrome, Edge, Safari. Passkeys</p> <p></p> <p></p>"},{"location":"hardware/yubikeys/","title":"yubikey","text":"<ul> <li>ykman: yubikey manager</li> <li>fido-pin</li> <li> <p>yubikey-slot-disable (yubisneeze)</p> </li> <li> <p>PassKeys</p> </li> <li>Signing git commits with SSH Keys</li> <li>managing-multiple-yubikeys</li> <li>setting-openpgp-touch-slot-policies</li> <li>ssh</li> <li>Resident FIDO2 SSH Keys</li> </ul> <p> </p>"},{"location":"hardware/yubikeys/#install-fedora","title":"Install (fedora)","text":"<ul> <li>YubiKey Manager  Yubico (www.yubico.com)</li> </ul> <pre><code>$ sudo dnf -y install         \\\n  yubikey-manager             \\\n  yubikey-personalization-gui \\\n  python3-yubikey-manager\n\n#   fedora-packager-yubikey     \\\n#   pcsc-tools                  \\\n#   ykclient                    \\\n#   ykpers                      \\\n#   yubico-piv-tool             \\\n#   yubico-piv-tool             \\\n</code></pre>"},{"location":"hardware/yubikeys/#yubikey-manager","title":"Yubikey Manager","text":"<p>List keys: <pre><code>$ sudo ykman list\nYubiKey 5C Nano (5.4.3) [OTP+FIDO+CCID] Serial: 16381159\nYubiKey 5 NFC (5.2.4) [OTP+FIDO+CCID] Serial: 12001438\n</code></pre></p>"},{"location":"hardware/yubikeys/#fido2-pins","title":"FIDO2 PINs","text":"<ul> <li>Understanding YubiKey PINs \u2013 Yubico (support.yubico.com)</li> </ul>"},{"location":"hardware/yubikeys/#ykman-fido-info","title":"<code>ykman fido info</code>","text":"<p><pre><code>[m@x2 ~]$ ykman fido info\nPIN is set, with 8 attempt(s) remaining.\n</code></pre> - <code>ykman fido access change-pin</code> - <code>ykman fido reset</code></p>"},{"location":"hardware/yubikeys/#reset-pin","title":"Reset PIN","text":"<pre><code>$ ykman fido reset\nWARNING! This will delete all FIDO credentials, including FIDO U2F credentials, and restore factory settings. Proceed? [y/N]: y\nRemove and re-insert your YubiKey to perform the reset...\nTouch your YubiKey...\n</code></pre>"},{"location":"hardware/yubikeys/#yubikey-and-ssh-via-pam","title":"Yubikey and SSH via PAM","text":"<ul> <li>/etc/ssh/authorized_yubikeys # we're using this file (ansible)</li> <li>.yubico/authorized_yubikeys</li> </ul> <pre><code>yubico-piv-tool -a change-pin\n</code></pre>"},{"location":"hardware/yubikeys/#piv-setup","title":"PIV setup","text":""},{"location":"hardware/yubikeys/#using-ssh-user-certificates-with-piv-keys","title":"Using SSH User Certificates with PIV keys","text":"<p>cp /usr/lib64/libykcs11.so /usr/local/lib/ cp /usr/lib64/libpkcs11.so /usr/local/lib/</p> <p>ssh-add -D ssh-add -e /usr/local/lib/libykcs11.so</p> <p>FAIL <pre><code>$ ssh-add -s /usr/local/lib/libykcs11.so\nEnter passphrase for PKCS#11: \n^C\n</code></pre></p> <p>man ssh-agent      -P provider_whitelist              Specify a pattern-list of acceptable paths for PKCS#11 and FIDO authenticator shared libraries that may be used              with the -S or -s options to ssh-add(1).  Libraries that do not match the whitelist will be refused.  See PATTERNS              in ssh_config(5) for a description of pattern-list syntax.  The default whitelist is \u201c/usr/lib/,/usr/local/lib/\u201d.</p>"},{"location":"hardware/yubikeys/#configure-system","title":"Configure System","text":"<pre><code>$ sudo systemctl start pcscd\n$ sudo systemctl enable pcscd\n</code></pre>"},{"location":"hardware/yubikeys/#configure-yubikey","title":"Configure Yubikey","text":"<p>Disable the default text when touched <pre><code>$ ykpersonalize -1 -z\nFirmware version 5.2.4 Touch level 773 Program sequence 1\n\nConfiguration in slot 1 will be deleted\n\nCommit? (y/n) [n]: y\n</code></pre></p>"},{"location":"hardware/yubikeys/dr-duh/","title":"drduh/YubiKey-Guide","text":"<ul> <li>drduhYubiKey-Guide Guide to using YubiKey for GPG and SSH (github.com)</li> </ul>"},{"location":"hardware/yubikeys/dr-duh/#see-also","title":"See also","text":"<ul> <li>An Opinionated Yubikey Set-Up Guide  Hacker News</li> </ul>"},{"location":"hardware/yubikeys/fido-pin/","title":"FIDO PIN","text":"<p>You can use [[ykman (yubikey-manager) |ykman yubikey manager]]</p>"},{"location":"hardware/yubikeys/managing-multiple-yubikeys/","title":"Managing Multiple Yubikeys","text":"<p>Recommended patterns for managing Yubikeys.</p>"},{"location":"hardware/yubikeys/managing-multiple-yubikeys/#principles","title":"Principles","text":"<ul> <li>Efficiency: A permanent key in every machine</li> <li>Redundancy: Anything important should be on more than one yubikey</li> <li>Security: Don't expose secrets on untrusted devices</li> </ul>"},{"location":"hardware/yubikeys/managing-multiple-yubikeys/#recommendations","title":"Recommendations","text":"<ol> <li> <p>Masterkey you keep with you</p> <ul> <li>Yubikey on your keyring</li> <li>Add it to everything you need access to</li> <li>You can use this to \"bless\" other yubikeys where required</li> </ul> </li> <li> <p>USB-A nano in each laptop</p> <ul> <li>USB-C ports are valuable (unless it's all you have - Mac)</li> <li>Setup for each thing you need (with the help of your masterkey)</li> </ul> </li> </ol>"},{"location":"hardware/yubikeys/reset-yubikey/","title":"Reset Yubikey","text":"<ul> <li>https://support.yubico.com/hc/en-us/articles/360013757959-Resetting-Your-YubiKey-5-Series-to-Factory-Defaults</li> </ul>"},{"location":"hardware/yubikeys/setting-openpgp-touch-slot-policies/","title":"Setting Touch Policy for OpenPGP Keys","text":"<ul> <li> <p>Syntax:</p> <pre><code>ykman openpgp keys set-touch [KEY] [POLICY]\n</code></pre> </li> <li> <p>Replace <code>[KEY]</code> with the key slot (<code>sig</code>, <code>enc</code>, <code>aut</code>, or <code>att</code>).</p> </li> <li> <p>Replace <code>[POLICY]</code> with the desired touch policy (<code>on</code>, <code>off</code>, <code>fixed</code>, <code>cached</code>, or <code>cached-fixed</code>).</p> </li> <li> <p>Example:   To require a touch for the authentication key, use:   <pre><code>ykman openpgp keys set-touch aut on\n</code></pre>   This sets the touch policy to 'on' for the authentication key (<code>aut</code>).</p> </li> <li> <p>Touch Policy Options:</p> </li> <li><code>Cached</code>: Touch is required, but it's cached for 15 seconds after use.</li> <li><code>Cached-Fixed</code>: Touch is required and cached for 15 seconds, and this setting can't be disabled without a full reset.</li> <li><code>Fixed</code>: Touch is required and can't be disabled without a full reset.</li> <li><code>Off</code>: No touch required (default setting).</li> <li><code>On</code>: Touch required for each operation.</li> </ul>"},{"location":"hardware/yubikeys/setting-openpgp-touch-slot-policies/#notes","title":"Notes","text":"<ul> <li>The touch policy enhances the security of your YubiKey by ensuring that physical interaction is required for cryptographic operations, thereby preventing remote attacks.</li> <li>Be cautious when changing these settings, as the <code>fixed</code> options cannot be changed without resetting the OpenPGP application on the YubiKey.</li> <li>It's advisable to verify the current touch policy settings before making changes, to understand the existing configuration.</li> </ul> <p>After setting the touch policy, you can verify it's working by attempting an operation that requires the key (like signing with GPG) and observing if the YubiKey requests a touch.</p>"},{"location":"hardware/yubikeys/ssh/","title":"Yubikeys SSH","text":"<ul> <li>SSH (developers.yubico.com)</li> <li>[[dr-duh]]</li> </ul>"},{"location":"hardware/yubikeys/ssh/#yubikey-hardware-backed-ssh-authentication-methods","title":"YubiKey hardware-backed SSH authentication methods","text":"<ul> <li>pgp</li> <li>piv</li> <li>fido2</li> <li>otp</li> <li></li> </ul>"},{"location":"hardware/yubikeys/ssh/#pgp","title":"PGP","text":"<p>The YubiKey stores and manages OpenPGP keys within its OpenPGP module. It will work with SSH clients that have integrated with the OpenPGP standard.</p> <ul> <li>SSH authentication (developers.yubico.com)</li> <li>drduh/YubiKey-Guide Guide to using YubiKey for GPG and SSH (github.com)</li> </ul>"},{"location":"hardware/yubikeys/ssh/#piv","title":"PIV","text":"<p>The YubiKey stores and manages RSA and Elliptic Curve (EC) asymmetric keys within its PIV module. It will work with SSH clients that can communicate with smart cards through the PKCS#11 interface.</p>"},{"location":"hardware/yubikeys/ssh/#fido2","title":"FIDO2","text":"<p>OpenSSH version 8.2p1 added support for FIDO hardware authenticators. FIDO devices are supported by the public key types \u201cecdsa-sk\u201d and \u201ced25519-sk\", along with corresponding certificate types.</p>"},{"location":"hardware/yubikeys/ssh/#otp","title":"OTP","text":"<p>Systems administrators can configure two factor authentication for SSH authentication using the YubiKey through the Yubico PAM module.</p>"},{"location":"hardware/yubikeys/ykman-yubikey-manager/","title":"YubiKey Manager  (<code>ykman</code>)","text":"<p>Command line tool for managing yubikey config on linux and macOS.</p>"},{"location":"hardware/yubikeys/ykman-yubikey-manager/#some-interesting-commands","title":"Some Interesting Commands","text":"Action Command List YubiKey info <code>ykman info</code> List FIDO2 PIN details <code>ykman fido info</code> Change FIDO2 PIN <code>ykman fido access change-pin</code> Delete FIDO2 Credential <code>ykman fido credentials delete</code> List FIDO2 Credentials <code>ykman fido credentials list</code>"},{"location":"hardware/yubikeys/ykman-yubikey-manager/#ykman-info","title":"<code>ykman info</code>","text":"<pre><code>$ ykman info\nDevice type: YubiKey 5 Nano\nSerial number: 20680971\nFirmware version: 5.4.3\nForm factor: Nano (USB-A)\nEnabled USB interfaces: OTP, FIDO, CCID\n\nApplications\nYubico OTP      Enabled\nFIDO U2F        Enabled\nFIDO2           Enabled\nOATH            Enabled\nPIV             Enabled\nOpenPGP         Enabled\nYubiHSM Auth    Enabled\n</code></pre>"},{"location":"hardware/yubikeys/ykman-yubikey-manager/#install","title":"Install","text":"<ul> <li>Official package (yubico.com): Some distros lag behind.</li> </ul> <p>The following show where you can find up to date versions of  <code>ykman</code>.</p> Source Package Version Fedora 38 yubikey-manager 5.4.0 Ubuntu (Yubico PPA) souryubikey-manager 5.4.0 Ubuntu 22.04.4 yubikey-manager 4.0.7 Homebrew (macOS) yubico-yubikey-manager 1.2.5"},{"location":"hardware/yubikeys/ykman-yubikey-manager/#fedora","title":"Fedora","text":"<p>Install <code>ykman</code> from fedora repositories:</p> <pre><code>sudo dnf install yubikey-manager\n# Generate bash completion\nsource &lt;(_YKMAN_COMPLETE=bash_source ykman | sudo tee /etc/bash_completion.d/ykman)\n</code></pre>"},{"location":"hardware/yubikeys/ykman-yubikey-manager/#debian-ubuntu","title":"debian / ubuntu","text":"<ul> <li>Ubuntu 22.04 is a major version behind: <code>4.0.7</code> vs <code>5.4.0</code></li> </ul> <p>Add and install <code>ykman</code> from yubico PPA repository:</p> <pre><code>sudo add-apt-repository ppa:yubico/stable &amp;&amp; sudo apt-get update\nsudo apt install yubikey-manager # 2024-06-09 yubikey-manager-5.4.0\n# Generate bash completion\nsource &lt;(_YKMAN_COMPLETE=bash_source ykman | sudo tee /etc/bash_completion.d/ykman)\n</code></pre>"},{"location":"hardware/yubikeys/ykman-yubikey-manager/#wsl-windows-subsystem-for-linux","title":"WSL - Windows Subsystem for Linux","text":"<ul> <li>Install YubiKey Manager GUI on Windows.</li> <li>Use ssh-sk-helper.exe to pass FIDO SSH requests to Windows.</li> <li>Configure passthrough to WSL Linux? I haven't. Maybe checkout <code>usbipd-win</code> but I'd rather not have to review the security of that.</li> </ul>"},{"location":"hardware/yubikeys/ykman-yubikey-manager/#windows","title":"Windows","text":"<ul> <li>Download from yubico (yubico.com</li> </ul>"},{"location":"hardware/yubikeys/ykman-yubikey-manager/#macos","title":"macOS","text":"<ol> <li> <p>Download and install the official package from Yubico (yubico.com.</p> </li> <li> <p>Add to your path:</p> <pre><code>export PATH=\"$PATH:/Applications/YubiKey Manager.app/Contents/MacOS\"\n</code></pre> </li> <li> <p>Setup bash completion:</p> </li> </ol> <pre><code>source &lt;(_YKMAN_COMPLETE=bash_source ykman | sudo tee /etc/bash_completion.d/ykman)\n</code></pre>"},{"location":"hardware/yubikeys/yubikey-slot-disable/","title":"Yubikey Slot Disable","text":"<p>Stop those accidental touches spewing out ccccccvkvfuinkgccecldikjfbebjgktdrbnudhcrull</p>"},{"location":"hardware/yubikeys/yubikey-slot-disable/#fedora-36","title":"Fedora 36","text":"<pre><code>sudo dnf install yubikey-manager\n\n$ ykpersonalize  -y -z -1\nFirmware version 5.4.3 Touch level 1280 Unconfigured\n\nConfiguration in slot 1 will be deleted\n\nCommit? (y/n) [n]: yes\n\n$ ykpersonalize  -y -z -2\nFirmware version 5.4.3 Touch level 1280 Unconfigured\n\nConfiguration in slot 2 will be deleted\n\nCommit? (y/n) [n]: yes\n</code></pre>"},{"location":"inbox/Claude%203.5%20Sonnet%20needed%20guidance/","title":"Claude 3.5 Sonnet needed guidance","text":"<p>I asked Claude to solve the puzzle. It was an interesting chat.</p>"},{"location":"inbox/Claude%203.5%20Sonnet%20needed%20guidance/#user","title":"User","text":"<p>What do you think <code>ls -la ../</code> will show? (Number 3 might surprise you)</p> <p>1. Inspect a dir with a symlinked dir in it.</p> <pre><code>m@x2 .deleteme$ pwd\n/home/alex/.deleteme\nm@x2 .deleteme$ pwd -P\n/home/alex/.deleteme\nm@x2 .deleteme$ ls -la\ntotal 44\ndrwxr-xr-x.  3 m m 20480 Jul 23 11:19 .\ndrwxr-x---+ 98 m m 12288 Jul 23 10:52 ..\ndrwxr-xr-x.  8 m m  4096 Feb 26 13:45 .old\n-rw-r--r--.  1 m m     0 Jul 23 11:18 THIS_IS_DELETEME_DIR.txt\nlrwxrwxrwx.  1 m m    42 Jul 23 11:19 example-repo -&gt; ../Code/github.com/orgname/example-repo\n</code></pre> <p>2. <code>cd</code> to the symlinked dir</p> <pre><code>m@x2 .deleteme$ cd example-repo\nm@x2 example-repo $ pwd\n/home/alex/.deleteme/example-repo\nm@x2 example-repo $ pwd -P\n/home/alex/Code/github.com/org/example-repo\n</code></pre> <p>3. What is <code>ls -la ../</code> going to show?</p> <pre><code>m@x2 example-repo $ ls -la ../\n</code></pre>"},{"location":"inbox/Claude%203.5%20Sonnet%20needed%20guidance/#assistant","title":"Assistant","text":"<p>Let's think through this step-by-step:</p> <ol> <li>We're currently in a symlinked directory: <code>/home/alex/.deleteme/example-repo</code></li> <li>The actual physical path is: <code>/home/alex/Code/github.com/org/example-repo</code></li> <li>When we use <code>ls -la ../</code>, the <code>..</code> refers to the parent directory of our current working directory, not the physical path.</li> </ol> <p>Given this, <code>ls -la ../</code> will show the contents of <code>/home/alex/.deleteme/</code>, not <code>/home/alex/Code/github.com/org/</code>.</p> <p>This might be surprising (as you hinted with \"Number 3 might surprise you\") because even though we've traversed into a symlinked directory, when we use <code>..</code>, we're still navigating relative to the symlink path, not the physical path.</p> <p>So, <code>ls -la ../</code> will show:</p> <ol> <li>The contents of the <code>.deleteme</code> directory</li> <li>It will include the <code>example-repo</code> symlink</li> <li>It will show the <code>.old</code> directory</li> <li>It will show the <code>THIS_IS_DELETEME_DIR.txt</code> file</li> <li>It will show the <code>.</code> and <code>..</code> entries for the current and parent directories</li> </ol> <p>This behavior is consistent with how symlinks work in Unix-like systems. The system maintains the illusion of the linked directory structure even when you're inside a symlinked directory.</p>"},{"location":"inbox/Claude%203.5%20Sonnet%20needed%20guidance/#user_1","title":"User","text":"<p>are you sure</p>"},{"location":"inbox/Claude%203.5%20Sonnet%20needed%20guidance/#assistant_1","title":"Assistant","text":"<p>You're right to question this, and I appreciate the opportunity to reconsider. Let me think through this more carefully:</p> <p>After further reflection, I realize my initial response was incorrect. Let's break this down:</p> <ol> <li>We're in a symlinked directory: <code>/home/alex/.deleteme/example-repo</code></li> <li>The actual physical path is: <code>/home/alex/Code/github.com/org/example-repo</code></li> <li>When we use <code>ls -la ../</code>, the <code>..</code> is resolved relative to the real path, not the symlink path.</li> </ol> <p>This means <code>ls -la ../</code> will actually show the contents of <code>/home/alex/Code/github.com/org/</code>, which is indeed surprising and likely what you were hinting at.</p> <p>This happens because when you <code>cd</code> into a symlink, the operating system resolves the real path. Subsequent path operations, including <code>..</code>, are performed relative to this real path, not the symlink path.</p> <p>So <code>ls -la ../</code> will show:</p> <ol> <li>The contents of the <code>org</code> directory in the GitHub repos</li> <li>It will not show the contents of the <code>.deleteme</code> directory</li> <li>The <code>example-repo</code> directory will appear as a regular directory, not a symlink</li> </ol> <p>This behavior can be counterintuitive and is indeed a surprise (your number 3). It's a subtle but important aspect of how symlinks and directory traversal interact in Unix-like systems.</p> <p>Thank you for prompting me to reconsider. This is a great example of why it's important to verify assumptions, especially with complex system behaviors.</p>"},{"location":"inbox/Claude%203.5%20Sonnet%20needed%20guidance/#user_2","title":"User","text":"<p>Isn't ls POSIX compliant? Isn't this defined behaviour?</p>"},{"location":"inbox/Claude%203.5%20Sonnet%20needed%20guidance/#assistant_2","title":"Assistant","text":"<p>You're absolutely right to push on this, and I apologize for my previous uncertainty. Your question about POSIX compliance is spot-on and helps clarify the situation. Let's consider this more carefully:</p> <p>You're correct. The behavior of <code>ls</code> with symbolic links is indeed defined by POSIX, and I should have remembered this. Let's break it down:</p> <ol> <li> <p>POSIX specifies that symbolic links should be followed for all pathname resolution except for the final component.</p> </li> <li> <p>In the case of <code>ls -la ../</code>, the <code>..</code> is resolved first, and it's resolved based on the physical location of the current directory, not the symlink path.</p> </li> <li> <p>This means <code>ls -la ../</code> will show the contents of the parent directory of the physical location of <code>example-repo</code>, which is <code>/home/alex/Code/github.com/org/</code>.</p> </li> </ol> <p>So, to answer your original question correctly:</p> <p><code>ls -la ../</code> will show the contents of <code>/home/alex/Code/github.com/org/</code>, not the contents of <code>/home/alex/.deleteme/</code>.</p> <p>This behavior is indeed defined and consistent across POSIX-compliant systems. The \"surprise\" you mentioned (number 3) is likely referring to this behavior, which can be counterintuitive if one isn't familiar with how symlinks are resolved in pathname traversal.</p> <p>Thank you for your persistence and for bringing up POSIX compliance. It's a crucial point that I should have considered from the start. This is a great example of why understanding standards and specifications is so important in systems programming and administration.</p>"},{"location":"inbox/askers-and-guessers/","title":"Askers and Guessers","text":"<ul> <li> How to quickly tell if someone is an asker or guesser (interpersonal.stackexchange.com)</li> <li>This column will change your life  Health &amp; wellbeing  The Guardian (theguardian.com)</li> <li>Are You an Asker or a Guesser? The Answer Could Change Everything (purewow.com)</li> </ul> <p>What is Ask vs. Guess Culture?</p> <p>Coined in a 2007 blog post by Andrea Donderi in response to a question very similar to the example above, Donderi explains, \u201cIn some families, you grow up with the expectation that it's OK to ask for anything at all, but you gotta realize you might get no for an answer. This is Ask Culture.\u201d In Guess Culture, Donderi writes, \u201cyou avoid putting a request into words unless you're pretty sure the answer will be yes. Guess Culture depends on a tight net of shared expectations. A key skill is putting out delicate feelers. If you do this with enough subtlety, you won't even have to make the request directly; you'll get an offer. Even then, the offer may be genuine or pro forma; it takes yet more skill and delicacy to discern whether you should accept.\u201d</p> <p>What happens when an Asker collides with a Guesser?</p> <p>A thoughtful Asker will make a request believing the person they ask has the control to say no. A Guesser, however, thinks such a request is pushy and even borderline manipulative\u2014\u201cHow could I possibly say no even if this request is completely inconvenient for me?\u201d is how a Guesser thinks. This snowballs into a passive aggressive avalanche that is absolutely toxic for relationships. And that applies to all relationships\u2014an employee asking a manager for a raise, a child asking permission to have a sleepover or even a woman asking her partner to change the channel.</p> <p>Why knowing if you\u2019re an Asker or Guesser is useful</p> <p>It\u2019s really, really hard to change something that\u2019s part of how we grow up. The Ask and Guess culture of the home you were raised in is deeply nuanced and more often than not, completely unconscious. But there\u2019s also larger cultural influences at play. Oliver Burkeman writes in The Guardian, \u201cThis is a\u00a0spectrum, not a dichotomy, and it explains cross-cultural awkwardnesses, too: Brits and Americans get discombobulated doing business in Japan, because it's a Guess culture, yet experience Russians as rude, because they're diehard Askers.\u201d</p> <p>So, just as it benefits an American doing business in Japan to understand the seemingly subtle differences between Askers and Guessers, it also benefits individuals in their everyday relationships. Why did Donna get so rigid after she agreed to let Ray borrow her car? How could Ray be so thoughtless, assuming Donna has nothing going on in her life?! If you take a step back, you can see exactly how the dynamic unfolds. Donna, a Guesser, believes she can\u2019t say no if the request is made because she would never ask such a thing directly. And Ray, an Asker, sees no problem in making the request. If Donna can identify herself as a Guesser and Ray as an Asker, she can be more empowered to say how she really feels. And if Ray knows that he\u2019s an outspoken Asker, he can navigate his requests more gingerly.</p> <p>Are You an Asker or a Guesser? The Answer Could Change Everything (purewow.com)</p>"},{"location":"inbox/australian-passport-renewal/","title":"Australian Passport Application","text":""},{"location":"inbox/australian-passport-renewal/#urgent-applications","title":"Urgent Applications","text":"<ul> <li>Urgent applications  Australian Passport Office (www.passports.gov.au)</li> </ul>"},{"location":"inbox/australian-passport-renewal/#if-you-need-your-passport-immediately","title":"If you need your passport immediately","text":"<p>You will need to visit a passport office to apply (try to book an appointment by calling 131232).</p> <p>You will need to provide evidence of a compassionate or compelling need for immediate travel.</p>"},{"location":"inbox/australian-passport-renewal/#if-you-need-a-passport-within-2-business-days","title":"If you need a passport within 2 business days","text":"<p>You will need to collect your passport from a passport office.</p> <p>You should apply before midday at an Australia Post RAPID location (this will be faster than queuing up at a Passport Office).</p>"},{"location":"inbox/australian-passport-renewal/#if-you-need-your-passport-within-a-week","title":"If you need your passport within a week","text":"<p>You should apply before midday at an Australia Post RAPID location.</p> <p>You should check when you lodge whether you have enough time to have your passport posted to you, or if you need to collect it from a passport office.</p>"},{"location":"inbox/building-materials/","title":"Building Materials","text":"<ul> <li>cable ties</li> <li>cardboard</li> <li>cloth tape</li> <li>crates</li> <li>masking tape</li> <li>nic cubes</li> <li>pegs</li> <li>pvc pipe &amp; connectors</li> </ul>"},{"location":"inbox/cp/","title":"cp - unix copy command","text":"<p>Copy files and directories.</p>"},{"location":"inbox/cp/#tips","title":"Tips","text":"Goal Command Copy with parent directories <code>cp --parents periodic/*/*template* client-notes-wsl</code>"},{"location":"inbox/cp/#see-also","title":"See also","text":"<ul> <li>rsync</li> <li>scp</li> </ul>"},{"location":"inbox/endianness/","title":"Endianness","text":"<ul> <li>The term <code>big-endian</code> is expressed in little-endian</li> <li>The term <code>little-endian</code> is also expressed in little-endian</li> </ul> <p>In computing, endianness is the order or sequence of bytes of a word of digital data in computer memory. Endianness is primarily expressed as big-endian (BE) or little-endian (LE). A big-endian system stores the most significant byte of a word at the smallest memory address and the least significant byte at the largest. A little-endian system, in contrast, stores the least-significant byte at the smallest address.</p> <p>Endianness - Wikipedia</p>"},{"location":"inbox/endianness/#big-endian-mikes-preference","title":"big-endian (Mike's preference):","text":"<p>I describe this as \"the wagging tail of the dog on the right\". The thing that changes least in a set of things will group them when ordering alphabetically. This is useful when listing files (or any string) by name and helps with tab completion.</p> <ul> <li>Filenames:   e.g.  <code>2022-08-24-example-file.txt</code>  # Sorting by filename sorts by date</li> <li>Command line tool names (file/function): e.g. <code>instance-terminate</code> # noun-verb naming allows for tab completion for actions that can be performed on an object</li> </ul> <p>ISO 8601 expresses dates/times in big endian formats.</p>"},{"location":"inbox/fast-learning/","title":"fast learning","text":"<p>Matrix - Fast Learning - YouTube</p>"},{"location":"inbox/hitchhikers-guide-graphics/","title":"Hitchhikers Guide Graphics","text":"<p>I adore the graphics from the TV series. They are beautiful.</p> <p>I'd like to see more of this look in guides I read.</p> <p>HITCHHIKER'S GUIDE GRAPHICS FOR TV from Kevin Jon Davies on Vimeo.</p> <p></p> <p></p> <p></p> <p></p>"},{"location":"inbox/human-vs-language-model-token-generation-speed/","title":"Human vs Language Model: Token Generation Speed","text":"<p>By Mike Bailey using Claude.ai</p>"},{"location":"inbox/human-vs-language-model-token-generation-speed/#speed-comparison-table","title":"Speed Comparison Table","text":"Method Tokens per Second Words per Minute (approx.) LM (e.g., GPT-3) 60-100 2400-4000 Human (Fast Speaker) 7-9 180-220 Human (Fast Typist on Computer) 4-5 100-125 Human (Avg. Texter on Phone) 0.5-1 35-40"},{"location":"inbox/human-vs-language-model-token-generation-speed/#detailed-breakdown","title":"Detailed Breakdown","text":""},{"location":"inbox/human-vs-language-model-token-generation-speed/#written-language","title":"Written Language","text":"<ul> <li>Human (fast typist on computer):</li> <li>~4-5 tokens per second</li> <li> <p>Limited by physical typing speed and thought composition</p> </li> <li> <p>Human (average texter on phone):</p> </li> <li>~0.5-1 tokens per second</li> <li>Based on average texting speed of 35-40 words per minute</li> <li> <p>Assumes average word length of 1.5 tokens</p> </li> <li> <p>Large Language Model (e.g., GPT-3):</p> </li> <li>~60-100 tokens per second</li> <li>Limited by computational power, not by \"thinking\" or composition time</li> </ul>"},{"location":"inbox/human-vs-language-model-token-generation-speed/#spoken-language","title":"Spoken Language","text":"<ul> <li>Human (fast speaker):</li> <li>~7-9 tokens per second</li> <li>Based on ~180-220 words per minute for fast speakers</li> <li> <p>Assumes average word length of 1.5 tokens</p> </li> <li> <p>Large Language Model:</p> </li> <li>Same as written output (~60-100 tokens per second)</li> <li>LMs don't distinguish between \"spoken\" and \"written\" output</li> </ul>"},{"location":"inbox/human-vs-language-model-token-generation-speed/#key-differences","title":"Key Differences","text":"<ol> <li>Speed Hierarchy: LM &gt; Human Speaking &gt; Human Typing &gt; Human Texting</li> <li>Consistency: LMs maintain speed, humans may vary or fatigue</li> <li>Composition: Humans actively think and compose; LMs generate based on patterns</li> <li>Modality: Humans have varying speeds for different modalities; LMs are consistent</li> <li>Quality: Human output often more thoughtful, but LMs can produce coherent text rapidly</li> <li>Device Impact: Phone texting significantly slower than computer typing for humans</li> </ol> <p>Note: All figures are approximate and can vary based on individual skill, specific LM model, and content complexity.</p>"},{"location":"inbox/identity-theft/","title":"Identity Theft","text":"<p>Within a year of writing this - many of the links have gone 404. I guess the problem has gone away???</p> <ul> <li>Rising number of Australians hit by frauds and scams - KPMG Australia (home.kpmg)</li> <li>1 in 9 Australians experienced personal fraud in 2020-21  Australian Bureau of Statistics (www.abs.gov.au)</li> <li>Personal Fraud, 2020-21 financial year  Australian Bureau of Statistics (www.abs.gov.au)</li> <li>Dark web markets are hungry for Australian identity data  CSO Online (www.csoonline.com)</li> <li>Philippines call centre worker stole Australian Citibank customer details for Sydney crime gang, police say (www.smh.com.au)</li> <li>Massive Philippines data breach now searchable online  WIRED UK (www.wired.co.uk)</li> </ul>"},{"location":"inbox/identity-theft/#identity-theft-can-be-devastating-for-the-victim","title":"Identity theft can be devastating for the victim","text":"<p>The consequences of identity crime for individuals can be serious, including financial loss, reputational damage as well as emotional and psychological harm.</p> <ul> <li>Identity crime and misuse in Australia : Key findings from the National Identity Crime and Misuse Measurement Framework Pilot</li> </ul>"},{"location":"inbox/identity-theft/#154000-australians-experienced-identity-theft-in-2020-21","title":"154,000 Australians experienced Identity theft in 2020-21","text":"<ul> <li>1 in 9 Australians experienced personal fraud in 2020-21  Australian Bureau of Statistics (www.abs.gov.au)</li> <li>154,000 Australians (0.8%) experienced identity theft (the rest were card fraud and scams).</li> </ul> <p>Identity theft is the use of someone\u2019s personal details in stolen, fraudulent, or forged documents without permission, or otherwise illegally appropriating another\u2019s identity.</p> <p>An estimated 0.8% of Australians aged 15 years and over (154,300) experienced identity theft in 2020-21. This was similar to the rate in 2014-15 (0.7%).</p> <p>In the five years prior to the survey, an estimated 2.8% of persons (570,900) experienced identity theft. The majority (93% or 529,600) reported their most recent incident to an authority, most commonly a bank or financial institution (71%).</p> <p>Of those who experienced identity theft, the stolen personal information was most commonly used to obtain money from a bank account, superannuation, or investments or shares (57% or 324,800).</p> <p></p>"},{"location":"inbox/identity-theft/#dark-web-markets-are-hungry-for-australian-identity-data","title":"Dark web markets are hungry for Australian identity data","text":"<ul> <li>Identity now has a very tangible value as there is are secondary markets that is able to monetise stolen identities</li> <li>Identity is now a commodity (has exchange value that aligns with use value).</li> </ul> <p>Australians\u2019 confidential financial, personal, and identity data is being channelled in large volumes through dark web marketplaces and is the second-most-expensive in the world, according to a new analysis that bodes poorly for the thousands of victims compromised in the recent hack of a key National Disability Insurance Scheme (NDIS) software provider.</p> <p>Full identity sets relating to Australians are selling for $112.50 on the dark web market, which NordVPN security experts, who conducted the analysis in early April 2022, said has previously sold more than 720,000 pieces of data for $23.2 million.</p> <ul> <li>Dark web markets are hungry for Australian identity data  CSO Online (www.csoonline.com)</li> </ul> <p>\"they will be able to create accounts in your name \u2014 for example, on cryptocurrency exchanges \u2014 with a view to using them to launder money. As a result, you may run into problems with the law.\" - A selfie with you holding your ID is worth more than just your ID (kaspersky.com.au)</p>"},{"location":"inbox/identity-theft/#background-check-companies-are-high-value-targets","title":"Background check companies are high value targets","text":"<p>Four parallel data breach lawsuits have been filed against a 45-year-old background check services company based in Massachusetts.</p> <p>Creative Services, Inc. (CSI), located in Mansfield, provides background screening, drug testing and security consulting services to employers, institutions and governments in the United States and overseas.</p> <p>By the end of January 2022, an investigation into the activity had revealed that personal identifying information (PII) belonging to CSI\u2019s clients had been compromised in the security incident. Data impacted by the incident included names, dates of birth, financial account numbers, Social Security numbers and driver\u2019s license numbers</p> <p> - Background Check Company Sued Over Data Breach - Infosecurity Magazine (www.infosecurity-magazine.com)</p>"},{"location":"inbox/identity-theft/#overseas-call-centre-employee-allegedly-sold-australian-citibank-customers-personal-information-to-sydney-crime-syndicate","title":"Overseas call centre employee allegedly sold Australian Citibank customers personal information to Sydney crime syndicate","text":"<p>An overseas call centre employee allegedly collected banking details of Australian Citibank customers and sold them to a Sydney crime syndicate, which then used the details to defraud the customers of more than $1 million, police say.</p> <p>Police allege the worker, employed by a firm in the Philippines that carries out customer relations for a number of Australian-based companies, collected banking information, passwords and personal details for the syndicate.</p> <p>The syndicate then allegedly used the details to make withdrawals and order new credit cards.</p> <ul> <li>Philippines call centre worker stole Australian Citibank customer details for Sydney crime gang, police say (www.smh.com.au)</li> </ul>"},{"location":"inbox/identity-theft/#privacy-act-amended-in-response-to-optus-and-medibank-breaches","title":"Privacy Act amended in response to Optus and Medibank breaches","text":"<p>The Office of the Australian Information Commissioner (OAIC) welcomes the passing of the Privacy Legislation Amendment (Enforcement and Other Measures) Bill 2022, which enhances the OAIC\u2019s ability to regulate in line with community expectations and protect Australians\u2019 privacy in the digital environment.</p> <p>The Bill introduces significantly increased penalties for serious and or repeated privacy breaches and greater powers for the OAIC to resolve breaches.  - OAIC welcomes passing of Privacy Bill - Home (www.oaic.gov.au)</p>"},{"location":"inbox/identity-theft/#example-from-cybergovau","title":"Example from cyber.gov.au","text":"<p>https://www.cyber.gov.au/sites/default/files/2020-05/Protecting%20your%20identity%20-%20What%20everyone%20needs%20to%20know.pdf</p> <p>Identity theft | Cyber.gov.au https://www.idcare.org/</p> <p>https://amp.abc.net.au/article/11439668</p>"},{"location":"inbox/identity-theft/#news","title":"News","text":"<ul> <li>'Invisible robbers' stealing millions in phone porting scam labelled as 'terrifying'</li> </ul>"},{"location":"inbox/pipecat/","title":"pipecat","text":"<p>Pipecat is a framework for building voice-enabled, real-time, multimodal AI applications</p> <ul> <li>Overview - Pipecat (docs.pipecat.ai)</li> </ul>"},{"location":"inbox/podman/","title":"podman","text":"<p>Write to a local file from podman container:</p> <pre><code>podman run --rm \\\n  -v \"$(pwd)\":/work \\\n  -w /work \\\n  alpine \\\n  touch newfile.txt\n</code></pre> <p>Give me a shell on debian: </p> <pre><code>podman run -it debian /bin/bash\n</code></pre>"},{"location":"inbox/private-kitchen/","title":"Private Kitchen Consulting","text":"<p>Maintaining privacy boundaries when working on a client managed devices.</p> <p></p>"},{"location":"inbox/private-kitchen/#overview","title":"Overview","text":"<p>When working on a device managed by a client, I try to ensure the device is not trusted with any intellectual property that is not either:</p> <ul> <li>public domain</li> <li>proprietary but owned by or shared with the client</li> </ul> <p>Examples of things I think should not be shared with the client:</p> <ol> <li>Digital Identities: Personal digital certificates, SSH keys, or other digital authentication methods.</li> <li>Proprietary Tools or Utilities: Any custom-built software or tools developed internally that are not licensed for external use.</li> <li>Tool Configurations: Configuration files for software tools, especially those that might contain sensitive defaults or comments.</li> <li>Non-Public Research and Development Information: Information about research, experiments, or developments that are not public knowledge.</li> <li>Internal Communication: Emails, chat histories, or meeting notes related to your company or other clients.</li> <li>Confidential Documents: This includes any documents related to other clients or projects that are not directly related to the current client.</li> <li>Personal or Company Policies and Handbooks: Internal policies, handbooks, or procedures that are not meant for external audiences.</li> <li>Client-Specific Information: Any information or data pertaining to other clients, even if it seems inconsequential.</li> <li>Personal Data: Avoid storing any personal data, including contact information, personal emails, and private documents.</li> </ol> <p>By ensuring these types of intellectual property are not stored or accessed on a client's managed device, I can better protect the privacy and integrity of intellectual assets belonging to me, my employer and the clients I serve.</p>"},{"location":"inbox/private-kitchen/#digital-identities","title":"Digital Identities","text":"<p>Assume someone else has complete control of your client devices and can view keystrokes, etc (even if they don't now).</p> <ol> <li>Avoid using credentials that authorise access to things the client should not access on client managed device.</li> <li>Do not enter non-client managed long lived credentials (e.g. passwords) on the client device.</li> <li>Use hardware tokens (e.g. yubikeys) to store credentials ( e.g. FIDO / SSH / GPG keys) as these cannot be copied from the device and require touch activation.</li> <li>Use short lived tokens on your device (e.g. OpenID Connect Device Flow) where authentication is performed on a trusted device.</li> </ol>"},{"location":"inbox/private-kitchen/#notes","title":"Notes","text":"<p>I want to access parts of my \"Second Brain\" from the client device but not all.</p> <p>My personal knowledgebase has the following top level structure:</p> <pre><code>notes\n- personal\n- public\n- work\n  - clients\n    - clientA\n    - clientB\n</code></pre> <p>It benefits me (and possibly others) to keep anything that is not confidential under <code>public/</code></p> <p>They're separate Git repos. I can checkout my public and specific client notes to each client while keeping them all in one Obsidian vault. </p> <p>You can find my public notes here: </p> <ul> <li>Git: https://github.com/mbailey/notes</li> <li>Web: https://mike.bailey.net.au/notes/</li> </ul> <p>If my SSH key is on my yubikey, I can trust that the client device is not committing to my client notes without my knowledge.</p>"},{"location":"inbox/private-kitchen/#private-kitchen-pattern","title":"Private Kitchen Pattern","text":"<p>Private Kitchen: My trusted devices Front of House: Client managed devices  </p> <p>Despite the revelations in Anthony Bourdain's book \"Kitchen Confidential: Adventures in the Culinary Underbelly\", it's a common pattern for restaurants to prepare food in a private kitchen you cannot see or enter. Exceptions to this pattern are notable and often a novelty.</p> <p>When preparing a product for a client, I default to the \"private kitchen\" pattern and present the deliverables to the client as a waiter does for a meal.</p> <p>There are many reasons for this but the primary one is to  it enables me to go faster.</p>"},{"location":"inbox/private-kitchen/#building-a-ship-in-a-bottle","title":"Building a ship in a bottle","text":"<p>Working on a client managed device can impose constraints on the tools and processes available, much like building a ship in a bottle.</p> <ol> <li>Build the ship outside of a bottle: Solve any technical issues without the constraints of the bottle, while keeping them in mind.</li> <li>Build the ship in the bottle: Solve any remaining bottle related issues when deploying.</li> </ol> <p>Building client solutions in a 'private kitchen' environment with all the tools, processes, documentation and services I need is faster than doing it all on a client managed device.</p> <p></p>"},{"location":"inbox/private-kitchen/#private-kitchen-patterns","title":"Private Kitchen Patterns","text":"<p>There are a number of problems to solve. I'm still working through them.</p> <ol> <li>Dev Services: I need access to the same services the client wants me to deploy my solution to (e.g. AWS, Azure)</li> <li>Waiters: How to transfer data between my \"private kitchen\" device and the client managed device. Notes, code, commands, error messages.</li> <li>Wrap client git repo: Develop in a private git repo that has the client repo checked out to a subdirectory.</li> </ol>"},{"location":"inbox/show-and-tell/","title":"show and tell","text":"<p>Show and Tell is a chance to share something interesting with your team.</p> <p></p> <p>You may have done it in primary school. The format is something like:</p> <ul> <li>presenters wait in queue for their turn to present</li> <li>each presenter has a fixed time (~3min) to present to the group</li> <li>[optional] fixed time for questions (~2min)</li> <li>audience shows appreciation and next presenter starts</li> </ul> <p>It can be anything some ideas to get you started include:</p> <ul> <li>Cool tricks!</li> <li>Something you learned</li> <li>Something you use</li> </ul> <p>Could do a mix of different formats:</p> <ul> <li>\"tight five\": 5 minutes of your best material</li> <li>lightning: 1 minute sharing a screen and a single thing</li> </ul>"},{"location":"inbox/show-and-tell/#cool-tricks","title":"Cool Tricks!","text":"<ul> <li>Something neat you can do</li> <li>You don't have to have invented it</li> </ul>"},{"location":"inbox/show-and-tell/#something-you-learned","title":"Something You Learned","text":"<ul> <li>It doesn't have to be your original discovery</li> <li>It doesn't matter if other already know about it</li> </ul> <p> xkcd Ten Thousand (xkcd.com)</p>"},{"location":"inbox/show-and-tell/#something-you-use","title":"Something You Use","text":"<ul> <li>A tool (hardware or software) that's making your life easier</li> <li>Something fun (e.g. cheap inflatable boat with electric outboard motor)</li> </ul>"},{"location":"inbox/show-and-tell/#encourage-and-support-sharing","title":"Encourage and Support Sharing","text":"<ul> <li>Sharing can be daunting</li> <li>Show appreciation when team mates share something with you</li> </ul>"},{"location":"inbox/subaru-global-platform/","title":"Subaru Global Platform","text":"<ul> <li>Subaru Global Platform - Wikipedia</li> <li> <p>Subaru Global Platform - Subaru Technology - Subaru Canada</p> </li> <li> <p>Started in 2016</p> </li> <li>As of 2021, SGP underpins all of the vehicles built and sold by Subaru.</li> </ul> <p>The Subaru Global Platform (\u30b9\u30d0\u30eb\u30b0\u30ed\u30fc\u30d0\u30eb\u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0), abbreviated as SGP, is the modular unibody automobile platform for nearly all models manufactured by Subaru, starting with the fifth-generation Subaru Impreza in 2016 .</p> <p>The primary dynamic benefits of SGP compared to prior Subaru platforms were:</p> <ul> <li>improved strength</li> <li>increased rigidity</li> <li>a lowered center of gravity</li> </ul> <p>In addition, moving to a common platform made production more flexible and efficient; existing production lines could shift to meet demand by producing different models without significant reconfiguration, and common parts could be reused between models.</p> <p>As of 2021, SGP underpins all of the vehicles built and sold by Subaru. The WRX, debuted its second generation on September 10, 2021 for model year 2022. The WRX was the last model to move to the SGP.</p> <p></p>"},{"location":"inbox/symlinks-relative/","title":"Relative Symlinks","text":"<p>Relative symlinks, when created using <code>ln -sr</code>, store a path calculated from the real (absolute) path of the symlink's location to the real path of the target, ensuring accuracy regardless of intervening symlinks or the manner of accessing the symlink.</p> <p>Symlinks are awesome but logical/physical paths can trip you up.</p>"},{"location":"inbox/symlinks-relative/#puzzle","title":"Puzzle","text":"<p>What do you think <code>ls -la ../</code> will show? (Number 3 might surprise you)</p> <p>1. Inspect a dir with a symlinked dir in it.</p> <pre><code>m@x2 .deleteme$ pwd\n/home/alex/.deleteme\nm@x2 .deleteme$ pwd -P\n/home/alex/.deleteme\nm@x2 .deleteme$ ls -la\ntotal 44\ndrwxr-xr-x.  3 m m 20480 Jul 23 11:19 .\ndrwxr-x---+ 98 m m 12288 Jul 23 10:52 ..\ndrwxr-xr-x.  8 m m  4096 Feb 26 13:45 .old\n-rw-r--r--.  1 m m     0 Jul 23 11:18 THIS_IS_DELETEME_DIR.txt\nlrwxrwxrwx.  1 m m    42 Jul 23 11:19 example-repo -&gt; ../Code/github.com/orgname/example-repo\n</code></pre> <p>2. <code>cd</code> to the symlinked dir</p> <pre><code>m@x2 .deleteme$ cd example-repo\nm@x2 example-repo $ pwd\n/home/alex/.deleteme/example-repo\nm@x2 example-repo $ pwd -P\n/home/alex/Code/github.com/org/example-repo\n</code></pre> <p>3. What is <code>ls -la ../</code> going to show?</p> <pre><code>m@x2 example-repo $ ls -la ../\n</code></pre>"},{"location":"inbox/symlinks-relative/#answer","title":"Answer","text":"<p><code>ls ../</code> shows us contents of the parent directory of the physical path:</p> <pre><code>m@x2 example-notes $ ls ../\nexample example-foo           example-foo-dirsync  \n</code></pre> <p>But tab completion when trying to create a symlink to a target in the parent dir shows contents of logical path parent dir:</p> <pre><code>m@x2 example-notes (main stash:1 4 months ago)$ ln -s ../\ndate                      .old/                     THIS_IS_DELETEME_DIR.txt  example-notes/\n</code></pre> <p>If we create that, it will create a *dangling (broken) link:</p> <pre><code>m@x2 example-notes $ ln -s ../THIS_IS_DELETEME_DIR.txt .\nm@x2 example-notes $ symlinks -tv .\ndangling: /home/m/Code/github.com/work/example-notes/THIS_IS_DELETEME_DIR.txt -&gt; ../THIS_IS_DELETEME_DIR.txt\n</code></pre>"},{"location":"inbox/symlinks-relative/#see-also","title":"See also:","text":"<ul> <li>ls - POSIX (pubs.opengroup.org)</li> <li>Claude 3.5 Sonnet needed guidance</li> </ul>"},{"location":"inbox/symlinks/","title":"Symlinks","text":"<p>Symbolic links for unix filesystems.</p> <ul> <li>Relative Symlinks</li> </ul>"},{"location":"inbox/symlinks/#symlink-management-tools","title":"Symlink management tools","text":"<ul> <li>GNU Stow: Symlink farm manager</li> <li><code>symlinks</code>: symbolic link maintenance utility</li> <li><code>ln -srf ~/Code/github.com/Aider-AI/aider.git</code></li> <li><code>unlink</code>: Specific to links, will not remove file/dir.</li> </ul>"},{"location":"inbox/symlinks/#follow-symlinks","title":"Follow symlinks","text":"<ul> <li>find: <code>find -L</code></li> <li>grep: <code>grep -R</code></li> </ul>"},{"location":"inbox/volkswagen/","title":"Volkswagen","text":"<p>Volkswagen was established in 1937 by the German Labour Front (Deutsche Arbeitsfront) in Berlin. In the early 1930s, cars were a luxury \u2013 most Germans could afford nothing more elaborate than a motorcycle and only one German out of 50 owned a car. Seeking a potential new market, some car makers began independent \"people's car\" projects \u2013 the Mercedes 170H, BMW 3/15, Adler AutoBahn, Steyr 55, and Hanomag 1.3L, among others.</p>"},{"location":"inbox/volkswagen/#volkswagen-type-1-aka-volkswagen-beetle-bug","title":"Volkswagen Type 1 (a.k.a. Volkswagen Beetle, Bug)","text":"<p>Production: 1938 - 2003 Lead Engineer: Ferdinand Porsche</p> <p></p>"},{"location":"inbox/volkswagen/#volkswagen-type-2-aka-combi-transporter-multivan","title":"Volkswagen Type 2 (a.k.a. Combi, Transporter, Multivan)","text":"<p>Production: 1949 - present</p> <p></p> <p>The Volkswagen Type 2, known officially (depending on body type) as the Transporter, Kombi or Microbus, or, informally, as the Bus (US), Camper (UK) or Bulli (Germany), is a forward control light commercial vehicle introduced in 1950 by the German automaker Volkswagen as its second car model. Following \u2013 and initially deriving from \u2013 Volkswagen's first model, the Type 1 (Beetle), it was given the factory designation Type 2. Volkswagen Type 2 - Wikipedia</p> <p>The Volkswagen Transporter / Multivan has been built on revisions Volkswagen Group's T platform for over 70 years.</p> <p>The 2022 Multivan switched to the MQB Platform that underpins many of VW\u2019s current passenger cars, including the Golf hatchback, Passat sedan and Tiguan SUV.</p>"},{"location":"inbox/volkswagen/#volkswagen-group-platforms","title":"Volkswagen Group platforms","text":"<ul> <li>List of Volkswagen Group platforms - Wikipedia</li> </ul> <p>The German automotive concern, Volkswagen Group has, since the 1970s, developed a series of shared automobile platforms for their motor vehicles.</p>"},{"location":"inbox/volkswagen/#volkswagen-group-mqb-platform","title":"Volkswagen Group MQB platform","text":"<p>The Volkswagen Group MQB platform is the company's strategy for shared modular design construction of its transverse, front-engine, front-wheel-drive layout (optional front-engine, four-wheel-drive layout) automobiles. It was first introduced in the Volkswagen Golf Mk7 in late 2012. Volkswagen spent roughly $8bn developing this new platform and the cars employing it. The platform underpins a wide range of cars from the supermini class to the mid size SUV class.</p> <p> VW Golf</p> <p> VW Passat</p> <p> VW Tiguan</p> <p> VW Multivan T7</p>"},{"location":"services/draw.io/","title":"draw.io","text":"<p>draw.io is a free diagramming tool.  The image below is an editable drawio.svg file.</p> <p></p>"},{"location":"services/draw.io/#vscode-collaborative-editing","title":"VSCode - Collaborative Editing","text":"<p>The image above can be edited (by more than one person) in VSCode using Draw.io Integration (marketplace.visualstudio.com)</p>"},{"location":"services/draw.io/#github","title":"GitHub","text":"<p>Github will render the .draw.svg file in makrdown documents.</p> <p>Apparently you can also edit in github?</p>"},{"location":"services/draw.io/#ms-teams-collaborative-editing","title":"MS Teams - Collaborative Editing","text":"<p>With the draw.io app for Microsoft Teams, you and your team can collaborate in real time on diagrams directly from your team\u2019s channel in a Teams tab.</p> <ul> <li>Use draw.io in Microsoft Teams (www.diagrams.net)</li> </ul>"},{"location":"services/draw.io/#obsidian","title":"Obsidian","text":"<p>![public/docs/Untitled Diagram.svg][public/docs/Untitled Diagram.svg]</p>"},{"location":"services/google-sheets/","title":"Google Sheets","text":""},{"location":"services/google-sheets/#colour-days","title":"Colour days","text":"<pre><code>=weekday($A1,2)&gt;5 # weekend\n=weekday($A1,2)&lt;=5 # weekday\n</code></pre> <pre><code># Victorian Public Holidays 2023\n=OR($A1=date(2023,1,2),$A1=date(2023,1,26),$A1=date(2023,3,13),$A1=date(2023,4,7),$A1=date(2023,4,10),$A1=date(2023,4,25),$A1=date(2023,6,12),$A1=date(2023,9,29),$A1=date(2023,11,7),$A1=date(2023,12,25),$A1=date(2023,12,26))\n</code></pre>"},{"location":"services/google-sheets/#show-current-days-row-when-sheet-opened","title":"Show current day's row when sheet opened","text":"<pre><code>function onOpen() {\n  var ss = SpreadsheetApp.getActiveSpreadsheet();\n  var sheet = ss.getActiveSheet();\n  var today = new Date();\n  var dataRange = sheet.getDataRange();\n  var numRows = dataRange.getNumRows();\n  var values = dataRange.getValues();\n  for (var i = 1; i &lt; numRows; i++) {\n    if (values[i][0].getTime() == today.getTime()) {\n      sheet.setActiveRange(dataRange.offset(i, 0, 1));\n      break;\n    }\n  }\n}\n</code></pre>"},{"location":"services/msteams/","title":"Microsoft Teams","text":"<p>On fedora-36, I had to install chrome to get video and screen sharing to work.</p>"},{"location":"services/msteams/#notes","title":"Notes","text":"<ul> <li>Run two copies of Teams as Progressive Web Apps in Chrome.</li> <li>Make use of Desktop entries with different icons to start and swap between them.</li> </ul> <p>foo</p>"},{"location":"services/aws/aws-vault/","title":"AWS Vault","text":"<ul> <li>GitHub - 99designsaws-vault A vault for securely storing and accessing AWS credentials in development environments</li> </ul>"},{"location":"services/aws/aws-vault/#aws-cli-login","title":"AWS CLI login","text":"<p>Set ENV in subshell:</p> <pre><code>aws-vault exec --no-session bash-my-aws # no-session removes STS / IAM restrictions\n</code></pre> <pre><code>aws-vault exec bash-my-aws # defaults to creating temporary session\n</code></pre> <p>With metadata server (to refresh tokens):</p> <pre><code>aws-vault exec --server\n</code></pre>"},{"location":"services/aws/aws-vault/#aws-console-login","title":"AWS Console Login","text":"<pre><code>aws-vault login bash-my-aws\n</code></pre>"},{"location":"services/aws/aws-vault/#firefox-containers","title":"Firefox containers","text":"<pre><code>$(aws-vault login -s staging)\n</code></pre>"},{"location":"services/aws/cloudformation/","title":"AWS CloudFormation","text":"<p>References:</p> <ul> <li>aws docs</li> <li> <p>aws-labs / aws-cloudformation-templates</p> </li> <li> <p>Add support for cf and codepipeline parameters file to cf deploy by vz10 \u00b7 Pull Request 5443 \u00b7 awsaws-cli (github.com)</p> </li> </ul>"},{"location":"services/aws/cloudformation/#tools","title":"Tools","text":"<p>awscli</p> <pre><code>curl \"https://awscli.amazonaws.com/awscli-exe-linux-x86_64.zip\" -o \"awscliv2.zip\"\nunzip awscliv2.zip\nsudo ./aws/install\n</code></pre> <p>bash-my-aws</p> <pre><code>$ git clone https://github.com/bash-my-aws/bash-my-aws.git ${BMA_HOME:-$HOME/.bash-my-aws}\n</code></pre> <p>Utilities:</p> <pre><code>pip install cfn-flip cfn-lint pydot\n</code></pre> <p>VSCode Extensions: - Create a AWS CloudFormation template using the AWS Toolkit for Visual Studio Code - AWS Toolkit for VS Code (docs.aws.amazon.com):     - YAML - Visual Studio Marketplace (marketplace.visualstudio.com)     - CloudFormation template:  File has a .yaml or .yml extension.     - The file has a top-level <code>AWSTemplateFormatVersion</code> or Resources node.</p>"},{"location":"services/aws/cloudformation/#sam-template","title":"SAM Template","text":"<ul> <li> <p>All of the criteria already described for CloudFormation</p> </li> <li> <p>The file has a top-level Transform node, containing a value that begins with <code>AWS::Serverless</code>.</p> </li> <li> <p>CloudFormation Linter: Popular</p> </li> <li>CloudFormation<ul> <li>Create new YAML doc</li> <li>Type start</li> <li>Start typing resource name and hit TAB</li> </ul> </li> </ul>"},{"location":"services/aws/cloudformation/#cloudformation-templates","title":"Cloudformation Templates","text":"<p>Simplest stack <pre><code># noop.yml\nResources:\n  WaitConditionHandle:\n    Type: AWS::CloudFormation::WaitConditionHandle\n</code></pre></p> <p>Create stack</p> <pre><code>stack-create simplest.yml\n</code></pre> <p>cfn-flip</p>"},{"location":"services/aws/cloudformation/#drift","title":"drift","text":"<ul> <li>describe-stack-drift-detection-status</li> <li>describe-stack-resource-drifts</li> <li>detect-stack-drift</li> <li>detect-stack-resource-drift</li> <li>detect-stack-set-drift</li> </ul>"},{"location":"services/aws/lambda/lambda/","title":"AWS Lambda","text":"<ul> <li>Lambda runtimes - AWS Lambda (docs.aws.amazon.com)</li> </ul> <p>Python 3.12 - 2024-01-19 09:59:22 +11:00 Fri </p>"},{"location":"services/aws/systems-manager/","title":"AWS Systems Manager","text":"<ul> <li>quick-setup</li> <li>fleet-manager</li> <li>run-command</li> <li>Inventory</li> <li>SSH</li> <li> <p>Sessions</p> </li> <li> <p>The ec2 instance needs network access to the Systems Manager service.</p> </li> </ul>"},{"location":"services/aws/systems-manager/#commands","title":"Commands","text":"<p>Connect to instance:  <code>aws ssm start-session --target i-006b11ac03868d528</code></p>"},{"location":"services/aws/systems-manager/#run-command","title":"Run Command","text":"<pre><code>aws ssm send-command --document-name \"AWS-RunShellScript\" --document-version \"1\" --targets '[{\"Key\":\"InstanceIds\",\"Values\":[\"i-123456789012345\"]}]' --parameters '{\"workingDirectory\":[\"\"],\"executionTimeout\":[\"3600\"],\"commands\":[\"date\"]}' --timeout-seconds 600 --max-concurrency \"50\" --max-errors \"0\" --output-s3-bucket-name \"bash-my-aws-demo\" --region ap-southeast-2\n</code></pre>"},{"location":"services/aws/systems-manager/AWS-RunShellScript/","title":"AWS-RunShellScript","text":"<p>Run a script or command.</p> Name Type Description Default Value commands StringList (Required) Specify a shell script or a command to run. - workingDirectory String (Optional) The path to the working directory on your instance. - executionTimeout String (Optional) The time in seconds for a command to complete before it is considered to have failed. Default is 3600 (1 hour). Maximum is 172800 (48 hours). 3600"},{"location":"services/aws/systems-manager/example-ec2-instance-role-for-ssm-sessions/","title":"Example ec2 instance role for ssm sessions","text":"<p>These four are essential:</p> <pre><code>- 'ssmmessages:CreateControlChannel'\n- 'ssmmessages:CreateDataChannel'\n- 'ssmmessages:OpenControlChannel'\n- 'ssmmessages:OpenDataChannel'\n- ```\n\nHere's my half baked (but working) EC2 Instance IAM Role:\n\n```shell\n  SSMRole:\n    Type: AWS::IAM::Role\n    Properties:\n      AssumeRolePolicyDocument:\n        Version: '2012-10-17'\n        Statement:\n          - Effect: Allow\n            Principal:\n              Service: ec2.amazonaws.com\n            Action: 'sts:AssumeRole'\n      Path: \"/\"\n      Policies:\n        - PolicyName: SSMInstancePolicy\n          PolicyDocument:\n            Version: '2012-10-17'\n            Statement:\n              - Effect: Allow\n                Action:\n                  - 'ssm:DescribeAssociation'\n                  - 'ssm:GetDeployablePatchSnapshotForInstance'\n                  - 'ssm:GetDocument'\n                  - 'ssm:DescribeDocument'\n                  - 'ssm:GetManifest'\n                  - 'ssm:GetParameter'\n                  - 'ssm:GetParameters'\n                  - 'ssm:ListAssociations'\n                  - 'ssm:ListInstanceAssociations'\n                  - 'ssm:PutInventory'\n                  - 'ssm:PutComplianceItems'\n                  - 'ssm:PutConfigurePackageResult'\n                  - 'ssm:UpdateAssociationStatus'\n                  - 'ssm:UpdateInstanceAssociationStatus'\n                  - 'ssm:UpdateInstanceInformation'\n                  - 'ec2messages:GetEndpoint'\n                  - 'ec2messages:GetMessages'\n                  - 'ec2messages:SendReply'\n                  - 'cloudwatch:PutMetricData'\n                  - 'ssmmessages:CreateControlChannel'\n                  - 'ssmmessages:CreateDataChannel'\n                  - 'ssmmessages:OpenControlChannel'\n                  - 'ssmmessages:OpenDataChannel'\n                Resource: '*'\n</code></pre>"},{"location":"services/aws/systems-manager/fleet-manager/","title":"Fleet Manager","text":""},{"location":"services/aws/systems-manager/fleet-manager/#configure-default-host-management-configuration","title":"Configure Default Host Management Configuration","text":"<p>Automatically configure your Amazon EC2 instances as managed instances in your current account and Region.</p> <p>Default Host Management Configuration is an account-level setting for the current Region. After enabling this setting, all Amazon EC2 instances become managed instances. Benefits of managed instances include the following:</p> <ul> <li>Securely connect to your instances using Session Manager.</li> <li>Perform automated daily patch scans using Patch Manager.</li> <li>Get a complete view of your instances using Inventory.</li> <li>Track your instances using Fleet Manager.</li> <li>Automatically update the SSM Agent.</li> </ul>"},{"location":"services/aws/systems-manager/inventory/","title":"Inventory - AWS Systems Manager","text":"<ul> <li>Configuring inventory collection - AWS Systems Manager</li> <li>Configuring resource data sync for Inventory - AWS Systems Manager</li> </ul> <p>Enabling inventory in AWS Systems Manager (SSM) allows you to collect and view detailed configuration, inventory, and metadata information about your EC2 instances and other managed instances in your AWS environment. Here's what happens when you enable inventory:</p> <ol> <li>Data Collection: </li> <li> <p>SSM Agent, installed on your instances, collects inventory information about the instance. This can include details about installed applications, AWS components, network configuration, Windows updates, file system information, and more.</p> </li> <li> <p>Customizable Inventory: </p> </li> <li> <p>You can customize what inventory data to collect. AWS provides a set of predefined inventory types, and you can also create your own custom inventory types if needed.</p> </li> <li> <p>Scheduled Collection: </p> </li> <li> <p>Inventory data is collected at a scheduled interval that you can define. This schedule can be adjusted based on your needs for data freshness versus operational overhead.</p> </li> <li> <p>Data Storage and Access: </p> </li> <li> <p>Collected inventory data is stored in an S3 bucket and an optional Amazon RDS database linked to your account. You can view and analyze this data through the Systems Manager console, or use query tools for more complex analysis.</p> </li> <li> <p>Integration with Other AWS Services: </p> </li> <li> <p>Inventory data can be used with other AWS services. For example, it can be integrated with AWS Config for configuration tracking and auditing, or with AWS CloudWatch for monitoring and alerts based on inventory data.</p> </li> <li> <p>Resource Data Sync: </p> </li> <li> <p>If you set up Resource Data Sync, Systems Manager can aggregate inventory data from multiple AWS accounts and AWS Regions into a single S3 bucket. This simplifies the process of aggregating inventory data across your entire organization.</p> </li> <li> <p>Compliance and Reporting: </p> </li> <li> <p>Inventory data helps in assessing compliance with policies and regulations. You can check whether instances are running the required software versions, patches, or configurations.</p> </li> <li> <p>Security Analysis: </p> </li> <li> <p>Detailed inventory information can aid in security analysis. It helps in identifying unauthorized or vulnerable software installations.</p> </li> <li> <p>Operational Insights: </p> </li> <li>Regular inventory collection provides insights into your environment, assisting in operational decisions like hardware and software lifecycle management, license management, and resource optimization.</li> </ol> <p>By enabling inventory in AWS Systems Manager, you enhance your visibility into the software and hardware configurations of your managed instances, which can greatly assist in management, compliance, security, and operational efficiency.</p>"},{"location":"services/aws/systems-manager/quick-setup/","title":"Quick Setup","text":"<p>Configures some things.</p> <p>Here's what I selected:</p> <ul> <li>Update Systems Manager (SSM) Agent every two weeks.</li> <li>Update the EC2 launch agent once every 30 days.</li> <li>Collect inventory from your instances every 30 minutes.</li> <li>Scan instances for missing patches daily.</li> <li>Install and configure the CloudWatch agent.</li> <li>Update the CloudWatch agent once every 30 days.</li> </ul>"},{"location":"services/aws/systems-manager/run-command/","title":"Run command","text":"<p>Documents - AWS-RunShellScript</p>"},{"location":"services/aws/systems-manager/sessions/","title":"Sessions","text":"<p>Get console on instance from AWSCLI.</p> <pre><code>aws ssm start-session --target i-123456789012345\n</code></pre>"},{"location":"services/aws/systems-manager/sessions/#ec2-instance-role-to-enable-sessions","title":"EC2 Instance Role to enable Sessions","text":"<p>Ensure your instance role has the right permissions.</p> <p>example-ec2-instance-role-for-ssm-sessions</p>"},{"location":"services/aws/systems-manager/sessions/#install-session-manager-plugin-on-linux","title":"Install Session Manager plugin on Linux","text":"<ul> <li>(Optional) Install the Session Manager plugin for the AWS CLI - AWS Systems Manager (docs.aws.amazon.com)</li> </ul> <p>Test plugin is installed:</p> <pre><code>session-manager-plugin\n</code></pre> <p>Install:</p> <pre><code>curl \"https://s3.amazonaws.com/session-manager-downloads/plugin/latest/linux_64bit/session-manager-plugin.rpm\" -o \"session-manager-plugin.rpm\"\nsudo yum install -y session-manager-plugin.rpm\n</code></pre>"},{"location":"services/aws/systems-manager/sessions/#remove-session-manager-plugin","title":"Remove Session Manager plugin","text":"<pre><code>yum erase session-manager-plugin -y\n</code></pre>"},{"location":"services/aws/systems-manager/ssh/","title":"SSH","text":"<ul> <li>Start an SSH session - AWS Systems Manager (docs.aws.amazon.com)</li> </ul> <p>ssh -i /path/my-key-pair.pem username@instance-id</p> <p>Requires &gt;= <code>Amazon SSM Agent - Release 2.3.672.0 - 2019-07-09</code></p>"},{"location":"services/aws/systems-manager/ssh/#port-forwarding","title":"Port Forwarding","text":"<ul> <li>New \u2013 Port Forwarding Using AWS System Manager Session Manager  AWS News Blog (aws.amazon.com)</li> </ul> <pre><code>aws ssm start-session \\\n  --target i-123456789012345678 \\\n  --document-name AWS-StartPortForwardingSession \\\n  --parameters \"localPortNumber=55678,portNumber=3389\"\n</code></pre>"},{"location":"services/aws/windows/","title":"windows","text":"<ul> <li>screenshots: <code>Windows logo key + Shift + S</code></li> </ul>"},{"location":"services/aws/windows/#windows-11","title":"Windows 11","text":""},{"location":"services/aws/windows/#systems-requirements","title":"systems requirements","text":"Thing Amount Processor 1 gigahertz (GHz)\u202for\u202ffaster with 2 or more cores on a\u202fcompatible 64-bit processor or System on a Chip (SoC). RAM 4 gigabyte (GB). Storage 64 GB or larger storage device Note: See below under \u201cMore information on storage space to keep Windows 11 up-to-date\u201d for more details. Windows 11 Specs and System Requirements  Microsoft"},{"location":"services/aws/windows/#create-usb","title":"Create USB","text":"<pre><code>sudo dnf install WoeUSB\nsudo woeusb --device Win10_22H2_EnglishInternational_x64.iso /dev/sda\n</code></pre>"},{"location":"services/azure/","title":"Azure","text":""},{"location":"services/azure/az-cli/","title":"az cli","text":"<ul> <li>az reference</li> <li>Azure CLI configuration (learn.microsoft.com)</li> <li>Azure Command-Line Interface (CLI) documentation (learn.microsoft.com)</li> <li>Install azure cli linux</li> <li>Sign in with Azure CLI</li> <li>Tips for using the Azure CLI successfully</li> <li>https://learn.microsoft.com/en-us/cli/azure/use-cli-effectively?tabs=bash%2Cbash2</li> <li>Learn to use Bash with the Azure CLI</li> <li>Use and manage extensions with the Azure CLI</li> <li>Create an Azure service principal with the Azure CLI</li> <li>What are managed identities for Azure resources?<ul> <li>Azure services that can use managed identities to access other services</li> <li>Experimenting with Azure Arc  Journey Of The Geek (journeyofthegeek.com)</li> </ul> </li> </ul> <p>azure-arc-and-managed-identities</p>"},{"location":"services/azure/az-cli/#install-fedora-36","title":"Install (fedora-36)","text":"<pre><code>dnf install azure-cli\n</code></pre>"},{"location":"services/azure/az-cli/#config","title":"Config","text":"<p>Scripts should define their own path for  <code>$AZURE_CONFIG_DIR</code>. (e.g. <code>~/.azure/scriptname</code>). Better to append PID?</p> <p>The configuration file itself is located at <code>$AZURE_CONFIG_DIR/config</code>. The default value of <code>AZURE_CONFIG_DIR</code> is <code>$HOME/.azure</code> on Linux and macOS, and <code>%USERPROFILE%\\.azure</code> on Windows.</p> <ul> <li>CLI configuration file (learn.microsoft.com)</li> </ul>"},{"location":"services/azure/az-cli/#create-things","title":"Create things","text":"<pre><code>az group create -l global -n MyResourceGroup\n</code></pre>"},{"location":"services/azure/az-cli/#handy-commands","title":"Handy commands","text":"<ul> <li><code>version</code></li> <li><code>upgrade</code></li> <li> <p><code>exit</code></p> </li> <li> <p>Get tenant id: <code>az account show --query tenantId -o tsv</code></p> </li> </ul>"},{"location":"services/azure/az-cli/#rest-api-commands-az-rest","title":"REST API commands (az rest)","text":"<p>If generic update parameters and az resource don't meet your needs, you can use the az rest command to call the REST API. The command automatically authenticates using the logged-in credential and sets header Content-Type: application/json. For more information, see Azure REST API reference.</p> <p>This example works with the Microsoft Graph API. To update redirect URIs for an Application, call the Update application REST API, as in this code: Azure CLI</p> <pre><code># Get the application\naz rest --method GET \\\n    --uri 'https://graph.microsoft.com/v1.0/applications/b4e4d2ab-e2cb-45d5-a31a-98eb3f364001'\n\n# Update `redirectUris` for `web` property\naz rest --method PATCH \\\n    --uri 'https://graph.microsoft.com/v1.0/applications/b4e4d2ab-e2cb-45d5-a31a-98eb3f364001' \\\n    --body '{\"web\":{\"redirectUris\":[\"https://myapp.com\"]}}'\n\nWhen using --uri-parameters for requests in the form of OData, please make sure to escape $ in different environments: in Bash, escape $ as \\$ and in PowerShell, escape $ as `$\n</code></pre>"},{"location":"services/azure/az-cli/#sign-in-with-azure-cli","title":"Sign in with Azure CLI","text":"<ul> <li> <p>Sign in with Azure CLI</p> </li> <li> <p>Sign in interactively</p> </li> <li>Sign in with credentials on the command line</li> <li>Sign in with a service principal</li> <li>Sign in with a different tenant</li> <li>Sign in with a managed identity</li> </ul>"},{"location":"services/azure/az-cli/#useful-commands","title":"Useful commands","text":"<p>BROWSER=firefox az login # can omit $BROWSER</p> <pre><code>function locations(){\n  az account list-locations --query [].[displayName] --output tsv\n}\n</code></pre> <p>Show login details: </p> <pre><code>$ az ad signed-in-user show\n{\n  \"@odata.context\": \"https://graph.microsoft.com/v1.0/$metadata#users/$entity\",\n  \"businessPhones\": [],\n  \"displayName\": \"Example user\",\n  \"givenName\": \"Example\",\n  \"id\": \"12345678-1234-1234-1234-123456789012\",\n  \"jobTitle\": null,\n  \"mail\": null,\n  \"mobilePhone\": null,\n  \"officeLocation\": null,\n  \"preferredLanguage\": null,\n  \"surname\": \"User\",\n  \"userPrincipalName\": \"example.user@example.net\"\n}\n</code></pre>"},{"location":"services/azure/az-cli/#example-commands","title":"Example commands","text":"<pre><code>az account list\naz account set --subscription 'my-subscription-name'\n</code></pre> <p>Azure maximum request size is 100MB</p> <pre><code>$ getconf ARG_MAX\n2097152 # Get argument limit in bytes on POSIX systems\n</code></pre>"},{"location":"services/azure/az-cli/#-query","title":"<code>--query</code>","text":"<p>Supports JMESPath! This was created for AWSCLI. :-)</p>"},{"location":"services/azure/az-cli/#-output","title":"<code>--output</code>","text":"<p>Allowed values: json, jsonc, yaml, yamlc, table, tsv, none.</p> <p>Change the global default format to one of your personal preference by using az config such as <code>az config set core.output=table</code></p>"},{"location":"services/azure/az-cli/#using-az-cache-defer","title":"Using az cache (--defer )","text":"<p>AZ offers a local cache for you to use when creating resource that requires a dependant resource to exist. You pass the <code>--defer</code> argument on the first call. You may pass <code>--defer</code> argument when adding dependant resources, as long as the last one does not have <code>--defer</code> as that triggers the creation all of them.</p> <p>bash-my-aws offers these commands:</p> <p>Author: Mike Bailey mike@bailey.net.au Date:   Sun Dec 11 21:30:20 2022 +1100</p> <pre><code>Add az cache functions\n\naz-cache-items(): list them\naz-cache-item(): show one (json)\naz-cache-item-delete(): delete one\n\nExample Usage:\n\n# show contents of all items in cache\naz-cache-items | az-cache-item\n\n# delete all cache items with foo in them\naz-cache-items | grep foo | az-cache-item-delete\n\n# Part of BMA's unofficial, unprofessional \"Azvent of Code\"\n# Use at own risk!\n</code></pre>"},{"location":"services/azure/az-cli/#accept-args-from-stdin","title":"Accept args from STDIN","text":"<p>Azure CLI has built-in support to process commands with multiple <code>--ids</code> in parallel to achieve the same effect of xargs. Note that <code>@-</code> is used to get values from the pipe: <pre><code>az vm list --resource-group MyResourceGroup --show-details \\\n  --query \"[?powerState=='VM stopped'].id\" \\\n  --output tsv | az vm start --ids @-\n</code></pre></p>"},{"location":"services/azure/az-cli/#query-with-graph-api","title":"Query with graph api","text":"<pre><code>az rest --method get --url \"https://graph.microsoft.com/v1.0/auditLogs/signIns?&amp;\\$filter=contains(userPrincipalName,'mike')&amp;\\$top=10\" \n</code></pre>"},{"location":"services/azure/az-cli/#tsv","title":"TSV","text":"<p>Using <code>--output tsv</code></p> <pre><code>az rest --method get \\\n  --url \"https://graph.microsoft.com/v1.0/auditLogs/signIns?&amp;\\$filter=contains(userPrincipalName,'luke')&amp;\\$top=10\" \\\n  --query 'value[].[userPrincipalName,userDisplayName,ipAddress,conditionalAccessStatus,location.city,status.errorCode]' \\\n  --output tsv\n</code></pre> <p>Compared to JQ</p> <pre><code>az rest --method get \\\n  --url \"https://graph.microsoft.com/v1.0/auditLogs/signIns?&amp;\\$filter=contains(userPrincipalName,'luke')&amp;\\$top=10\" | \njq -r '.value[] | [.userPrincipalName,.userDisplayName,.ipAddress,.conditionalAccessStatus,.location.city,.status.errorCode] |\n  @tsv'\n</code></pre>"},{"location":"services/azure/az-cli/#linux-cli-config","title":"Linux CLI config","text":"<p><code>$HOME/.azure/</code></p>"},{"location":"services/azure/az-cli/#disable-telemetry","title":"Disable telemetry","text":"<pre><code>export AZURE_CORE_COLLECT_TELEMETRY=0\n</code></pre> <pre><code>az configure -d collect_telemetry=false\n</code></pre>"},{"location":"services/azure/az-cli/#login","title":"Login","text":"<p>This will open web browser:</p> <pre><code>BROWSER=firefox az login # can omit $BROWSER\n</code></pre> <p>Select Account to use:</p> <pre><code>az account \n</code></pre>"},{"location":"services/azure/az-cli/#query-with-jmespath","title":"Query with JMESPath","text":"<p>https://learn.microsoft.com/en-us/cli/azure/query-azure-cli?tabs=concepts%2Cbash</p>"},{"location":"services/azure/az-cli/#az-cli-autocomplete","title":"AZ CLI Autocomplete","text":"<p>Save this to \"${HOME}/.az-completion\":</p> <pre><code>_python_argcomplete() {\n    local IFS=$'\\013'\n    local SUPPRESS_SPACE=0\n    if compopt +o nospace 2&gt; /dev/null; then\n        SUPPRESS_SPACE=1\n    fi\n    COMPREPLY=( $(IFS=\"$IFS\" \\\n                  COMP_LINE=\"$COMP_LINE\" \\\n                  COMP_POINT=\"$COMP_POINT\" \\\n                  COMP_TYPE=\"$COMP_TYPE\" \\\n                  _ARGCOMPLETE_COMP_WORDBREAKS=\"$COMP_WORDBREAKS\" \\\n                  _ARGCOMPLETE=1 \\\n                  _ARGCOMPLETE_SUPPRESS_SPACE=$SUPPRESS_SPACE \\\n                  \"$1\" 8&gt;&amp;1 9&gt;&amp;2 1&gt;/dev/null 2&gt;/dev/null) )\n    if [[ $? != 0 ]]; then\n        unset COMPREPLY\n    elif [[ $SUPPRESS_SPACE == 1 ]] &amp;&amp; [[ \"$COMPREPLY\" =~ [=/:]$ ]]; then\n        compopt -o nospace\n    fi\n}\ncomplete -o nospace -o default -o bashdefault -F _python_argcomplete \"az\"\n</code></pre> <p>Source it from your bashrc:</p> <pre><code>export BASH_COMPLETION_USER_DIR=\"${HOME}/.local/share/bash-completion\"\n# mkdir -p \"$BASH_COMPLETION_USER_DIR=\"\nsource \"${BASH_COMPLETION_USER_DIR}/completions/az-completions\"\n</code></pre>"},{"location":"services/azure/azure-arc-and-managed-identities/","title":"Azure arc and managed identities","text":""},{"location":"services/azure/azure-arc-and-managed-identities/#azure-arc-and-managed-identities","title":"Azure Arc and Managed Identities","text":"<p>Azure Arc introduces the ability to leverage managed identities from outside of Azure.</p> <p>One of the interesting capabilities of Azure Arc that captured my eye was the ability to use a system-assigned management identity. I\u2019ve written in the past about managed identities so I\u2019ll stick to covering the very basics of them today. A managed identity is simply some Microsoft-managed automation on top of an Azure AD service principal, which is best explained as a security principal used for non-humans. One of the primary benefits managed identities provider over traditional service principals is automatic credential rotation. If you come from the AWS world, managed identities are similar to AWS IAM roles.</p> <ul> <li>Experimenting with Azure Arc  Journey Of The Geek (journeyofthegeek.com)</li> </ul>"},{"location":"services/service-now/","title":"Service Now","text":"<ul> <li>sn-utils</li> </ul>"},{"location":"services/service-now/bookmarklet-service-now-ticket-markdown-link/","title":"Bookmarklet for ServiceNow Ticket Markdown Links","text":"<p>A bookmarklet to simplify extracting Markdown links from ServiceNow tickets.</p> <ul> <li>Extracts the Task ID from the page title.</li> <li>Constructs a simplified URL similar to the \"Copy URL\" from the ServiceNow menu.</li> </ul> <p>A hyperlink takes one mouseclick to view compared to:</p> <ol> <li>Copying Ticket ID to clipboard: 2 clicks, Ctrl+C</li> <li>Switching to web browser: Alt+TAB (TAB TAB TAB where is it)</li> <li>Opening Service Now from folder in browser bookmark bar: 2 clicks</li> <li>Selecting search field: 1 click</li> <li>Pasting Ticket ID from clipboard: CTRL-V + Enter</li> </ol>"},{"location":"services/service-now/bookmarklet-service-now-ticket-markdown-link/#bookmarklet-code","title":"Bookmarklet Code:","text":"<pre><code>javascript: (function () {\n  var taskNumber = document.title.split(\"|\")[0].trim();\n  var decodedUrl = decodeURIComponent(window.location.href);\n  var sys_id_match = decodedUrl.match(/sys_id=([a-f0-9]+)/);\n  var sys_id = sys_id_match ? sys_id_match[1] : \"\";\n  var baseUrl = window.location.origin;\n  var type;\n  if (decodedUrl.includes(\"/sc_task.do\")) {\n    type = \"sc_task.do\";\n  } else if (decodedUrl.includes(\"/incident.do\")) {\n    type = \"incident.do\";\n  } else if (decodedUrl.includes(\"/change_request.do\")) {\n    type = \"change_request.do\";\n  } else if (decodedUrl.includes(\"/sc_req_item.do\")) {\n    type = \"sc_req_item.do\";  // Support for requested item\n  } else {\n    alert(\"Unrecognized type\");\n    return;\n  }\n  var shortUrl = baseUrl + \"/nav_to.do?uri=\" + type + \"?sys_id=\" + sys_id;\n  if (decodedUrl.includes(\"service-now.com\")) {\n    prompt(\"Markdown Link:\", \"[\" + taskNumber + \"](\" + shortUrl + \")\");\n  } else {\n    alert(\"Not a ServiceNow ticket\");\n  }\n})();\n</code></pre>"},{"location":"services/service-now/bookmarklet-service-now-ticket-markdown-link/#usage","title":"Usage:","text":"<ol> <li>Create a link in your browser's bookmarks bar.</li> <li>Enter the contents above.</li> <li>Click it on a ServiceNow ticket page.</li> <li>A prompt will display the Markdown link for the ticket, ready to copy.</li> </ol>"},{"location":"services/service-now/bookmarklets/","title":"Service Now Bookmarklets","text":"<pre><code>javascript:(function() {\n    var incidentNumber = prompt('Enter Incident Number:', '');\n    if (incidentNumber) {\n        window.location.href = 'https://your-instance.service-now.com/incident_list.do?sysparm_query=number%3D' + incidentNumber;\n    }\n})();\n</code></pre> <p>javascript:(function() {     var query = prompt('Enter your query:', '');     if (query) {         window.location.href = 'https://your-instance.service-now.com/textsearch.do?sysparm_search=' + encodeURIComponent(query);     } })();</p>"},{"location":"services/service-now/sn-utils/","title":"SN Utils","text":"<p>Tools for Service Now</p> <p>Browser Plugins: - Chrome - Firefox - sn-scriptsync - Visual Studio Marketplace</p> <p>Video: - SN Utils with Arnoud Kooi - Did You Know (developer.servicenow.com)</p>"},{"location":"services/tailscale/","title":"Tailscale","text":"<ul> <li>Tailscale (tailscale.com)</li> <li>How Tailscale works (tailscale.com)</li> <li>CLI (tailscale.com)</li> </ul>"},{"location":"services/tailscale/#installation","title":"Installation","text":"<ul> <li>Setting up Tailscale on Fedora \u00b7 Tailscale Docs (tailscale.com)</li> </ul>"},{"location":"services/tailscale/#fedora","title":"Fedora","text":"<pre><code>sudo dnf config-manager --add-repo https://pkgs.tailscale.com/stable/fedora/tailscale.repo\nsudo dnf install tailscale\nsudo systemctl enable --now tailscaled\nsudo tailscale up\nsudo tailscale set --auto-update\n</code></pre>"},{"location":"services/tailscale/#macos","title":"macOS","text":"<ul> <li> <p>Setting up Tailscale on macOS \u00b7 Tailscale Docs (tailscale.com)</p> </li> <li> <p>Tailscale recommend using the version downloaded from their site.</p> </li> <li>It appears only the open source version supports starting tailscale before user login.</li> </ul>"},{"location":"services/tailscale/#steps","title":"Steps","text":"<ol> <li> <p>Download and install:  https://tailscale.com/download</p> </li> <li> <p>Start on boot (before user login):</p> </li> </ol> <p>This does not seem to work.</p> <pre><code>sudo launchctl bootstrap system /Library/LaunchDaemons/com.tailscale.tailscaled.plist\n</code></pre>"},{"location":"services/tailscale/#firewalld-allows-all-traffic-from-tailscale","title":"firewalld allows all traffic from tailscale","text":"<p>Don't do this unless you understand the implications.</p> <p>Services on my host already have:</p> <ul> <li>authentication</li> <li>encryption</li> </ul> <p>My Tailscale network provides an extra layer of protection against compromise by requiring access to it before you can even try to guess (or use stolen) credentials or observe traffic that is already encrypted at application layer.</p> <p><code>/etc/firewalld/zones/trusted.xml</code></p> <pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;zone target=\"ACCEPT\"&gt;\n  &lt;short&gt;Trusted&lt;/short&gt;\n  &lt;description&gt;All network connections are accepted.&lt;/description&gt;\n  &lt;interface name=\"tailscale0\"/&gt;\n  &lt;forward/&gt;\n&lt;/zone&gt;\n</code></pre>"},{"location":"services/tailscale/#bash-completion","title":"Bash completion","text":"<ul> <li>tailscale-bash-completion.sh</li> </ul>"},{"location":"services/tailscale/#tailscale-ping","title":"Tailscale PING","text":"<ul> <li>How do I know if my traffic is being routed through DERP? (tailscale.com)</li> <li>Encrypted TCP relays (DERP)</li> </ul> <p>This traffic is going via tailscale server in Sydney:</p> <pre><code>$ tailscale ping phone\npong from phone (100.80.90.100) via DERP(syd) in 77ms\npong from phone (100.80.90.100) via DERP(syd) in 106ms\npong from phone (100.80.90.100) via DERP(syd) in 197ms\n</code></pre> <p>This traffic is going direct between my two hosts:</p> <pre><code>$ tailscale ping kida\npong from kida (100.40.32.19) via 192.168.50.12:41641 in 74ms\n</code></pre>"},{"location":"services/tailscale/#check-status-of-other-hosts","title":"Check status of other hosts","text":"<pre><code>$ tailscale status\n100.40.32.19    kida       user@        linux   -\n100.97.100.78   phonea     user@        iOS     active; relay \"syd\"\n100.99.217.31   kidb       user@        linux   active; direct 192.168.50.12:41641, tx 104132 rx 104396\n</code></pre>"},{"location":"services/tailscale/#not-working-exclude-tailscale-traffic-from-mullvad-vpn","title":"[Not working] Exclude Tailscale traffic from Mullvad VPN","text":"<ul> <li>Can I use Tailscale alongside other VPNs \u00b7 Tailscale (tailscale.com)</li> <li>Split tunneling with Linux (advanced) - Guides  Mullvad VPN (mullvad.net)</li> <li>Tailscaler are partnering with mullvad to allow them to be used together</li> </ul>"},{"location":"services/tailscale/#check-network-config-and-latency","title":"Check network config and latency","text":"<pre><code>$ tailscale netcheck\n\nReport:\n * UDP: true\n * IPv4: yes, 131.132.88.122:53237\n * IPv6: no, but OS has support\n * MappingVariesByDestIP: false\n * HairPinning: false\n * PortMapping:\n * Nearest DERP: Sydney\n * DERP latency:\n  - syd: 40.5ms  (Sydney)\n  - sin: 99.9ms  (Singapore)\n  - hkg: 140.2ms (Hong Kong)\n  - tok: 145.2ms (Tokyo)\n  - lax: 163.5ms (Los Angeles)\n  - sfo: 176.1ms (San Francisco)\n  - sea: 191ms   (Seattle)\n  - den: 199.6ms (Denver)\n  - hnl: 209.9ms (Honolulu)\n  - dfw: 213.6ms (Dallas)\n  - ord: 215.6ms (Chicago)\n  - tor: 234.9ms (Toronto)\n  - nyc: 241.2ms (New York City)\n  - mia: 242.8ms (Miami)\n  - fra: 245.1ms (Frankfurt)\n  - ams: 254.2ms (Amsterdam)\n  - mad: 257ms   (Madrid)\n  - par: 264.2ms (Paris)\n  - lhr: 273.9ms (London)\n  - jnb: 302.2ms (Johannesburg)\n  - blr: 308.9ms (Bangalore)\n  - sao: 356.9ms (S\u00e3o Paulo)\n  - waw: 358.1ms (Warsaw)\n  - dbi: 408.4ms (Dubai)\n</code></pre>"},{"location":"skills/code-reading/","title":"Code Reading","text":"<p>Tips and tools to increase your \"grok speed\".</p>"},{"location":"skills/code-reading/vscode/","title":"VS Code","text":""},{"location":"skills/code-reading/vscode/#code-folding","title":"Code Folding","text":"<pre><code>\u2022 Press Ctrl+K Ctrl+0 (zero) to fold all functions/methods\n\u2022 Press Ctrl+K Ctrl+J to unfold all\n\u2022 Click the little arrows \u25b6\ufe0f in the gutter to fold/unfold individual functions\n\u2022 You can also fold to a specific level with Ctrl+K Ctrl+2 (for level 2) etc.\n</code></pre> <p>### Outline View                                                                                                                                                                         \u2022 Open the \"Outline\" view in the Explorer sidebar (usually at the bottom)     \u2022 This shows a structured view of all methods in the Commands class     \u2022 Click any method to jump directly to it     \u2022 You can also press Ctrl+Shift+O to open a quick outline search</p>"},{"location":"skills/code-reading/vscode/#search-features","title":"Search Features","text":"<pre><code>\u2022 Use Ctrl+F to search within the file\n\u2022 Use Ctrl+Shift+F to search across all files\n\u2022 Use Ctrl+T to quickly jump to symbols (methods/classes)\n</code></pre>"},{"location":"software/","title":"Software","text":"<p>Essential applications (in order of essentiality).</p> Task Tool Linux Windows MacOS iOS Android Voice Terminal various Gnome Terminal Windows Terminal iTerm2 Termux Web Browser Firefox \u2705 \u2705 \u2705 \u2705 \u2705 justsayit Notes Obsidian \u2705 \u2705 \u2705 \u2705 \u2705 Whisper plugin Code Editor VS Code \u2705 \u2705 \u2705 Coding Assistant README \u2705 \u2705 built-in File sync Syncthing \u2705 \u2705 \u2705 \u274c \u2705 Containers podman \u2705 \u2705 (Podman Desktop) \u2705 (Podman Desktop) Config ansible \u2705 \u2705 (WSL or managed node) \u2705 Metrics prometheus \u2705 \u2705 \u2705 Virtualisation various kvm"},{"location":"software/Microsoft-Authenticator/","title":"Microsoft Authenticator","text":""},{"location":"software/Microsoft-Authenticator/#enable-icloud-backup","title":"Enable iCloud Backup","text":"<p>This allows you to restore your 2FA if your device is unavailable.</p> <ul> <li>Enable in Settings</li> <li>Requires a Microsoft Personal Account</li> </ul>"},{"location":"software/ansible/","title":"Ansible","text":"Task Command Comments Show vars <code>ansible -m debug -a \"var=hostvars[inventory_hostname]\" localhost</code> Show all settings <code>ansible-config dump</code> Show inventory <code>ansible-inventory --list</code> Ping <code>ansible all -m ping</code> <pre><code>ansible-playbook --inventory inventories/failmode/ --limit proxy-fm playbooks/monitoring_stack.yml\n</code></pre>"},{"location":"software/appearance-light-dark-mode/","title":"Appearance (Light / Dark Mode)","text":"<p>Increase eye comfort by using \"Dark Mode\" in dark environments.</p>"},{"location":"software/appearance-light-dark-mode/#operating-systems","title":"Operating Systems","text":""},{"location":"software/appearance-light-dark-mode/#linux","title":"Linux","text":"<ul> <li>Gnome 40: <ul> <li>Check theme: <code>gsettings get org.gnome.desktop.interface gtk-theme</code></li> </ul> </li> </ul>"},{"location":"software/appearance-light-dark-mode/#macos","title":"macOS","text":"<ul> <li>TBA</li> </ul>"},{"location":"software/appearance-light-dark-mode/#windows","title":"Windows","text":"<p>Windows 10 does not come with an option to update base on time of day.</p> <ul> <li>Windows-Auto-Night-Mode (github.com):  Automatically switches between the dark and light theme of Windows 10 and Windows 11</li> <li>Appearance Toggle Script: personal/appearance/bin/appearance-toggle.ps1</li> </ul>"},{"location":"software/appearance-light-dark-mode/#applications","title":"Applications","text":"<ul> <li>Obsidian: Settings \u2192 Appearance \u2192 Base color scheme \u2192 Adapt to system (restart required)</li> <li>VS Code: Add\u00a0\"window.autoDetectColorScheme\": true\u00a0in settings.json</li> <li>Webbrowsers: See below for details</li> <li>GitHub.com: See below</li> <li>Google Search: see below</li> <li>Windows Terminal: Set <code>colorscheme</code></li> </ul> <p>See also: - Apps with Auto Dark Mode support \u00b7 AutoDarkModeWindows-Auto-Night-Mode Wiki (github.com)</p>"},{"location":"software/appearance-light-dark-mode/#web-browsers","title":"Web browsers","text":"<p>Follow system appearance in your web browser with Dark Reader plugin for Firefox, Chrome or Edge.</p> <ul> <li> <p>Dark Mode for Webbrowser \u00b7 AutoDarkModeWindows-Auto-Night-Mode Wiki \u00b7 GitHub (github.com)</p> </li> <li> <p>Install Dark Reader plugin for your browser:</p> <ul> <li>Dark Reader for Firefox </li> <li>Dark Reader for Google Chrome </li> <li>Dark Reader for Microsoft Edge</li> </ul> </li> <li> <p>Configure Dark Reader plugin to \"Use system colour scheme\".</p> </li> </ul>"},{"location":"software/appearance-light-dark-mode/#services","title":"Services","text":"<p>Many web applications support Dark Mode and some can even respect your operating system's Appearance setting.</p>"},{"location":"software/appearance-light-dark-mode/#githubcom","title":"GitHub.com","text":"<ul> <li>https://github.com/settings/appearance</li> </ul> <p>Allows you to select \"Sync with system\" and select light and dark themes.</p> <p></p>"},{"location":"software/appearance-light-dark-mode/#google-search","title":"Google Search","text":"<p>Configure in Settings when logged in at https://www.google.com/search</p> <p></p>"},{"location":"software/authenticator-apps/","title":"Authenticator Apps","text":"<ul> <li>Google Authenticator: App Store Google Play</li> <li>Microsoft-Authenticator: App Store Google Play - Homepage </li> </ul>"},{"location":"software/backups/","title":"Backups","text":"<p>Apps/DejaDup - GNOME Wiki! (wiki.gnome.org)</p> <p>Trying out the automated incremental remote backup tool included with Gnome.</p> <p>Seems pretty good so far. It's a rebranded <code>deja-dup</code> which itself is a GUI for the CLI tool <code>duplicity</code>. If I like it I'll learn to configure duplicity when I have the time for that.</p>"},{"location":"software/conda/","title":"Conda","text":"<p>Cross platform package management using .envrionment.yml file.</p>"},{"location":"software/conda/#usage","title":"Usage","text":""},{"location":"software/conda/#config","title":"Config","text":"<p>Don't load automatically on login:`</p> <pre><code>conda config --set auto_activate_base false\n</code></pre> <p>Export env: <pre><code>conda env export &gt; environment.yml\n</code></pre></p> <p>Create env: <pre><code>conda env create -f environment.yml\n</code></pre></p>"},{"location":"software/conda/#install","title":"Install","text":"<pre><code>sudo dnf install -y conda\n</code></pre>"},{"location":"software/cross-platform-computing-essentials/","title":"Cross-Platform Computing Essentials","text":"<p>Working across Linux / Windows / MacOS / iOS / Android</p>"},{"location":"software/cross-platform-computing-essentials/#applications","title":"Applications","text":"<ul> <li>Terminal</li> <li>Web Browser:  Chrome,  Edge,  Firefox<ul> <li>Calendar: Google, Outlook</li> </ul> </li> <li>IDE:  vscode - Visual Studio Code</li> <li>KnowledgeBase: Obsidian</li> <li>Messaging: Slack</li> <li>VPN: tailscale</li> </ul>"},{"location":"software/cross-platform-computing-essentials/#config","title":"Config","text":"<ul> <li>bash</li> </ul>"},{"location":"software/cross-platform-computing-essentials/#sync","title":"Sync","text":"<ul> <li>git: code</li> <li>syncthing: media</li> <li>applications sync services<ul> <li>chrome</li> <li>firefox: config</li> <li>obsidian: config, notes</li> </ul> </li> </ul>"},{"location":"software/curl/","title":"curl","text":"<p>when client has stale CA Certs <pre><code>wget https://curl.se/ca/cacert.pem\nalias curl='curl --cacert \"${HOME}/cacert.pem\"'\n</code></pre></p> <pre><code>curl --noproxy '*' # No proxy\n</code></pre>"},{"location":"software/curl/#specify-ip","title":"Specify IP","text":"<pre><code>curl https://DOMAIN.EXAMPLE --resolve 'DOMAIN.EXAMPLE:443:192.0.2.17'\n</code></pre>"},{"location":"software/curl/#option-write-out","title":"Option: <code>--write-out</code>","text":"<p>'%{http_code}       %{remote_ip}       %{remote_port}   %{response_code}'</p> Value Description http_code The numerical response code that was found in the last retrieved HTTP(S) or FTP(s) transfer. http_connect The numerical code that was found in the last response (from a proxy) to a curl CONNECT request. http_version The http version that was effectively used. (Added in 7.50.0) remote_ip The remote IP address of the most recently done connection - can be either IPv4 or IPv6. remote_port The remote port number of the most recently done connection. response_code The numerical response code that was found in the last transfer (formerly known as \"http_code\")."},{"location":"software/curl/#save-output","title":"Save output","text":"<p>Save to myfile.txt:</p> <pre><code>curl http://www.example.com/data.txt -o myfile.txt\n</code></pre> <p>The #1 will get substituted with the url, so the filename contains the url:</p> <pre><code>curl http://www.example.com/data.txt -o \"file_#1.txt\"\n</code></pre> <p>Save to data.txt, the filename extracted from the URL:</p> <pre><code>curl http://www.example.com/data.txt -O\n</code></pre> <p>Saves to filename determined by the Content-Disposition header sent by the server:</p> <pre><code>curl http://www.example.com/data.txt -O -J\n</code></pre>"},{"location":"software/darkman/","title":"Darkman","text":"<p>A framework for dark-mode and light-mode transitions on Unix-like desktops.</p> <ul> <li>https://gitlab.com/WhyNotHugo/darkman/</li> </ul> <p>At sundown, it will look for scripts in $XDG_DATA_DIRS/dark-mode.d/. At sunrise, it will look for scripts in $XDG_DATA_DIRS/light-mode.d/.</p>"},{"location":"software/darkman/#install","title":"Install","text":""},{"location":"software/darkman/#fedora","title":"Fedora","text":"<pre><code>sudo dnf -y install darkman\n</code></pre>"},{"location":"software/darkman/#ubuntu","title":"Ubuntu","text":"<pre><code>sudo apt install -y golang scdoc\ngit clone https://gitlab.com/WhyNotHugo/darkman.git\ncd darkman\nmake\nsudo make install PREFIX=/usr\n</code></pre>"},{"location":"software/darkman/#setup","title":"Setup","text":""},{"location":"software/darkman/#configure","title":"Configure","text":"<p>Enable location services (Gnome Settings on fedora)</p> <p>Scripts to run for light and dark</p> <ul> <li>example files in the repo</li> <li>Can be saved in any <code>$XDG_DATA_DIRS</code></li> </ul> <p><pre><code>~/.local/share/dark-mode.d/\n~/.local/share/light-mode.d/\n</code></pre> - Scripts  must be executable</p> <p>Example dark for Gnome:</p> <pre><code>alias dark=\"darkman set dark\"\nalias light=\"darkman set light\"\n</code></pre>"},{"location":"software/darkman/#config-optional","title":"Config (optional)","text":"<pre><code>${HOME}/.config/darkman/config.yaml\n</code></pre>"},{"location":"software/darkman/#custom-executables","title":"Custom executables","text":"<p>For additional application support, custom executables (including simple shell scripts) can be placed in the following two directories:</p> <p>\u2022$XDG_DATA_DIRS/dark-mode.d/: Scripts to run when switching to dark mode.</p> <p>\u2022$XDG_DATA_DIRS/light-mode.d/: Scripts to run when switching to light mode.</p>"},{"location":"software/darkman/#enable","title":"Enable","text":"<pre><code>systemctl --user enable --now darkman.service\n</code></pre>"},{"location":"software/darkman/#disable","title":"Disable","text":"<pre><code>systemctl --user disable --now darkman\n</code></pre>"},{"location":"software/date/","title":"date","text":"<pre><code>timestamp=$(date +%Y%m%dT%H%M%S%z)\n</code></pre>"},{"location":"software/date/#convert-various-formats-to-iso-8601","title":"Convert various formats to ISO-8601","text":"<p>$ echo \"Sep 24 03:30:00 2023\" | xargs -I {} date -d \"{}\" --iso-8601=seconds 2023-09-24T03:30:00+10:00</p>"},{"location":"software/date/#from-epoch","title":"From epoch","text":"<pre><code>$ date -d @1361234760\nTue Feb 19 11:46:00 2013\n</code></pre>"},{"location":"software/date/#replace-all-epoch-timestamps-in-a-file-with-human-readable","title":"Replace all epoch timestamps in a file with Human Readable","text":"<pre><code>$ echo foo,1361234760,bar | perl -pe 's/(\\d+)/localtime($1)/e'\nfoo,Tue Feb 19 11:46:00 2013,bar\n</code></pre>"},{"location":"software/disk/","title":"disk","text":""},{"location":"software/disk/#identification","title":"identification","text":""},{"location":"software/disk/#spinning-platters-or-ssd","title":"Spinning platters or SSD","text":"<pre><code>$ cat /sys/block/sda/queue/rotational\n1\n$ cat /sys/block/nvme1n1/queue/rotational\n0\n\n$ lsblk -d -o name,rota\nNAME    ROTA\nsda        1\nsr0        1\nnvme0n1    0\nnvme1n1    0\nnvme2n1    0\nnvme3n1    0\nnvme4n1    0\nnvme5n1    0\nnvme6n1    0\nnvme7n1    0\n</code></pre>"},{"location":"software/disk/#performance","title":"Performance","text":""},{"location":"software/disk/#gnome-disks","title":"Gnome Disks","text":"<p>Quick an easy way to test performance.</p> <ul> <li>Note: it unmounts disk before check - won't work on root disk</li> </ul> <p></p>"},{"location":"software/disk/#hdparm","title":"hdparm","text":"<p>Install:</p> <pre><code>sudo yum -y install hdparm\n</code></pre> <p>Check disk speed:</p> <pre><code>[m@x2 ~]$ sudo hdparm -tT /dev/dm-1\n\n/dev/dm-1:\n Timing cached reads:   30464 MB in  2.00 seconds = 15258.62 MB/sec\n Timing buffered disk reads:  62 MB in  4.26 seconds =  14.54 MB/sec\n</code></pre>"},{"location":"software/disk/#fio","title":"fio","text":"<ul> <li>Welcome to FIO\u2019s documentation! \u2014 fio 3.32-43-g0ebd3-dirty documentation (fio.readthedocs.io)</li> <li>How fast are your disks Find out the open source way, with fio  Ars Technica (arstechnica.com)</li> </ul> <p>https://arstechnica.com/gadgets/2020/02/how-fast-are-your-disks-find-out-the-open-source-way-with-fio/</p>"},{"location":"software/disk/#single-4kib-random-write-process","title":"Single 4KiB random write process","text":"<pre><code>fio --name=random-write --ioengine=posixaio --rw=randwrite \\\n  --bs=4k --size=4g --numjobs=1 --iodepth=1 --runtime=60 \\\n  --time_based --end_fsync=1\n</code></pre> <p>mtnug-fio-4gx1.txt:          WRITE: bw=170MiB/s (178MB/s) mtnug-vm-volt-fio-4gx1.txt:  WRITE: bw=63.5MiB/s (66.6MB/s)</p> <pre><code># 16 parallel 64KiB random write processes\nfio --name=random-write --ioengine=posixaio --rw=randwrite    \\\n  --bs=64k --size=256m --numjobs=16 --iodepth=16 --runtime=60 \\\n  --time_based --end_fsync=1\n</code></pre> <p>mtnug-fio-64k256m1616.txt:          WRITE: bw=3365MiB/s (3528MB/s) mtnug-vm-volt-fio-64k256m1616.txt:  WRITE: bw=1870MiB/s (1961MB/s)</p> <pre><code># Single 1MiB random write process\nfio --name=random-write --ioengine=posixaio --rw=randwrite \\\n  --bs=1m --size=16g --numjobs=1 --iodepth=1 --runtime=60  \\\n  --time_based --end_fsync=1\n</code></pre> <p>mtnug-fio-1m16g11.txt:          WRITE: bw=681MiB/s (714MB/s) mtnug-vm-volt-fio-1m16g11.txt:  WRITE: bw=663MiB/s (696MB/s)</p>"},{"location":"software/disk/#dd","title":"dd","text":"<p>https://www.cyberciti.biz/faq/howto-linux-unix-test-disk-performance-with-dd-command/</p> <p>Use the dd command to measure server throughput (write speed):</p> <pre><code>dd if=/dev/zero of=test1.img bs=1G count=1 oflag=dsync\n</code></pre> <p>Use the dd command to measure server latency:</p> <pre><code>dd if=/dev/zero of=test2.img bs=512 count=1000 oflag=dsync\n</code></pre> <p>[root@ojnsdsrv01 data]# dd if=/dev/zero of=/data/test1.img bs=1G count=1 oflag=dsync 1+0 records in 1+0 records out 1073741824 bytes (1.1 GB) copied, 4.1452 s, 259 MB/s</p> <p>fio</p> <p>measuring disk performance</p>"},{"location":"software/dnf/","title":"dnf","text":"<p>Package manager for redhat / fedora linux.</p> <p>TODO: Extract common tasks out into a cross platform doc (dnf, yum, apt, brew)</p> <p>Automatic Updates</p>"},{"location":"software/dnf/#handy-commands","title":"Handy Commands","text":"<p>Install even if some not found: `sudo dnf install --skip-broken $(cat ./fedora-packages.txt)``</p>"},{"location":"software/dnf/#config","title":"Config","text":"<p>Setup automatic updates:</p> <pre><code>sudo dnf install dnf-automatic\nsudo systemctl enable --now dnf-automatic.timer\n</code></pre>"},{"location":"software/dnf/#usage","title":"Usage","text":""},{"location":"software/dnf/#commands","title":"Commands","text":"<p>Check status of timers: `systemctl list-timers dnf-*</p>"},{"location":"software/dnf/#find-package-that-provides-file","title":"Find package that provides file","text":"<pre><code>$ dnf provides symlinks\nLast metadata expiration check: 0:22:13 ago on Wed 24 Apr 2024 09:18:31.\nsymlinks-1.7-8.fc38.x86_64 : A utility which maintains a system's symbolic links\nRepo        : @System\nMatched from:\nProvide    : symlinks = 1.7-8.fc38\n\nsymlinks-1.7-8.fc38.x86_64 : A utility which maintains a system's symbolic links\nRepo        : fedora\nMatched from:\nProvide    : symlinks = 1.7-8.fc38\n</code></pre>"},{"location":"software/dnf/#package-cache-updates","title":"Package cache updates:","text":"<p>metadata_expire:  - dnf: <code>dnf config-manager --dump | grep metadata_expire</code> - yum repos: <code>grep metadata_expire /etc/yum.repos.d/*</code></p> <p>Schedule cache updates:</p> <p>cronjob-add (part of mt-public) adds to personal crontab if missing</p> <ul> <li>dnf: <code>cronjob-add '0 */4 * * * /usr/bin/dnf makecache -q &gt;&gt; /var/log/dnf-makecache.log 2&gt;&amp;1'</code> </li> <li>apt: <code>cronjob-add '0 3 * * * /usr/bin/apt update -qq &gt; /var/log/apt-update.log 2&gt;&amp;1</code></li> </ul>"},{"location":"software/dnf/#list-installed-packages","title":"List installed packages:","text":"<pre><code>$ dnf list installed transmission # filter on names\nInstalled Packages\ntransmission.x86_64                       4.0.3-2.fc38                       @updates\n</code></pre>"},{"location":"software/dnf/#list-files-in-package","title":"List files in package:","text":"<p>Installed package:</p> <pre><code>$ rpm -ql \"transmission-daemon\"\n/usr/bin/transmission-daemon\n/usr/lib/.build-id\n/usr/lib/.build-id/5d\n/usr/lib/.build-id/5d/7136e31ef44ad8f3e2339ecfcbb9a80f27ff70\n/usr/lib/systemd/system/transmission-daemon.service\n/usr/share/man/man1/transmission-daemon.1.gz\n/var/lib/transmission\n</code></pre> <p>Remote package (slow):</p> <pre><code>$ dnf repoquery -l transmission-daemon\n</code></pre>"},{"location":"software/etckeeper/","title":"etckeeper","text":"<p>etckeeper creates a git repo in /etc and automatically commits the work of scoundrels who make config changes in prod.</p> <ul> <li>etckeeper.branchable.com</li> </ul>"},{"location":"software/etckeeper/#fedora","title":"Fedora","text":"<pre><code>sudo dnf -y install etckeeper\n\ngit config --global user.email || git config --global user.email \"you@example.com\"\ngit config --global user.name || git config --global user.name \"Your Name\"\n\netckeeper init\netckeeper vcs status\netckeeper vcs commit -m 'msg'\n</code></pre>"},{"location":"software/etckeeper/#redhat","title":"Redhat","text":"<pre><code>sudo yum install etckeeper\ncd /etc\nsudo etckeeper init\nsudo etckeeper commit \"First commit of my /etc directory\"\n</code></pre>"},{"location":"software/etckeeper/#ubuntu","title":"ubuntu","text":"<pre><code>sudo apt install etckeeper\n</code></pre> <ul> <li> <p>ubuntu doc</p> </li> <li> <p>raspberry-pi-os</p> </li> </ul>"},{"location":"software/fd-find/","title":"fd","text":"<p>A simple, fast and user-friendly alternative to 'find' (github.com/sharkdp/fd)</p> <ul> <li>Intuitive syntax: fd PATTERN instead of find -iname 'PATTERN'.</li> <li>Regular expression (default) and glob-based patterns.</li> <li>Very fast due to parallelized directory traversal.</li> <li>Uses colors to highlight different file types (same as ls).</li> <li>Supports parallel command execution</li> <li>Smart case: the search is case-insensitive by default. It switches to case-sensitive if the pattern contains an uppercase character*.</li> <li>Ignores hidden directories and files, by default.</li> <li>Ignores patterns from your .gitignore, by default.</li> <li>The command name is 50% shorter* than find :-).</li> </ul>"},{"location":"software/fd-find/#install","title":"Install","text":"<pre><code>dnf install fd-find\n</code></pre>"},{"location":"software/fd-find/#usage","title":"Usage","text":"<p>Search by extension:</p> <pre><code>&gt; fd -e md\nCONTRIBUTING.md\nREADME.md\n</code></pre> <p>Include hidden files:</p> <pre><code>fd -H pre-commit\n.git/hooks/pre-commit.sample\n</code></pre> <p>Command execution:</p> <pre><code>fd -e zip -x unzip # run command with each item\nfd -g 'test_*.py' -X vim # run single comand with all items\n</code></pre> <p>Filter by type:</p> <p><code>-t, --type &lt;filetype&gt;</code></p> <ul> <li>file (f)</li> <li>directory (d)</li> <li>symlink (l)</li> <li>executable (x)</li> <li>empty (e)o</li> <li>socket (s)</li> <li>pipe (p)</li> </ul>"},{"location":"software/fd-find/#using-fd-with-fzf","title":"Using <code>fd</code> with <code>fzf</code>","text":"<ul> <li>doc</li> </ul> <p>Type <code>vim &lt;Ctrl-T&gt;</code> on your terminal to open fzf and search through the fd-results</p> <pre><code>export FZF_DEFAULT_COMMAND=\"fd --type file --color=always\"\nexport FZF_DEFAULT_OPTS=\"--ansi\"\n</code></pre> <p>fzf keybindings:</p> <pre><code>if [[ -f /usr/share/fzf/shell/key-bindings.bash ]]; then\n  source /usr/share/fzf/shell/key-bindings.bash\nfi\n</code></pre>"},{"location":"software/find/","title":"find","text":"Task Command Find empty dirs <code>find . -type d -empty # -delete</code>"},{"location":"software/firewalld/","title":"firewalld","text":"<pre><code>sudo firewall-cmd --set-log-denied=all\n</code></pre> <p>value may be one of: all, unicast, broadcast, multicast, or off</p> <pre><code>sudo journalctl -x -f | grep 'DROP\\|REJECT' afterwards\n</code></pre>"},{"location":"software/fwupdate/","title":"fwupdate","text":"<p>Update firmware on fedora hosts.</p> <pre><code>sudo fwupdmgr get-updates\nsudo fwupdmgr update\n</code></pre>"},{"location":"software/fzf/","title":"fzf","text":"<p>A command-line fuzzy finder that enhances your terminal workflow.</p> <ul> <li>GitHub Repository</li> </ul>"},{"location":"software/fzf/#usage","title":"Usage","text":""},{"location":"software/fzf/#shell-keybindings","title":"Shell Keybindings","text":"<p>FZF provides three key bindings to enhance shell interaction:</p> Keybinding Description <code>Ctrl+T</code> Paste selected files/directories into command line <code>Ctrl+R</code> Search command history <code>Alt+C</code> CD into selected directory <p>Enable these bindings by adding to your <code>~/.bashrc</code> (if not enabled globally):</p> <pre><code># For Debian/Ubuntu\nsource /usr/share/doc/fzf/examples/key-bindings.bash\n\n# For Fedora/RedHat\nsource /usr/share/fzf/shell/key-bindings.bash\n</code></pre>"},{"location":"software/fzf/#installation","title":"Installation","text":""},{"location":"software/fzf/#linux","title":"Linux","text":"<pre><code># Ubuntu/Debian\nsudo apt install fzf\n\n# Fedora\nsudo dnf install fzf\n\n# Install shell extensions (recommended)\n# This adds key bindings (CTRL-T, CTRL-R, ALT-C) and fuzzy auto-completion\n/usr/share/doc/fzf/install\n</code></pre>"},{"location":"software/fzf/#macos","title":"macOS","text":"<pre><code>brew install fzf\n\n# Install shell extensions (recommended)\n# This adds key bindings (CTRL-T, CTRL-R, ALT-C) and fuzzy auto-completion\n$(brew --prefix)/opt/fzf/install\n</code></pre>"},{"location":"software/gnome/","title":"GNOME","text":"<ul> <li>gnome.org</li> </ul> <p>Screen going black after 30 seconds:</p> <pre><code>xset -dpms\n</code></pre> <ul> <li>Check GNOME version: Open the Activities overview and start typing About.</li> <li>GNOME 43 Makes It (Much) Easier to Switch Audio Device</li> </ul> <p>Turn Animations off: <code>gsettings set org.gnome.desktop.interface enable-animations false</code></p>"},{"location":"software/gnupg/","title":"GnuPG","text":"<p>GNU Privacy Guard</p> <p>List the keys a file is encrypted for:</p> <pre><code>$ gpg example.gpg\ngpg: WARNING: no command supplied.  Trying to guess what you mean ...\ngpg: encrypted with rsa2048 key, ID FFFFFFFFFFFFFFF1, created 2011-01-11\n      \"Mike 1 &lt;mike@example1.com&gt;\"\ngpg: encrypted with rsa2048 key, ID FFFFFFFFFFFFFFF2, created 2011-01-11\n      \"Mike 2 &lt;mike2@example.com&gt;\"\ngpg: encrypted with rsa4096 key, ID FFFFFFFFFFFFFFF3, created 2011-01-11\n      \"Mike 3 &lt;mike3@example.com&gt;\"\n</code></pre> <p>Edit trust on a key:</p> <pre><code>$ gpg --edit-key 0x1234567812345678\n</code></pre> <p>Import a key from github:</p> <pre><code>wget https://github.com/mbailey.gpg\ngpg --import ./mbailey.gpg\n</code></pre>"},{"location":"software/gnupg/#create-a-new-key","title":"Create a new key","text":"<ul> <li>Creating GPG Keys  Fedora Docs (docs.fedoraproject.org)</li> </ul> <pre><code>gpg --full-generate-key\n</code></pre>"},{"location":"software/gnupg/#delete-a-key","title":"Delete a key","text":"<p>Delete Public: <pre><code>gpg --list-keys\ngpg --delete-keys [key-id]\n</code></pre></p> <p>Delete Secret/Private: <pre><code>gpg --list-secret-keys\ngpg --delete-secret-keys [key-id]\n</code></pre></p>"},{"location":"software/inotify/","title":"inotify","text":"<p>Control the maximum number of watchers.</p> <ul> <li>Increasing the amount of inotify watchers (gist.github.com)</li> <li>inotify-consumers \u00b7 fatso83/dotfiles generates reports on who's using watchers</li> </ul>"},{"location":"software/inotify/#inotify-watcher-count-limit","title":"inotify watcher count limit","text":"<p>Check current limits:</p> <pre><code>$ sysctl fs.inotify\nfs.inotify.max_queued_events = 16384\nfs.inotify.max_user_instances = 128\nfs.inotify.max_user_watches = 409600\n</code></pre> <p>Count opened files:</p> <pre><code>lsof | grep inotify | wc -l\n</code></pre> <p>Increase the limit:</p> <pre><code>echo fs.inotify.max_user_watches=524288 | \n  sudo tee /etc/sysctl.d/40-max-user-watches.conf &amp;&amp; \n  sudo sysctl --system\n</code></pre> <pre><code>echo \"fs.inotify.max_user_watches=409600\" | sudo tee -a /etc/sysctl.conf\n</code></pre> <p>Check who's using them all:</p> <pre><code>$ bin/inotify-consumers \n\n   INOTIFY   INSTANCES\n   WATCHES      PER   \n    COUNT     PROCESS   PID USER         COMMAND\n------------------------------------------------------------\n   26730         1        2815 m           /usr/bin/syncthing serve --no-browser --logfile=default\n    5374         1        3900 m           /usr/libexec/tracker-miner-fs-3\n&lt;snip&gt;\n   35051  WATCHES TOTAL COUNT\n\nINotify instances per user (e.g. limits specified by fs.inotify.max_user_instances): \n\nINSTANCES    USER\n-----------  ------------------\n65           m\n</code></pre> <p>/proc interfaces</p> <pre><code>     The following interfaces can be used to limit the amount of\n     kernel memory consumed by inotify:\n\n     /proc/sys/fs/inotify/max_queued_events\n            The value in this file is used when an application calls\n            inotify_init(2) to set an upper limit on the number of\n            events that can be queued to the corresponding inotify\n            instance.  Events in excess of this limit are dropped, but\n            an IN_Q_OVERFLOW event is always generated.\n\n     /proc/sys/fs/inotify/max_user_instances\n            This specifies an upper limit on the number of inotify\n            instances that can be created per real user ID.\n\n     /proc/sys/fs/inotify/max_user_watches\n            This specifies an upper limit on the number of watches\n            that can be created per real user ID.\n</code></pre>"},{"location":"software/iperf/","title":"iperf","text":"<p>tutorial</p>"},{"location":"software/iperf/#install","title":"Install","text":"<pre><code>sudo dnf install -y iperf3\n</code></pre>"},{"location":"software/iperf/#usage","title":"Usage","text":"<pre><code>[s1] iperf3 -s\n[s2] iperf3 -c s1\n</code></pre>"},{"location":"software/keyboard-shortcuts/","title":"Keyboard Shortcuts","text":"<p>Use a consistent set  ofkeyboard shortcuts across operating systems and applications.</p> <ul> <li> <p>Some of these may be wrong.</p> </li> <li> <p> Ctrl-Tab: cycle through tabs (Windows Terminal). Check others</p> </li> </ul>"},{"location":"software/keyboard-shortcuts/#questions","title":"Questions","text":"<ul> <li>What key prefixes are free / reserved for users to define across OS / Application?</li> </ul>"},{"location":"software/keyboard-shortcuts/#contents","title":"Contents","text":"<ul> <li>Markdown</li> <li>OS</li> <li>Window</li> <li>Terminal (Emacs <code>Meta key</code> combinations)</li> <li>Application</li> </ul>"},{"location":"software/keyboard-shortcuts/#markdown","title":"Markdown","text":"<p>Custom shortcuts to use on Obsidian and Visual Studio Code.</p> <ul> <li>TODO: Update to have columns for Apps (obsidian, vscode, neovim)</li> </ul> Command App Default Key Custom Key Cycle bullet/checkbox Obsidian Shift + Alt + C Extract heading Obsidian Alt + E H0 (Remove Heading) Obsidian Alt + 0 H1, H2, H3, H4, H5, H6 Obsidian Alt + 1 (2,3,4,5,6) Source Mode Obsidian Alt + S Toggle bold Code / Obsidian Ctrl / Cmd + B Alt + B (Obsidian) Toggle checkbox Code / Obsidian Alt + C Alt + C (Obsidian) Insert code block Obsidian Alt + X Toggle code block (Markdown All in One) Code Option + m, Option + x Shift +Alt + X Toggle heading (downlevel) Code Ctrl\u00a0/ Cmd+\u00a0Shift\u00a0+\u00a0[ Toggle heading (uplevel) Code Ctrl\u00a0/ Cmd+\u00a0Shift\u00a0+\u00a0] Toggle italic Code / Obsidian Ctrl / Cmd + I"},{"location":"software/keyboard-shortcuts/#os","title":"OS","text":"Action Linux Windows Mac Lock Screen <code>Super</code> + <code>L</code> <code>Win</code> + <code>L</code> <code>Cmd</code> + <code>Ctrl</code> + <code>Q</code> Task Manager <code>Ctrl</code> + <code>Alt</code> + <code>Del</code> <code>Ctrl</code> + <code>Shift</code> + <code>Esc</code> Varies Terminal/Open Console <code>Ctrl</code> + <code>Alt</code> + <code>T</code> <code>Win</code> + <code>X</code>, then <code>C</code> <code>Cmd</code> + <code>Space</code>, then <code>Terminal</code> Quit Application <code>Ctrl</code> + <code>Q</code> <code>Alt</code> + <code>F4</code> <code>Cmd</code> + <code>Q</code> Show dotfiles <code>Ctrl</code> + <code>H</code> <code>Cmd</code> + <code>Shift</code> + <code>+</code> + <code>.</code>"},{"location":"software/keyboard-shortcuts/#window","title":"Window","text":"Action Linux (GNOME) Windows macOS Switch between windows Alt + Tab Alt + Tab Cmd + Tab Switch between app windows Alt + <code>(backtick)           | Super + Tab                      | Cmd +</code> (backtick) Maximize window Super + Up Super + Up Control + Cmd + F Minimize window Super + H Super + Down Cmd + M Move window left/right Super + Left/Right Super + Left/Right - Move window to corner Super + Alt + Numpad Super + Arrow keys (combination) - Move window to another monitor Super + Shift + Left/Right Super + Shift + Left/Right Control + Cmd + Left/Right Show desktop Super + D Super + D F11 or Cmd + F3 Close window Alt + F4 Alt + F4 Cmd + W Snap window to half screen Super + Left/Right Super + Left/Right - Snap window to quarter screen Super + Alt + Numpad Super + Arrow keys (combination) - Full screen (not maximized) F11 F11 Control + Cmd + F Cycle through windows Alt + Esc Alt + Esc - Show all windows (Expos\u00e9) Super Super + Tab (Task View) Control + Up (Mission Control) Show application windows Super + W Not built-in Control + Down Move window to workspace Super + Shift + Page Up/Down - Control + Cmd + Up/Down Switch workspace Super + Page Up/Down - Control + Left/Right"},{"location":"software/keyboard-shortcuts/#tabs","title":"Tabs","text":"Action Linux Windows macOS Next Tab Ctrl + Tab Ctrl + Tab Cmd + Shift + ] Previous Tab Ctrl + Shift + Tab Ctrl + Shift + Tab Cmd + Shift + [ Switch to Tab 1-8 Ctrl + 1-8 Ctrl + 1-8 Cmd + 1-8 Switch to Last Tab Ctrl + 9 Ctrl + 9 Cmd + 9 Close Tab Ctrl + W Ctrl + W Cmd + W New Tab Ctrl + T Ctrl + T Cmd + T Reopen Closed Tab Ctrl + Shift + T Ctrl + Shift + T Cmd + Shift + T"},{"location":"software/keyboard-shortcuts/#application","title":"Application","text":"<p>Many applications follow these conventions.</p> Action Linux Windows Mac Settings <code>Ctrl</code> + <code>,</code> or <code>Ctrl</code> + <code>P</code> <code>Ctrl</code> + <code>,</code> <code>Cmd</code> + <code>,</code> Copy <code>Ctrl</code> + <code>C</code> <code>Cmd</code> + <code>C</code> Paste <code>Ctrl</code> + <code>V</code> <code>Cmd</code> + <code>V</code> Undo <code>Ctrl</code> + <code>Z</code> <code>Cmd</code> + <code>Z</code> Save <code>Ctrl</code> + <code>S</code> <code>Cmd</code> + <code>S</code> Find <code>Ctrl</code> + <code>F</code> <code>Cmd</code> + <code>F</code> Cut <code>Ctrl</code> + <code>X</code> <code>Cmd</code> + <code>X</code> Redo <code>Ctrl</code> + <code>Shift</code> + <code>Z</code> <code>Ctrl</code> + <code>Cmd</code> + <code>Shift</code> + <code>Z</code> Open <code>Ctrl</code> + <code>O</code> <code>Cmd</code> + <code>O</code>"},{"location":"software/keyboard-shortcuts/#terminal","title":"Terminal","text":"<p>(Emacs <code>Meta key</code> combinations)</p>"},{"location":"software/keyboard-shortcuts/#macos","title":"macOS","text":""},{"location":"software/keyboard-shortcuts/#use-alt-key-as-meta","title":"Use <code>alt</code> key as Meta","text":"<p>Terminal App: Settings -&gt; Profiles -&gt; Keyboard -&gt; Use Option as Meta Key</p>"},{"location":"software/keyboard-shortcuts/#keyboard-shortcuts_1","title":"Keyboard Shortcuts","text":"<p>Delete previous word: <code>Ctrl</code> + <code>W</code></p>"},{"location":"software/keyboard-shortcuts/#see-also","title":"See also","text":"<ul> <li>Slack keyboard shortcuts</li> </ul>"},{"location":"software/kvm/","title":"kvm notes","text":"<ul> <li>12.4.3. Creating an LVM-based Storage Pool with virsh Red Hat Enterprise Linux 6  Red Hat Customer Portal (access.redhat.com)</li> </ul>"},{"location":"software/kvm/#install-fedora-36","title":"Install (fedora-36)","text":"<pre><code>sudo yum install -y                \\\n      guestfs-tools                \\\n      libvirt                      \\\n      libvirt-client               \\\n      libvirt-dbus                 \\\n      policycoreutils-python-utils \\\n      qemu-kvm                     \\\n      virt-install                 \\\n      virt-manager                 \\\n      virt-viewer                  \\\n\nsudo systemctl enable --now libvirtd.service # required?\n</code></pre> <p>investigate #todo - [] bridge-utils - [] dnsmasq - [] openbsd-netcat - [] vde2</p>"},{"location":"software/kvm/#manage-guest-domains-as-a-non-root-user","title":"Manage guest domains as a non-root user","text":"<p>Membership of <code>libvirt</code> group allows you to use <code>virsh</code> (CLI) and <code>virt-manager</code> (GUI) as your normal user.</p> <pre><code>sudo getent group | grep libvirt\nsudo usermod -a -G libvirt $(whoami)\nnewgrp libvirt\nid $(whoami)\n\n# uncomment the following two lines\n# /etc/libvirt/libvirtd.conf\nunix_sock_group = \"libvirt\"\nunix_sock_rw_perms = \"0770\"\n\nsudo systemctl restart libvirtd.service\n</code></pre>"},{"location":"software/kvm/#fix-ip-address-via-dhcp","title":"Fix ip address via DHCP","text":"<ul> <li> <p>dhcp - KVMlibvirt How to configure static guest IP addresses on the virtualisation host - Server Fault (serverfault.com)</p> <p>virsh  dumpxml  $VM | grep 'mac address' virsh  net-list virsh  net-edit  $NETWORK_NAME    # Probably \"default\"       virsh  net-destroy  $NETWORK_NAME virsh  net-start    $NETWORK_NAME systemctl stop libvirtd killall dnsmasq systemctl start libvirtd virsh reboot $VM</p> </li> </ul>"},{"location":"software/kvm/#convert-qcow-to-raw-not-sparse","title":"convert qcow to raw (not sparse)","text":"<pre><code>virsh shutdown &lt;vmname&gt;\n\nqemu-img convert -S 0 -f qcow2 -O raw image.qcow2 image.raw\n\nvirsh edit &lt;vmname&gt;\n</code></pre>"},{"location":"software/kvm/#create-live-snapshot","title":"Create live snapshot","text":"<pre><code>virsh snapshot-create-as \\\n    --live                 \\\n    --domain centos7.0     \\\n    --name \"20220222\"      \\\n    --description \"Snapshot before restarting with updates\"\n</code></pre>"},{"location":"software/kvm/#make-virsh-default-to-system-instead-of-session","title":"Make virsh default to system instead of session","text":"<pre><code>#/etc/libvirt/libvirt.conf\n#\n# These can be used in cases when no URI is supplied by the application\n# (@uri_default also prevents probing of the hypervisor driver).\n#\nuri_default = \"qemu:///system\"\n</code></pre>"},{"location":"software/kvm/#just-for-one-user-bashrc","title":"just for one user (~/.bashrc)","text":"<pre><code>export LIBVIRT_DEFAULT_URI=\"qemu:///system\"\n</code></pre>"},{"location":"software/kvm/#remote-admin","title":"Remote admin","text":"<p>virsh -c qemu+ssh://root@server01/system</p>"},{"location":"software/kvm/#edit-vm-config","title":"Edit VM config","text":"<pre><code>virsh edit server01\n</code></pre>"},{"location":"software/kvm/#remote-support","title":"remote support","text":"<p>https://libvirt.org/remote.html</p>"},{"location":"software/kvm/#define-storage-pools","title":"define storage pools","text":"<p>https://linuxconfig.org/configure-default-kvm-virtual-storage-on-redhat-linux</p> <pre><code>mkdir -p /data/libvirt/images\nyum install -y policycoreutils-python-utils\nsemanage fcontext -t virt_image_t -a '/data/libvirt/images(/.*)?'\nrestorecon /data/libvirt/images/\nrmdir /var/lib/libvirt/images/\nln -sf /data/libvirt/images/ /var/lib/libvirt/images\n</code></pre> <p>https://serverfault.com/questions/840519/how-to-change-the-default-storage-pool-from-libvirt</p> <p>virsh pool-destroy images virsh pool-undefine images virsh pool-destroy libvirt virsh pool-undefine libvirt virsh pool-destroy volumes virsh pool-undefine libvirt</p> <p>replace default virsh pool-destroy default virsh pool-undefine default sudo mkdir /home/libvirt/images</p> <p>virsh pool-define-as --name default --type dir --target /home/libvirt/images</p> <p>virsh pool-autostart default</p> <p>virsh pool-start default</p> <pre><code># $ virsh pool-list\n\n# Name                 State      Autostart\n\n# -------------------------------------------\n\n# default              active     yes\n\n## networks\n\n    tree /etc/libvirt/qemu/networks\n    /etc/libvirt/qemu/networks\n    \u251c\u2500\u2500 autostart\n    \u2502\u00a0\u00a0 \u2514\u2500\u2500 default.xml -&gt; ../default.xml\n    \u2514\u2500\u2500 default.xml\n\n## recreate default network\n</code></pre> <p>https://wiki.libvirt.org/page/Networking#NAT_forwarding_.28aka_.22virtual_networks.22.29</p> <pre><code># virsh net-define /usr/share/libvirt/networks/default.xml\nNetwork default defined from /usr/share/libvirt/networks/default.xml\n# virsh net-autostart default\nNetwork default marked as autostarted\n# virsh net-start default\nNetwork default started\n</code></pre>"},{"location":"software/kvm/#fix-for-issue-machines-list-is-empty","title":"Fix for issue 'machines list is empty'","text":""},{"location":"software/kvm/#httpsgithubcomcockpit-projectcockpitissues13343","title":"https://github.com/cockpit-project/cockpit/issues/13343","text":"<p>sudo usermod -a -G libvirt libvirtdbus</p>"},{"location":"software/kvm/#list-pci-things-for-passthrough","title":"list pci things for passthrough","text":"<ul> <li>https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/5/html/virtualization/sect-virtualization-adding_a_pci_device_to_a_host_with_virt_install)</li> <li>https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/6/html/virtualization_administration_guide/chap-guest_virtual_machine_device_configuration</li> </ul> <p>virsh nodedev-list --tree</p>"},{"location":"software/kvm/#assign-static-guest-ip","title":"Assign static guest IP","text":"<pre><code>virsh net-list\nvirsh net-dumpxml default\nvirsh dumpxml centos7 | grep -i '&lt;mac'\n# &lt;mac address='52:54:00:4c:40:1c'/&gt;\nvirsh net-edit default\n# &lt;dhcp&gt;\n#   &lt;range start='192.168.122.100' end='192.168.122.254'/&gt;\n#   &lt;host mac='52:54:00:a0:cc:19' name='centos7' ip='192.168.122.2'/&gt;\nvirsh net-destroy default\nvirsh net-start default\nvirsh shutdown example-vm\n# /etc/init.d/libvirt-bin restart # or\nsystemctl restart libvirtd\nvirsh start example-vm\n</code></pre>"},{"location":"software/kvm/#cloud-config","title":"cloud-config","text":"<p>package_upgrade: true groups:</p> <ul> <li>wheel users:</li> <li>name: m     groups: wheel     lock_passwd: false     passwd: \\(1\\)SaltSalt$YhgRYajLPrYevs14poKBQ0     shell: /bin/bash     sudo: ['ALL=(ALL) NOPASSWD:ALL']     ssh-authorized-keys:<ul> <li>ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQC60l4p184x1gziIYk0Mb2QA4zCFdyia/bJ+VwuISB8446+CayEa7DxBHxKayvyqy4hIwhkTML39C99+cnrfiOtYeh2lsunbVp/JRunF/94w4UubQSbdb9Kd8DXCiEVlh2JmwOEs2rZFyiMlztOnGPZPDDaLwpQJ+HuktbdnAEX83EZcE+ZbcJlg+OMo4G1EYo/s8bOWHdq0l0j/onbsZtbQ6+U4jdmiTBR8CXRsXH/WFIknIeKgDScr+CoSubFijHFqmvF8ORhK0mgsRpcvTCirDw7ht3EiuqegH55oqNfbKEJ4WbCyU2YN6bkjNKJHZWW5NNtOC8w2rRnGPU2TdXUZfG6j7zeOCvgWNmrajYYAB404jfaBN4pMhrR+W/zbyyGJ7aOpVJocZxK1FojeiBiXRlujR5UiWY90YSiH9e7aXm0Hd9ENfbgFQodksG9Z64ReoUFG502QAGAhq7iM9u/KxsCf6WIb4VROMZt06xc6XDdy/4Bf8gCjkizFXD+Dv8= mikebailey@localhost.localdomain</li> </ul> </li> </ul>"},{"location":"software/kvm/#install","title":"Install","text":"<p>sudo dnf  groupinstall Virtualization</p>"},{"location":"software/kvm/#configure","title":"Configure","text":"<p>$ ifconfig virbr0 virbr0: flags=4163  mtu 1500         inet 192.168.122.1  netmask 255.255.255.0  broadcast 192.168.122.255         ether 52:54:00:85:8f:56  txqueuelen 1000  (Ethernet)         RX packets 0  bytes 0 (0.0 B)         RX errors 0  dropped 0  overruns 0  frame 0         TX packets 9  bytes 793 (793.0 B)         TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0"},{"location":"software/kvm/#control-vms","title":"Control VMs","text":"<p>virsh list --domain centos8 virsh start --domain centos8 virsh dominfo centos8</p> <p>virsh edit /etc/libvirt/qemu/ubuntu20.04-2.xml virsh create /etc/libvirt/qemu/ubuntu20.04-2.xml</p>"},{"location":"software/kvm/#clone","title":"Clone","text":"<p>virt-clone                           \\   --original=server1.linuxconfig.org \\   --name=server2.linuxconfig.org     \\   --auto-clone</p>"},{"location":"software/kvm/#virsh","title":"virsh","text":""},{"location":"software/kvm/#connect-to-a-remote-host-youll-need-access-for-your-user-setup","title":"connect to a remote host - you'll need access for your user setup","text":"<pre><code>virsh -c qemu+ssh://baileym@mtngh1/system\n</code></pre>"},{"location":"software/kvm/#turn-autostart-onoff","title":"Turn autostart on/off","text":"<pre><code>virsh autostart VMNameHere\n\nvirsh autostart VMNameHere --disable\n</code></pre>"},{"location":"software/kvm/#libvirt","title":"libvirt","text":""},{"location":"software/kvm/#remote-virt-viewer","title":"## remote virt-viewer","text":"<p>virt-viewer --connect qemu+ssh://mtnug1/system mtnug-rvsgw1</p>"},{"location":"software/kvm/#unattended-install-using-kickstart-file","title":"Unattended install using kickstart file","text":"<p>virt-install \\   --connect qemu:///system \\   --name deleteme \\   --memory 4096 \\   --vcpus 2 \\   --disk size=100 \\   --location /var/lib/libvirt/iso/CentOS-7-x86_64-Minimal-2009.iso \\   --os-variant rhel7.0 \\   --initrd-inject ks.cfg \\   --extra-args=\"ks=file:/ks.cfg console=tty0 console=ttyS0,115200n8\"</p> <p># --connect qemu+ssh://mtnug1/system \\</p> <pre><code># cleanup\n# virsh shutdown mtnug-rvsgw1\n# virsh undefine mtnug-rvsgw1\n</code></pre>"},{"location":"software/kvm/#use-virt-manager-as-a-non-root-user","title":"Use virt-manager as a non-root user","text":"<pre><code>sudo getent group | grep libvirt\nsudo usermod -a -G libvirt $(whoami)\nnewgrp libvirt\nid $(whoami)\n\n# uncomment the following two lines\n# /etc/libvirt/libvirtd.conf\nunix_sock_group = \"libvirt\"\nunix_sock_rw_perms = \"0770\"\n\nsudo systemctl restart libvirtd.service\n</code></pre>"},{"location":"software/kvm/#make-virsh-default-to-system-instead-of-session_1","title":"make virsh default to system instead of session","text":"<pre><code>#/etc/libvirt/libvirt.conf\n#\n# These can be used in cases when no URI is supplied by the application\n# (@uri_default also prevents probing of the hypervisor driver).\n#\nuri_default = \"qemu:///system\"\n</code></pre>"},{"location":"software/kvm/#just-for-one-user-bashrc_1","title":"just for one user (~/.bashrc)","text":"<pre><code>export LIBVIRT_DEFAULT_URI=\"qemu:///system\"\n</code></pre>"},{"location":"software/kvm/#change-password-in-qcow-image","title":"change password in qcow image","text":"<pre><code>virt-customize -a rhel-guest-image-7.2-20160302.0.x86_64.qcow2 \\\n               --root-password password:PASSW0RD \\\n               --uninstall cloud-init\n</code></pre>"},{"location":"software/kvm/#see-also","title":"See also","text":"<ul> <li>virsh</li> </ul>"},{"location":"software/llm/","title":"llm CLI tool","text":"<ul> <li>LLM A CLI utility and Python library for interacting with Large Language Models (llm.datasette.io)</li> <li>Changelog - LLM (llm.datasette.io)</li> <li> <p>Prompt templates - LLM (llm.datasette.io)</p> </li> <li> <p>llm-cool-commands</p> </li> </ul> <p>llm prompt \"how to restart prometheus as I have updated the config file that is shared to the container: $(&lt;docker-compose.yml)\" </p>"},{"location":"software/llm/#installation","title":"Installation","text":"<pre><code># Install\npipx install llm\nllm install llm-cmd llm-claude-3 llm-ollama\n</code></pre>"},{"location":"software/llm/#usage","title":"Usage","text":""},{"location":"software/llm/#set-model","title":"Set model","text":""},{"location":"software/llm/#natural-language-commands","title":"Natural Language Commands","text":"<pre><code> llm cmd \"delete all files returned by this command, respecting that some have spaces in filenames and it's linux: fd Leopold\"\n&gt; fd Leopold -X rm -f {}\n</code></pre>"},{"location":"software/llm/#chat","title":"Chat","text":"<pre><code># Chat with history\nllm chat --model claude-3.5-sonnet --history previous_chat.json \"your message\"\n</code></pre>"},{"location":"software/llm/#list-models","title":"List models","text":"<pre><code>$ llm models\nOpenAI Chat: gpt-4-turbo (aliases: gpt-4-turbo-preview, 4-turbo, 4t)\nOpenAI Chat: gpt-4o (aliases: 4o)\nOpenAI Chat: gpt-4o-mini (aliases: 4o-mini)\nOpenAI Chat: o1-preview\nOpenAI Chat: o1-mini\nOpenAI Completion: gpt-3.5-turbo-instruct (aliases: 3.5-instruct, chatgpt-instruct)\nAnthropic Messages: claude-3-opus-20240229 (aliases: claude-3-opus)\nAnthropic Messages: claude-3-sonnet-20240229 (aliases: claude-3-sonnet)\nAnthropic Messages: claude-3-haiku-20240307 (aliases: claude-3-haiku)\nAnthropic Messages: claude-3-5-sonnet-20240620 (aliases: claude-3.5-sonnet)\nOllama: llama3.2:latest (aliases: llama3.2)\nOllama: llama3.1:70b\n</code></pre>"},{"location":"software/llm/#run-a-command","title":"Run a Command","text":"<pre><code>llm cmd list files in /tmp\n&gt; ls /tmp\n</code></pre>"},{"location":"software/llm/#embed","title":"Embed","text":"<pre><code>llm embed -m 3-small -c \"Hello there\"\n</code></pre>"},{"location":"software/ls/","title":"ls","text":"<pre><code>$ ls -1rt\noldest.mp3\nnewer-dir\nnewest-file.mp3\n</code></pre>"},{"location":"software/lvm/","title":"Lvm","text":"<p>Logical Volume Manager</p> <ul> <li><code>pvs</code>: list physical volumes</li> <li><code>vgs</code>: list volume groups</li> <li><code>lvs</code>: list logical volumes</li> </ul>"},{"location":"software/lvm/#lvm","title":"lvm","text":""},{"location":"software/lvm/#create-and-mount-volume","title":"Create and mount volume","text":"<pre><code>lvcreate -n syncthing-lv -L 600g ubuntu-vg\nmkfs.ext4 /dev/ubuntu-vg/syncthing-lv\n</code></pre>"},{"location":"software/lvm/#use-all-disk","title":"use all disk","text":"<pre><code>lvextend -l +100%FREE /dev/fedora/home --resizefs\n</code></pre>"},{"location":"software/lvm/#resize","title":"resize","text":"<p>lvresize -L+100G pcap</p> <p>xfs_growfs /pcap</p>"},{"location":"software/lvm/#wipe-disk-lvm-device-devsdx-excluded-by-filter","title":"wipe disk (LVM: Device /dev/sdX excluded by filter)","text":"<pre><code>wipefs -a /dev/sda\n</code></pre>"},{"location":"software/magic-wormhole/","title":"magic-wormhole","text":"<ul> <li>magic-wormhole - get things from one computer to another, safely</li> </ul> <p>Command line tool to send files to anyone.</p> <ul> <li>Deliciously simple UI</li> <li>I've not investigated in depth yet</li> </ul>"},{"location":"software/magic-wormhole/#ideas","title":"Ideas","text":"<ul> <li>Use <code>.wormhole/</code> directory in projects to receive contributions from other machines for that dir. Globally Git Ignore .wormhole</li> </ul>"},{"location":"software/magic-wormhole/#self-hosted","title":"Self Hosted","text":"<ul> <li>Magic Wormhole Mailbox Server (github.com):  Main server Magic-Wormhole\u00a0clients connect to.</li> <li>Magic Wormhole Transit Relay (github.com):  Helps clients behind NAT establish bulk-data transit connections.</li> </ul>"},{"location":"software/magic-wormhole/#quickstart-fedora-36","title":"Quickstart (fedora-36)","text":"<pre><code>$ sudo dnf install magic-wormhole\n&lt;snip &gt;\n$ echo wormhole &gt; wormhole.text\n$ wormhole send wormhole.text\nSending 9 Bytes file named 'wormhole.text'\nWormhole code is: 9-handiwork-upset\nOn the other computer, please run:\n\nwormhole receive 9-handiwork-upset\n</code></pre>"},{"location":"software/magic-wormhole/#macos","title":"macos","text":"<pre><code>brew install magic-wormhole\n</code></pre>"},{"location":"software/magic-wormhole/#see-also","title":"See also","text":"<ul> <li>GitHub - Jacalzrymdport Cross-platform application for easy encrypted file, folder, and text sharing between devices. (github.com)</li> </ul>"},{"location":"software/make/","title":"make","text":"<ul> <li>GNU make (www.gnu.org)</li> </ul>"},{"location":"software/make/#bash-completion","title":"Bash Completion","text":"<p>Add this in your ~/.bash_profile file or ~/.bashrc file:</p> <pre><code>complete -W \"\\`grep -oE '^[a-zA-Z0-9_.-]+:([^=]|$)' ?akefile | sed 's/[^a-zA-Z0-9_.-]*$//'\\`\" make\n</code></pre>"},{"location":"software/mkdocs/","title":"MkDocs","text":"<p>Markdown based static site generator aimed at documentation (including this).</p> <p>Refs:</p> <ul> <li>MkDocs</li> <li>Getting Started with MkDocs</li> <li>Material for MkDocs<ul> <li>Sponsor squidfunk</li> </ul> </li> <li>Terminal for MkDocs.</li> </ul> <p>It's very simple:</p> <pre><code>$ mkdocs -h\nUsage: mkdocs [OPTIONS] COMMAND [ARGS]...\n\nMkDocs - Project documentation with Markdown.\n\nOptions:\n-V, --version  Show the version and exit.\n-q, --quiet    Silence warnings\n-v, --verbose  Enable verbose output\n-h, --help     Show this message and exit.\n\nCommands:\nbuild      Build the MkDocs documentation\ngh-deploy  Deploy your documentation to GitHub Pages\nnew        Create a new MkDocs project\nserve      Run the builtin development server\n</code></pre> <p>Install:</p> <pre><code>pip install mkdocs\n</code></pre> <p>Create a new project:</p> <pre><code>mkdocs new my-project\ncd my-project\n</code></pre> <p>Run:</p> <pre><code>mkdocs serve\n</code></pre> <p>Add <code>mkdocs-material</code> as a submodule:</p> <pre><code>git submodule add https://github.com/squidfunk/mkdocs-material.git\necho \"site/\" &gt;&gt; .gitignore\n</code></pre> <p>Commit:</p> <pre><code>git add .gitmodules .gitignore mkdocs-material\ngit commit -m 'Add mkdocs-material submodule'\n</code></pre> <p>If cloning the repo for the first time:</p> <pre><code>git clone --recursive https://github.com/&lt;repo-owner&gt;/&lt;repo-name&gt;.git\n</code></pre> <p>If you already have the repo, and need to pull in the submodule:</p> <pre><code>git submodule update --init\n</code></pre>"},{"location":"software/openssl/","title":"openssl","text":"<p>View details of a pem file</p> <pre><code>openssl x509 -in stunnel.pem -text -noout\n</code></pre> <p>Connect to webserver and show cert:</p> <pre><code>$ openssl s_client -servername example.com  -connect example.com:443 2&gt;/dev/null | openssl x509 -noout -dates\nnotBefore=Jun  6 00:00:00 2023 GMT\nnotAfter=Jun  5 23:59:59 2024 GMT\n</code></pre>"},{"location":"software/outlook/","title":"Outlook 365","text":"<ul> <li> Work out how to auto accept invites from certain user</li> <li>Share your Calendar with someone</li> <li>Unshare Calendar: right click on calendar and click Sharing</li> </ul>"},{"location":"software/outlook/#use-outlook-calendar-in-slack-to","title":"Use Outlook Calendar in Slack to:","text":"<p>\u2022 Create an event right from Slack using the shortcuts button. \u2022 Automatically sync your calendar to your Slack status to let your team know when you are in a meeting, out of the office, or working from home. \u2022 See a holistic view of your daily schedule from Slack. \u2022 Get notified when an event is starting soon, and join a Hangout, Zoom, Webex, or Microsoft Teams meeting directly from the calendar reminder in Slack. \u2022 RSVP directly to event invitations, get updated when an event\u2019s details change, and change your response as needed.</p>"},{"location":"software/pass/","title":"unix pass","text":"<p>Unix password store. CLI tool with GPG &amp; Git support.2</p> Action Command Add a password <code>pass insert [name]</code> Copy to clipboard <code>pass -c [name]</code> Change gpg key <code>pass init [KEYID]</code> Generate a new password <code>pass generate [name] [length]</code> Edit an existing password <code>pass edit [name]</code> Remove a password <code>pass rm [name]</code> Show password store tree <code>pass</code> Search for passwords <code>pass find [search-term]</code> <p>Find a password: <pre><code>m@x2 ~$ pass find hackmd\nSearch Terms: hackmd\n\u2514\u2500\u2500 personal\n    \u2514\u2500\u2500 services\n        \u2514\u2500\u2500 hackmd.io\n</code></pre></p>"},{"location":"software/podman/","title":"podman","text":"<ul> <li>Podman is gaining rootless overlay support  Enable Sysadmin (www.redhat.com)</li> </ul>"},{"location":"software/podman/#usage","title":"Usage","text":"<p>Tag an image:</p> <pre><code>podman tag 2064b9bc9da7 myimage:latest\n</code></pre>"},{"location":"software/podman/#install","title":"Install","text":"<pre><code>sudo dnf install -y \\\n  podman \\\n  podman-docker \\\n  podman-compose\n</code></pre>"},{"location":"software/podman/#config","title":"Config","text":""},{"location":"software/podman/#show","title":"Show","text":"<pre><code>podman info\n</code></pre> <p>Set $DOCKER_HOST for backwards compatibility with things that need it:</p> <pre><code>export DOCKER_HOST=\"unix://$(podman info --format '{{.Host.RemoteSocket.Path}}')\"\n</code></pre>"},{"location":"software/podman/#stop-telling-me-its-podman-emulating-docker","title":"Stop telling me it's Podman emulating Docker","text":"<pre><code>sudo touch /etc/containers/nodocker\n</code></pre>"},{"location":"software/podman/#default-to-dockerio-image-registry","title":"Default to docker.io image registry","text":"<pre><code>sudo vi /etc/containers/registries.conf\nregistries = ['docker.io']\n</code></pre>"},{"location":"software/podman/#see-also","title":"See also","text":"<ul> <li>Fedora 38  Podman  Install  Server World (www.server-world.info)</li> </ul>"},{"location":"software/raspberry-pi-os/","title":"Raspberry pi os","text":""},{"location":"software/raspberry-pi-os/#raspberry-pi-os","title":"Raspberry Pi OS","text":"<p>By Claude.ai</p> <p>Etckeeper is a tool that helps manage and keep track of changes to your <code>/etc</code> directory in a version control system, such as Git. This can be useful for easily tracking configuration changes on your Raspberry Pi OS. Here\u2019s how to set it up on a Raspberry Pi running Raspberry Pi OS or any Debian-based system.</p>"},{"location":"software/raspberry-pi-os/#prerequisites","title":"Prerequisites","text":"<ol> <li>You need to have Raspberry Pi OS installed.</li> <li>You should have a working internet connection.</li> <li>Basic commands for using the terminal.</li> </ol>"},{"location":"software/raspberry-pi-os/#steps-to-set-up-etckeeper","title":"Steps to Set Up etckeeper","text":"<ol> <li>Update the Package List:</li> </ol> <p>First, make sure your package list is up-to-date by running:</p> <pre><code>sudo apt update\nsudo apt upgrade\n</code></pre> <ol> <li>Install etckeeper:</li> </ol> <p>Install etckeeper by running:</p> <pre><code>sudo apt install etckeeper\n</code></pre> <ol> <li>Configure etckeeper:</li> </ol> <p>Once installed, navigate to the configuration directory:</p> <pre><code>sudo nano /etc/etckeeper/etckeeper.conf\n</code></pre> <p>Here, you can set your version control system (VCS) of choice. For example, if you want to use Git, ensure that the following line is set:</p> <pre><code>VCS=\"git\"\n</code></pre> <p>You can also adjust other configuration settings as needed. Save and exit.</p> <ol> <li>Initialize the Repository:</li> </ol> <p>After configuring etckeeper, you need to initialize the repository by running:</p> <pre><code>sudo etckeeper init\n</code></pre> <p>This command will create a new Git repository in the <code>/etc</code> directory.</p> <ol> <li>Make an Initial Commit:</li> </ol> <p>Once the repository is initialized, make an initial commit to record the current state of your <code>/etc</code> directory:</p> <pre><code>sudo etckeeper commit \"Initial etckeeper commit\"\n</code></pre> <ol> <li>Automatic Commits:</li> </ol> <p>Etckeeper can automatically commit changes made to <code>/etc</code>. By default, it can be set to auto-commit during package installs, upgrades, and removals. To enable this, ensure that the following lines are uncommented in <code>/etc/etckeeper/etckeeper.conf</code>:</p> <pre><code>AUTO_COMMIT=\"1\"\n</code></pre> <ol> <li>Cron Job (Optional):</li> </ol> <p>If you want to set up regular commits at specified intervals (e.g., daily), you can set up a cron job:</p> <pre><code>sudo crontab -e\n</code></pre> <p>Add the following line to the crontab file to run etckeeper daily. This will look for changes and commit them:</p> <pre><code>0 2 * * * /usr/bin/etckeeper commit \"Daily etckeeper commit\"\n</code></pre> <p>This example runs the job every day at 2 AM.</p> <ol> <li>Check Status:</li> </ol> <p>You can check the status of changes at any time by running:</p> <pre><code>sudo etckeeper status\n</code></pre> <ol> <li>View Commit History:</li> </ol> <p>To view the commit history, you can run:</p> <pre><code>cd /etc\nsudo git log\n</code></pre>"},{"location":"software/readline/","title":"GNU Readline: The Hidden Hero of Your Terminal \ud83e\uddb8","text":"<p>Readline is widely used but less widely understood.</p>"},{"location":"software/readline/#most-used-readline-commands","title":"Most Used Readline Commands","text":"Function Name Shortcut Description \ud83d\udcad \ud83d\udd0d reverse-search-history Ctrl-R Search command history backwards The ultimate history finder \u2b05\ufe0f beginning-of-line Ctrl-A Move to start of line Faster than holding left arrow \u27a1\ufe0f end-of-line Ctrl-E Move to end of line Better than mashing right arrow \ud83e\udd98 forward-word Alt-F Move forward one word Like Ctrl-Right in editors \ud83e\udd98 backward-word Alt-B Move backward one word Like Ctrl-Left in editors \u2702\ufe0f unix-word-rubout Ctrl-W Delete word before cursor Quicker than backspace \ud83d\uddd1\ufe0f kill-line Ctrl-K Kill text from cursor to end Perfect for rewriting commands \ud83d\udccb yank Ctrl-Y Yank previously killed text Paste what you just cut \ud83e\uddf9 clear-screen Ctrl-L Clear screen Cleaner than typing 'clear' \ud83c\udf1f yank-last-arg Alt-. Insert last arg of previous command Great for operating on same file \u21a9\ufe0f undo Ctrl-_ Undo Everyone needs an undo! \ud83d\udcdd insert-comment Alt-# Comment line &amp; move to new line Save that command for later \ud83d\udd04 exchange-point-and-mark Ctrl-XX Toggle between start &amp; cursor Great for adding sudo \ud83c\udfaf character-search Ctrl-] x Move to next character 'x' Quick character navigation \ud83d\udcdc beginning-of-history Alt-&lt; Move to first command in history Jump to the beginning \ud83d\udcdc end-of-history Alt-&gt; Move to last command in history Back to the present"},{"location":"software/readline/#pro-tips","title":"Pro Tips \ud83c\udf93","text":"<ul> <li>These function names are what you'll see in the output of <code>bind -p</code></li> <li>Use them in your <code>.inputrc</code> for custom bindings</li> <li>They're consistent across readline-using applications</li> <li>Many have both emacs and vi mode equivalents</li> </ul>"},{"location":"software/readline/#notes","title":"Notes","text":"<pre><code>$ llm cmd \"gnu readline: delete from cursor to end of lines\"\n&gt; bind-key -x '\"\\C-k\": kill-line'\n</code></pre>"},{"location":"software/rsync/","title":"rsync","text":"<p>Change user on remote host (to access their homedir):</p> <pre><code>rsync -avz --rsync-path 'sudo -u someuser rsync' somehost:files/ somehost-files/\n</code></pre> <p>Don't copy files Git ignores:</p> <pre><code>rsync -avz --filter=':- .gitignore' foo remote_host:bar\n</code></pre> <p>Create parent folders on target:</p> <pre><code>rsync -av --relative .config/Code/User/settings.json ../dotfiles-global/\n</code></pre>"},{"location":"software/rsync/#ext4-exfat","title":"ext4 -&gt; exfat","text":"<pre><code>rsync \\\n  -rtv \\\n  --progress \\\n  --modify-window=1 \\\n  --no-perms \\\n  --no-owner \\\n  --no-group \\\n  --filter='- */overlay/*' \\\n  --filter='- *overlay*' \\\n  EXT4_VOLUME EXFAT_VOLUME\n</code></pre>"},{"location":"software/screen/","title":"screen","text":"<p>screen -ls screen -S my-id ctrl-a  d         # to detach screen -R my-id   # to reattach</p>"},{"location":"software/slack-keyboard-shortcuts/","title":"Slack Keyboard Shortcuts","text":""},{"location":"software/slack-keyboard-shortcuts/#browser-overrides","title":"Browser overrides","text":"<p>I choose to override normal browser search. </p>"},{"location":"software/slack/","title":"Slack","text":"<ul> <li>Slack CLI</li> </ul>"},{"location":"software/slack/#questions","title":"Questions","text":"<ul> <li> Work out how to update slack staus with iOS Automations and Shortcuts</li> </ul>"},{"location":"software/slack/#commands","title":"Commands","text":"Action Command Comments Create a Poll (SimplePoll) /poll \"How are you avoiding dependency conflicts when installing python CLI tools?\" \"pipx\" \"system package manager (apt/brew)\" \"pip install --user\" allow-options"},{"location":"software/slack/#install","title":"Install","text":""},{"location":"software/slack/#search","title":"Search","text":"<p><code>Ctrl-G</code>: Search <code>Ctrl-F</code>: Specific Conversation</p> <p>All your posts on a certain day: <code>from:@me on:2024-01-08</code></p>"},{"location":"software/slack/#configure","title":"Configure","text":"<ul> <li>markdown support (markdownguide.org)</li> <li> <p>emoji preferences (slack.com)</p> </li> <li> <p>Preferences</p> <ul> <li>Input Options<ul> <li> When typing code with ```, Enter should not send the message</li> <li> Format messages with markup</li> </ul> </li> <li>When writing a message, press Enter to...<ul> <li> Send the message</li> <li> Start a new line</li> </ul> </li> </ul> </li> </ul>"},{"location":"software/slack/#set-your-preference-for-one-click-emoji-reactions","title":"Set your preference for one-click emoji reactions","text":"<p>One-click emoji reactions let you respond to messages in Slack almost instantly \u2013 simply hover over a message and choose from three emoji options. Owners and admins can choose default one-click reactions that you see, but you can customise them using the steps below.</p> <pre><code>From your desktop, click on your profile picture in the top right.\nSelect Preferences from the menu.\nSelect Messages &amp; media.\nUnder Emoji, tick or untick the box next to Show one-click reactions on messages. If ticked, click the boxes to select three emoji.\n</code></pre>"},{"location":"software/slack/#stop-firefox-prompting-to-open-slack-app","title":"Stop Firefox prompting to open Slack App","text":"<p>To have Firefox directly open Slack links without prompting to open the Slack app, you can modify your Firefox settings. Here's how you can achieve this:</p> <ol> <li> <p>Open Firefox and type \"about:config\" in the address bar.</p> </li> <li> <p>Accept the warning about proceeding with caution.</p> </li> <li> <p>In the search bar at the top of the about:config page, type \"protocol_handler\".</p> </li> <li> <p>Look for a preference named \"network.protocol-handler.external.slack\". If it doesn't exist, you can create it by right-clicking, selecting \"New\", and then \"Boolean\". Set its value to \"false\".</p> </li> <li> <p>Also, check for \"network.protocol-handler.warn-external.slack\" and set it to \"false\" if it exists. If not, create it as a new Boolean preference.</p> </li> </ol> <p>These changes should prevent Firefox from prompting you to open the Slack app when you click on Slack links. Instead, it will open the links directly in Firefox.</p> <p>If you still encounter issues, you might need to check your operating system's default app settings to ensure Slack links aren't automatically associated with the Slack application.</p> <p>Remember, this change will affect all Slack links, so make sure this is the behavior you want for all cases. If you need to occasionally use the Slack app for certain links, you might want to consider keeping the prompt and just selecting your preferred action each time.</p>"},{"location":"software/sqlite/","title":"sqlite","text":""},{"location":"software/sqlite/#connect","title":"Connect","text":"<pre><code>sqlite3 example.db\n</code></pre>"},{"location":"software/sqlite/#import-a-csv","title":"Import a csv","text":"<pre><code>sqlite&gt; .mode csv\nsqlite&gt; .separator \\t\nsqlite&gt; .import FILENAME TABLENAME\n</code></pre>"},{"location":"software/sqlite/#describe-things","title":"Describe things","text":"<pre><code>.tables\n\n.schema table_name\n</code></pre>"},{"location":"software/sqlite/#what-process-has-locked-that-file","title":"What process has locked that file?","text":"<pre><code>fuser superset.db\nkill -9 5430\n</code></pre>"},{"location":"software/sqlite/#unlock-db","title":"Unlock DB","text":"<pre><code>echo \".dump\" | sqlite superset.db | sqlite superset.db-new\n</code></pre>"},{"location":"software/tee/","title":"tee","text":"<pre><code>```bash\ncommand &gt; &gt;(tee -a stdout.log) 2&gt; &gt;(tee -a stderr.log &gt;&amp;2)\n</code></pre> <ul> <li>https://stackoverflow.com/a/692407</li> </ul>"},{"location":"software/third-party-software/","title":"Third Party Software","text":"<p>Things I install on my fedora workstations.</p> <ul> <li> <p>Third Party Software</p> <ul> <li>firefox<ul> <li>firefox plugins</li> </ul> </li> <li>chrome</li> <li>obsidian</li> <li>slack</li> <li> <p>vscode</p> </li> <li> <p>awscli</p> </li> <li>bash-my-aws</li> <li>darkman</li> <li> <p>syncthing</p> </li> <li> <p>dbeaver-ce</p> </li> </ul> </li> </ul> <pre><code>sudo dnf install awscli2\n</code></pre>"},{"location":"software/third-party-software/#awscli","title":"awscli","text":""},{"location":"software/third-party-software/#bash-my-aws","title":"bash-my-aws","text":"<pre><code>git clone https://github.com/bash-my-aws/bash-my-aws.git ${BMA_HOME:-$HOME/.bash-my-aws}\n# Update .bashrc if installing for the first time\n</code></pre>"},{"location":"software/third-party-software/#chrome","title":"chrome","text":"<p>Only for Microsoft Teams.</p>"},{"location":"software/third-party-software/#dbeaver-ce","title":"dbeaver-ce","text":"<pre><code>wget https://dbeaver.io/files/dbeaver-ce-latest-stable.x86_64.rpm\nsudo dnf install dbeaver-ce-latest-stable.x86_64.rpm\n</code></pre>"},{"location":"software/third-party-software/#mixxx","title":"Mixxx","text":"<p>DJ Software</p> <p>Requires RPMFusion repo</p> <pre><code>sudo dnf install -y mixxx\n</code></pre>"},{"location":"software/third-party-software/#firefox-plugins","title":"Firefox plugins","text":"<p>Firefox is far and away my favourite web browser. These plugins make it even better.</p> <p>Installed by logging into firefox account in browser.</p> <ul> <li>DarkReader</li> <li>MarkDownload</li> <li>Multi-Account Containers</li> </ul>"},{"location":"software/third-party-software/#obsidian","title":"obsidian","text":""},{"location":"software/third-party-software/#slack","title":"slack","text":"<ul> <li>Download Slack for Linux (beta)  Slack (slack.com)</li> </ul>"},{"location":"software/third-party-software/#syncthing","title":"syncthing","text":"<ul> <li>README</li> </ul>"},{"location":"software/third-party-software/#vscode","title":"vscode","text":"<pre><code>sudo rpm --import https://packages.microsoft.com/keys/microsoft.asc\n\nsudo sh -c 'echo -e \"[code]\\nname=Visual Studio Code\\nbaseurl=https://packages.microsoft.com/yumrepos/vscode\\nenabled=1\\ngpgcheck=1\\ngpgkey=https://packages.microsoft.com/keys/microsoft.asc\" &gt; /etc/yum.repos.d/vscode.repo'\n\ndnf check-update\nsudo dnf install code\n</code></pre> <ul> <li>Enable settings sync (danger?)<ul> <li>Syncs extensions (and other things).</li> </ul> </li> <li>Settings<ul> <li>window.titleBarStyle : custom # replace light titlebar with dark</li> <li>telemetry.telemetryLevel = off # opt out of telemetry</li> </ul> </li> <li>extensions<ul> <li>donjayamanne.python-extension-pack</li> </ul> </li> </ul>"},{"location":"software/tmux/","title":"tmux","text":"<p>tmux is a terminal multiplexer. It lets you switch easily between several programs in one terminal, detach them (they keep running in the background) and reattach them to a different terminal.</p> <ul> <li>tmux/tmux Wiki (github.com)</li> <li>A Quick and Easy Guide to tmux - Ham Vocke (hamvocke.com)</li> <li>Tmux Cheat Sheet &amp; Quick Reference (tmuxcheatsheet.com)</li> <li>https://unix.stackexchange.com/questions/608142/whats-the-effect-of-escape-time-in-tmux</li> </ul>"},{"location":"software/tmux/#usage","title":"Usage","text":""},{"location":"software/tmux/#commands","title":"Commands","text":"Name Purpose Example \ud83d\udd17 attach-session Connect to existing session <code>tmux attach -t mysession</code> \ud83c\udd95 new-session Create new session <code>tmux new -s mysession</code> \ud83d\udccb list-sessions Show all sessions <code>tmux ls</code> \ud83d\udeaa detach-client Leave session without ending it <code>Ctrl+b d</code> \ud83d\udcdd rename-session Change session name <code>Ctrl+b $ newname</code> \ud83d\uddd1\ufe0f kill-session End a session <code>tmux kill-session -t mysession</code> \u2b1c split-window Create new pane <code>Ctrl+b %</code> (vertical), <code>Ctrl+b \"</code> (horizontal) \ud83e\ude9f new-window Create new window <code>Ctrl+b c</code> \ud83d\udccd select-pane Switch between panes <code>Ctrl+b arrow-key</code> \ud83d\udd04 swap-pane Rearrange panes <code>Ctrl+b {</code> or <code>Ctrl+b }</code> \ud83d\udcdc copy-mode Enter scroll/copy mode <code>Ctrl+b [</code> \ud83d\udd0e find-window Search for window <code>Ctrl+b f pattern</code>"},{"location":"software/tmux/#install","title":"Install","text":"<p><code>sudo dnf install tmux</code></p>"},{"location":"software/tmux/#configure","title":"Configure","text":"<p><code>~/.tmux.conf</code> </p> <p><code>tmux source-file ~/.tmux.conf</code>: source changes without restarting session</p> <p><code>tmux new-session -d -s work -n InitialWindow</code>: Create session in detached mode</p>"},{"location":"software/vim/","title":"vim","text":""},{"location":"software/vim/#howto","title":"Howto","text":""},{"location":"software/vim/#remove-trailing-whitespace","title":"Remove trailing whitespace","text":"<ol> <li> <p>On current line: <pre><code>:s/\\s\\+$//\n</code></pre></p> </li> <li> <p>On all lines in the file: <pre><code>:%s/\\s\\+$//e\n</code></pre> (The 'e' flag prevents error messages if no trailing spaces are found)</p> </li> <li> <p>On selected lines:</p> </li> <li>First, visually select the lines (V)</li> <li>Then apply the substitution to the selection: <pre><code>:'&lt;,'&gt;s/\\s\\+$//\n</code></pre></li> </ol>"},{"location":"software/vim/#disable-modelines-security-risk","title":"Disable modelines (security risk)","text":"<p>Add to ~/.vimrc</p> <pre><code>\" [security](https://www.techrepublic.com/article/turn-off-modeline-support-in-vim/)\nset modelines=0\nset nomodeline\n</code></pre>"},{"location":"software/vim/#make-vim-default-editor","title":"Make VIM default editor","text":"<pre><code>dnf install -y --allowerasing vim-default-editor\n</code></pre>"},{"location":"software/vim/#delete-all-comments","title":"Delete all comments","text":"<pre><code>:g/^#/d\n</code></pre>"},{"location":"software/vim/#delete-all-blank-lines","title":"Delete all blank lines","text":"<pre><code>:g/^$/d\n</code></pre>"},{"location":"software/vim/#redhat-centos-vi-sucks","title":"redhat / centos vi sucks","text":"<pre><code># ~/.bashrc\nalias vi=vim\n</code></pre>"},{"location":"software/vim/#set-default-editor-on-ubuntu","title":"Set default editor on ubuntu","text":"<pre><code>sudo update-alternatives --config editor\n</code></pre>"},{"location":"software/vim/#see-also","title":"See also","text":"<ul> <li>http://vimcasts.org/ </li> <li>Book Practical Vim, Second Edition Edit Text at the Speed of Thought by Drew Neil (pragprog.com)</li> </ul>"},{"location":"software/vim/#primetimegen","title":"Primetimegen","text":"<ul> <li>Vim As Your Editor by ThePrimeagen - Oct 2022 (youtube.com)</li> <li>Vim As You Editor - Advanced Motions P1 - YouTube (www.youtube.com)</li> </ul>"},{"location":"software/wget/","title":"wget","text":"<p>Save to specified file:</p> <pre><code>wget \\\n  --directory-prefix example.com.html \\\n  http://example.com\n</code></pre> <p>Save to specified file:</p> <pre><code>wget -O example.com.html http://example.com\n</code></pre> <p>stdout:</p> <pre><code>wget -O- http://example.com\n</code></pre>"},{"location":"software/wget/#mirror-a-website","title":"Mirror a website","text":"<pre><code>wget --mirror --convert-links --adjust-extension --page-requisites http://www.mywebsite.com/\n</code></pre> <p><code>shell &lt;!-- markdown-link-check-disable-next-line --&gt; wget --mirror --convert-links --adjust-extension --page-requisites --span-hosts -U Mozilla -e robots=off --no-cookies -D www.mywebsite.com,files.mywebsite.com,images.somewhere.com http://www.mywebsite.com/</code></p>"},{"location":"software/wireguard/","title":"wireguard","text":"<p>Not Great Notes - old and messy</p> <p>How to easily configure WireGuard</p> <pre><code>wg genkey | tee privatekey | wg pubkey &gt; publickey\n</code></pre>"},{"location":"software/wireguard/#install","title":"Install","text":"<pre><code>dnf install wireguard-tools\n\napt install wireguard wireguard-tools\n</code></pre>"},{"location":"software/wireguard/#allow-wireguard-traffic","title":"Allow wireguard traffic","text":"<pre><code>sudo firewall-cmd --permanent --add-service=wireguard\nsudo firewall-cmd --reload\n</code></pre>"},{"location":"software/wireguard/#configure","title":"Configure","text":"<pre><code>systemctl enable --now wg-quick@wg-example\nCreated symlink /etc/systemd/system/multi-user.target.wants/wg-quick@wg-example.service \u2192 /lib/systemd/system/wg-quick@.service.\n</code></pre>"},{"location":"software/wireguard/#debugging","title":"Debugging ?","text":"<pre><code>https://www.the-digital-life.com/wiki/wireguard-troubleshooting/\n</code></pre>"},{"location":"software/wireguard/#phone","title":"phone","text":"<pre><code>dnf install qrencode\n\nqrencode -t ansiutf8 &lt; /etc/wireguard/clients/mobile.conf\n</code></pre>"},{"location":"software/wireguard/#server","title":"Server","text":"<pre><code>echo 1 &gt; /proc/sys/net/ipv4/ip_forward\n</code></pre>"},{"location":"software/wireguard/#sysctl-a-grep-ip_forward","title":"sysctl -a |  grep ip_forward","text":"<pre><code>net.ipv4.ip_forward = 1\nnet.ipv4.ip_forward_update_priority = 1\nnet.ipv4.ip_forward_use_pmtu = 0\n</code></pre>"},{"location":"software/wireguard/#put-it-into","title":"Put it into","text":"<p>/etc/sysctl.d/XX-ip_forward.conf file</p> <pre><code>#/etc/sysctl.d/99-sysctl.conf\n# Uncomment the next line to enable packet forwarding for IPv4\nnet.ipv4.ip_forward=1\n</code></pre> <pre><code>root@failgate:~# cat /etc/wireguard/\nprivatekey  publickey   wg0.conf\nroot@failgate:~# cat /etc/wireguard/wg0.conf\n[Interface]\nAddress = 192.168.2.1\nPrivateKey = XXX\nListenPort = 51820\n\nPostUp   = iptables -A FORWARD -i %i -j ACCEPT; iptables -A FORWARD -o %i -j ACCEPT; iptables -t nat -A POSTROUTING -o eth0 -j MASQUERADE\nPostDown = iptables -D FORWARD -i %i -j ACCEPT; iptables -D FORWARD -o %i -j ACCEPT; iptables -t nat -D POSTROUTING -o eth0 -j MASQUERADE\n\n[Peer]\nPublicKey = wMCxro9UjwkPwExdskjhdfjijdf;jwcJ5T0EchM=\nAllowedIPs = 192.168.2.2/32\n</code></pre> <pre><code>sudo chown -R root:root /etc/wireguard/\nsudo chmod -R og-rwx /etc/wireguard/*\n</code></pre>"},{"location":"software/wireguard/#client","title":"Client","text":"<pre><code>$ sudo cat /etc/wireguard/wg0.conf\n[Interface]\nAddress = 192.168.2.2\nPrivateKey = XXX\nListenPort = 21841\n\n[Peer]\nPublicKey = QS123456789123456789123456789000i=\nEndpoint = 128.100.100.22:51820\n# AllowedIPs = 192.168.2.0/24\nAllowedIPs = 0.0.0.0/0, ::/0\n\n# This is for if you're behind a NAT and\n# want the connection to be kept alive.\nPersistentKeepalive = 25\n</code></pre> <pre><code>sudo chown -R root:root /etc/wireguard/\nsudo chmod -R og-rwx /etc/wireguard/*\n</code></pre>"},{"location":"software/wireguard/#control","title":"Control","text":"<p>wg-quick up wg0 wg-quick down wg0</p> <p>$ sudo systemctl enable wg-quick@wg0.service</p> <p>$ sudo systemctl start wg-quick@wg0.service $ sudo systemctl stop wg-quick@wg0.service</p>"},{"location":"software/xargs/","title":"xargs","text":"<p>Where the argument you pass in using xargs isn't at the last argument:</p> <pre><code>ls  -tr1  |  tail  -5  |  xargs  -i  cp  '{}'  dest/folder/\n</code></pre>"},{"location":"software/yq/","title":"yq","text":"<p>Like jq for YAML</p> <ul> <li> <p>GitHub.com/mikefarah/yq</p> <p>$ cat foo.json {   \"Bill\": {\"age\": 19},   \"Ben\": {\"age\": 20} } $ yq -P foo.json Bill:   age: 19 Ben:   age: 20</p> </li> </ul>"},{"location":"software/aider/","title":"Aider","text":"<ul> <li> <p>paul-gauthier/aider (github.com): Aider is AI pair programming in your terminal</p> </li> <li> <p>TODO</p> </li> <li>voice</li> <li>Pipecat</li> <li>watch-files</li> <li>settings</li> </ul>"},{"location":"software/aider/#usage","title":"Usage","text":"<p><code>aider</code> <code>--architect</code>: Discuss changes before sending instructions to coder.     <code>--subtree-only</code>: Only consider files in the current subtree of the git     <code>--restore-chat-history</code>: Pick up where you left off.</p> <p>I tend to use architect mode:</p> <pre><code>alias aa='aider --architect --sonnet --editor-model sonnet'\n</code></pre>"},{"location":"software/aider/#install","title":"Install","text":"<pre><code>python -m pip install aider-install\naider-install\n</code></pre>"},{"location":"software/aider/#commands","title":"Commands","text":"<p>Note: You can use short commands (e.g. <code>/ch ask</code>)</p> Command Description <code>/settings</code> List all settings <code>/paste [&lt;filepath&gt;]</code> Add clipboard image to chat <code>/run (or !) &lt;cmd&gt;</code> Run a shell command <code>/ask &lt;question&gt;</code> Ask questions about code without edits <code>/chat-mode &lt;ask\\|code\\|help&gt;</code> Switch chat modes <code>Ctrl-Z</code> Suspend Aider for terminal access (<code>fg</code> to resume) <code>/save &lt;filepath&gt;</code> Save current list of shared files"},{"location":"software/aider/#investigate","title":"Investigate","text":"<ul> <li>prompt-caching</li> <li>Aiderignore file</li> <li>browser feature</li> <li>Chat History</li> </ul>"},{"location":"software/aider/#linux","title":"Linux","text":"<pre><code>$ pip install aider-chat\n\n# Change directory into a git repo\n$ cd /to/your/git/repo\n\n# Work with Claude 3.5 Sonnet on your repo\n$ export ANTHROPIC_API_KEY=your-key-goes-here\n$ aider\n\n# Work with GPT-4o on your repo\n$ export OPENAI_API_KEY=your-key-goes-here\n$ aider \n</code></pre>"},{"location":"software/aider/#macos","title":"macOS","text":"<pre><code># Ensure pipx is installed\nbrew install pipx\npipx ensurepath\nsource ~/.bashrc\n\n# Install aider-chat\nbrew install python-tk python-setuptools\npipx install aider-chat\n</code></pre>"},{"location":"software/aider/#configure","title":"Configure","text":"<pre><code>read:\n  - /home/m/CONVENTIONS.md\n  - CONVENTIONS.md\n</code></pre>"},{"location":"software/aider/#log","title":"Log","text":"<p>2024-11-05 12:35:37 +11:00 Tue</p> <ul> <li>TIL RSS reader can get ATOM feed: from https://github.com/Aider-AI/aider/releases</li> </ul>"},{"location":"software/aider/Chat%20History/","title":"Chat History","text":"<p>Chat with claude-3-5-sonnet</p> <p>I want to learn more about how this program decides how much chat history to provide when ada is invoked with minus minus restore minus chat minus history.</p> <p>Repo-map can't include /home/m/Code/github.com/Aider-AI/aider/docker/Dockerfile Has it been deleted from the file system but not from git?</p> <p>I'll help you analyze how the chat history handling works. Based on the file summaries, this functionality appears to be primarily handled in <code>aider/history.py</code> and <code>aider/models.py</code>.</p> <p>To see the complete implementation details, I'll need to see the full contents of:</p> <ol> <li><code>aider/history.py</code> - This contains the <code>ChatSummary</code> class which appears to handle chat history summarization</li> <li><code>aider/models.py</code> - This contains the <code>Model</code> class which has <code>max_chat_history_tokens</code> and <code>token_count()</code> method</li> </ol> <p>Could you please share the full contents of these files?</p> <p>The key components I can see so far:</p> <ol> <li><code>Model</code> class has a <code>max_chat_history_tokens</code> property set to 1024 by default</li> <li><code>ChatSummary</code> class takes <code>max_tokens</code> parameter (also defaulting to 1024)</li> <li>Both classes have methods for token counting</li> </ol> <p>But I'll need to see the actual implementation details to explain exactly how the chat history size is determined and managed. Could you share those files? Tokens: 3.6k sent, 217 received. Cost: $0.01 message, $0.01 session. Add aider/history.py to the chat? (Y)es/(N)o/(A)ll/(S)kip all/(D)on't ask again [Yes]:                                                                                              Add aider/models.py to the chat? (Y)es/(N)o/(A)ll/(S)kip all/(D)on't ask again [Yes]:                                                                                               From reviewing the files, I can explain how the chat history size is determined. The key components are in both files:</p> <ol> <li> <p>In <code>aider/models.py</code>, the <code>Model</code> class sets <code>max_chat_history_tokens</code> based on the model's context window: <pre><code>max_input_tokens = self.info.get(\"max_input_tokens\") or 0\nif max_input_tokens &lt; 32 * 1024:\n    self.max_chat_history_tokens = 1024\nelse:\n    self.max_chat_history_tokens = 2 * 1024\n</code></pre></p> </li> <li> <p>In <code>aider/history.py</code>, the <code>ChatSummary</code> class handles summarizing chat history when it gets too large:</p> </li> <li>It takes a <code>max_tokens</code> parameter (defaulting to 1024) </li> <li>Uses <code>too_big()</code> to check if messages exceed the token limit</li> <li>Has a <code>summarize()</code> method that recursively breaks down and summarizes chat history to fit within the token limit</li> </ol> <p>The basic flow is: 1. Model's max chat history is set to either 1024 or 2048 tokens depending on context window 2. When restoring chat history, if it exceeds the limit:    - Messages are split into chunks    - Older messages are summarized recursively     - Recent messages are kept verbatim    - This continues until the entire history fits within the token limit</p> <p>To see the complete flow of chat history restoration, we should also look at where <code>ChatSummary</code> is used. Could you share the file that handles the <code>--restore-chat-history</code> flag? Tokens: 13k sent, 316 received. Cost: $0.04 message, $0.06 session.</p>"},{"location":"software/aider/TODO/","title":"Aider TODO","text":""},{"location":"software/aider/TODO/#tasks","title":"Tasks","text":"<ul> <li> chat-history-summarize: Instructions, blog post, etc</li> <li> Tab completion when using <code>/run</code></li> <li> Make STT endpoint configurable</li> <li> Add option to not request access to URLs (fedora)</li> </ul>"},{"location":"software/aider/prompt-caching/","title":"Prompt caching","text":"<p>Aider supports prompt caching for cost savings and faster coding. Currently Anthropic provides caching for Sonnet and Haiku, and DeepSeek provides caching for Coder.</p> <pre><code>--cache-prompts --no-stream --cache-keepalive-pings 2\n</code></pre>"},{"location":"software/aider/prompt-caching/#usage","title":"Usage","text":"<p>Run aider with <code>--cache-prompts</code> or add that setting to your configuration files.</p> <p>Due to limitations in the provider APIs, caching statistics and costs are not available when streaming responses. To turn off streaming, use <code>--no-stream</code>.</p> <p>When caching is enabled, it will be noted for the main model when aider launches:</p> <pre><code>Main model: claude-3-5-sonnet-20240620 with diff edit format, prompt cache, infinite output\n</code></pre>"},{"location":"software/aider/prompt-caching/#preventing-cache-expiration","title":"Preventing cache expiration","text":"<p>Aider can ping the provider to keep your prompt cache warm and prevent it from expiring. By default, Anthropic keeps your cache for 5 minutes. Use <code>--cache-keepalive-pings N</code> to tell aider to ping every 5 minutes to keep the cache warm. Aider will ping up to <code>N</code> times over a period of <code>N*5</code> minutes after each message you send.</p>"},{"location":"software/aider/prompt-caching/#see-also","title":"See also","text":"<ul> <li>Prompt caching  aider (aider.chat)</li> </ul>"},{"location":"software/aider/settings/","title":"Aider Configuration","text":"<p>Set options with:</p> <ul> <li>environment variable: <code>AIDER_DARK_MODE</code></li> <li>.env file: <code>AIDER_DARK_MODE</code></li> <li>.aider.conf.yml: <code>dark-mode: true</code></li> <li>Command line switch: <code>--dark-mode</code>.</li> </ul> <p>Aider has many options which can be set with command line switches. Most options can also be set in an <code>.aider.conf.yml</code> file which can be placed in your home directory or at the root of your git repo.  Or by setting environment variables like <code>AIDER_xxx</code> either in your shell or a <code>.env</code> file.</p> <p>Here are 4 equivalent ways of setting an option. </p> <p>With a command line switch:</p> <pre><code>$ aider --dark-mode\n</code></pre> <p>Using a <code>.aider.conf.yml</code> file:</p> <pre><code>dark-mode: true\n</code></pre> <p>By setting an environment variable:</p> <pre><code>export AIDER_DARK_MODE=true\n</code></pre> <p>Using an <code>.env</code> file:</p> <pre><code>AIDER_DARK_MODE=true\n</code></pre>"},{"location":"software/aider/voice/","title":"voice","text":"<pre><code>python -m aider.voice\n</code></pre>"},{"location":"software/aider/watch-files/","title":"aider --watch-files","text":"<p>Signal Aider from your editor (e.g. Obsidian, VSCode).</p> <p>Aider in your IDE (aider.chat) </p> <p> - Enhance aider's Markdown editing capabilities with --watch-files \u00b7 Issue 2680 \u00b7 Aider-AI/aider (github.com)</p>"},{"location":"software/aider/watch-files/#steps","title":"Steps","text":""},{"location":"software/aider/watch-files/#1-start-aider-with-watch-files","title":"1. Start Aider with <code>--watch-files</code>","text":"<pre><code>$ aider --watch-files\n</code></pre>"},{"location":"software/aider/watch-files/#2-signal-aider-with-ai-or-ai-in-a-comment","title":"2. Signal Aider with AI? or AI! in a comment","text":"<ul> <li><code>AI?</code>: Question</li> <li><code>AI!</code>: Task</li> </ul> <p>Example of signalling Aider from a Markdown document.</p> <pre><code># Obsidian performance\n\n## Questions\n\n- How do I find out why Obsidian is finding so many files it can't use? #AI?\n\n## Tasks\n</code></pre>"},{"location":"software/aider/issues/ctrl-a-not-working/","title":"Ctrl-A not working","text":""},{"location":"software/aider/issues/prompt-is-too-long/","title":"prompt is too long - summarizer unexpectedly failed for all models","text":"<pre><code>Readonly: conventions/CONVENTIONS.md conventions/questions.md                                                                           \narchitect&gt; litellm.BadRequestError: litellm.ContextWindowExceededError: AnthropicError - {\"type\":\"error\",\"error\":{\"type\":\"invalid_request_error\",\"message\":\"prompt is too long: 203298 tokens &gt; 200000 maximum\"}}\nlitellm.BadRequestError: litellm.ContextWindowExceededError: AnthropicError - {\"type\":\"error\",\"error\":{\"type\":\"invalid_request_error\",\"message\":\"prompt is too long: 203298 tokens &gt; 200000 maximum\"}}                                                                          \nsummarizer unexpectedly failed for all models\n</code></pre>"},{"location":"software/aider/issues/tab-completion/","title":"Aider tab completion","text":"<p>Tab completion for files is not working for commands:</p> <ul> <li>/run</li> <li>/git</li> <li></li> </ul>"},{"location":"software/aider/issues/voice-format-broken/","title":"Voice format broken","text":"<p>2025-01-06 19:34:29 +11:00 Mon - https://github.com/Aider-AI/aider/issues/2786</p>"},{"location":"software/browsers/Your%20browser%20is%20managed%20by%20your%20organization/","title":"Your browser is managed by your organization","text":""},{"location":"software/browsers/Your%20browser%20is%20managed%20by%20your%20organization/#your-browser-is-managed-by-your-organization","title":"Your browser is managed by your organization","text":"<p>Chrome says this, even when it's not true.</p> <pre><code>sudo rm -fr /etc/chromium/policies/*\n</code></pre>"},{"location":"software/browsers/bookmarklets/","title":"Bookmarklets","text":"<p>Bookmarklets are powerful tools that can greatly enhance your web browsing experience. With a simple click, they bring efficiency and customisation right to your fingertips.</p>"},{"location":"software/browsers/bookmarklets/#what-is-a-bookmarklet","title":"What is a Bookmarklet?","text":"<p>A bookmarklet is a small software application stored as a bookmark in a web browser. Unlike traditional bookmarks that take you to a specific webpage, bookmarklets perform a function, like modifying the appearance of a webpage, extracting data, or integrating with external services. They are typically written in JavaScript and can be executed on any page you're viewing in your browser.</p>"},{"location":"software/browsers/bookmarklets/#why-use-bookmarklets","title":"Why Use Bookmarklets?","text":"<p>Bookmarklets are incredibly useful for automating repetitive tasks, enhancing web browsing efficiency, and adding custom functionality to your browsing experience. They are lightweight, easy to install, and can be used across multiple browsers. From simplifying complex actions with a single click to adding new features to your favourite websites, bookmarklets are versatile tools for any web user.</p>"},{"location":"software/browsers/bookmarklets/#how-to-install-a-bookmarklet","title":"How to Install a Bookmarklet","text":"<p>The simplest way is to drag an HTML link to your browser's bookmarks bar but if one is not provided you can follow these steps:</p> <ol> <li> <p>Open Your Web Browser: Start by launching the browser where you want the bookmarklet.</p> </li> <li> <p>Show Bookmarks Bar: Make sure the bookmarks bar is visible. Enable it in the browser\u2019s settings or use a shortcut like <code>Ctrl+Shift+B</code> (Windows/Linux) or <code>Command+Shift+B</code> (Mac).</p> </li> <li> <p>Create a New Bookmark:</p> </li> <li>Right-click on the bookmarks bar and select \"Add page,\" \"New bookmark,\" or a similar option.</li> <li>In the Name field, enter a descriptive name for your bookmarklet.</li> <li> <p>In the URL field, paste the JavaScript code of the bookmarklet. This code should start with <code>javascript:</code>.</p> </li> <li> <p>Save the Bookmarklet: Click \"Save\" or \"Add\" to store the bookmarklet on your bookmarks bar.</p> </li> <li> <p>Using the Bookmarklet: To use it, simply click on the bookmarklet whenever you're on a webpage where you want its functionality. The bookmarklet will run immediately, performing its coded action on the current page.</p> </li> </ol>"},{"location":"software/browsers/chrome/","title":"Google Chrome","text":"<p>I use Google Chrome for Microsoft Teams because video and screen sharing don't work with Firefox or Chromium.</p> <ul> <li>Your browser is managed by your organization</li> </ul>"},{"location":"software/browsers/chrome/#profiles","title":"Profiles","text":"<p>Open Chrome specified profile: </p> <pre><code>google-chrome --profile-directory=\"$PROFILE_NAME\"\n</code></pre> <p>Find your profile: </p> <ol> <li>Open chrome://version/ and look for 'Profile Path' field.</li> </ol>"},{"location":"software/browsers/chrome/#install","title":"Install","text":"<p>Install google-chrome on fedora-36:</p> <pre><code>sudo dnf install fedora-workstation-repositories\nsudo dnf config-manager --set-enabled google-chrome\nsudo dnf install -y google-chrome-stable\n</code></pre>"},{"location":"software/browsers/firefox/","title":"Firefox","text":"<p>Cross platform open source web browser</p> <ul> <li>bookmarklet-service-now-ticket-markdown-link</li> </ul>"},{"location":"software/browsers/firefox/#general","title":"General","text":"<p>Important data you want to preserve:</p> <ul> <li>bookmarks</li> <li>passwords</li> <li>add-ons</li> <li>extensions</li> <li>extension data</li> </ul> <p>Password sync makes phone login easier!</p> <p>Syncing passwords between workstation and phone eliminates hassle of typing passwords on the phone. </p> <ul> <li>Send page/link to device: Open in Firefox on phone or computer</li> </ul>"},{"location":"software/browsers/firefox/#config","title":"Config","text":""},{"location":"software/browsers/firefox/#aboutconfig","title":"about:config","text":"<ul> <li><code>network.protocol-handler.export-all: false</code>: Review this This tried to open bittorrent magnet links in the browser</li> </ul>"},{"location":"software/browsers/firefox/#hotkeys","title":"Hotkeys","text":"<p>Ctrl + Shift + B: Toggle bookmark toolbar (good for screenshots that show URL and page body)</p>"},{"location":"software/browsers/firefox/#dev-tools","title":"Dev Tools","text":"<p><code>-status-code:200</code>: Filter out 200s from network pane.</p>"},{"location":"software/browsers/firefox/#profile-manager","title":"Profile manager","text":"<ul> <li>profile manager</li> </ul> <p>You may want to keep a different profile for personal / work.</p> <p>When firefox is open: <code>about:profiles</code></p> <p>When firefox is closed: <code>firefox -P</code> (or <code>firefox -ProfileManager</code>)</p> <p>Profiles live in: <code>~/.mozilla/firefox/profiles.ini</code></p>"},{"location":"software/browsers/firefox/#assigning-containers-to-bookmarks","title":"Assigning containers to bookmarks","text":"<p>Sometimes you have sites you want to open across different containers (e.g. Outlook) and it's a pain to do \"Container on bookmark dropdown menu\" every time.</p> <p>If you have the Firefox plugin \"Open external links in a container\" installed you can assign bookmarks to containers by putting the following in the URL field for a bookmark:</p> <p>ext+container:name=Personal&amp;url=https://outlook.office.com/mail/inbox</p> <p>Where <code>container:name</code> is the name of your container and <code>url</code> is the URL you wish to open.</p> <p>With this approach you can have multiple bookmarks for the same site with each opening in a different container.</p>"},{"location":"software/browsers/firefox/#dont-close-window-when-last-tab-closed","title":"Don't close window when last tab closed","text":"<p>I don't want to have to keep typing in my Primary Password to unlock password manager.</p> <ul> <li>Type \"about:config\" in the address bar</li> <li>Accept the warning message</li> <li>Search for \"browser.tabs.closeWindowWithLastTab\"</li> <li>Double-click to set it to \"false\"</li> </ul>"},{"location":"software/browsers/firefox/#troubleshooting","title":"troubleshooting","text":""},{"location":"software/browsers/firefox/#troubleshoot-mode","title":"Troubleshoot mode","text":"<ul> <li>troubleshoot mode</li> </ul> <p>Troubleshoot Mode runs Firefox with some features and customizations disabled (see below for details). If you're having a problem in Firefox that does not occur in Troubleshoot Mode, the cause of the problem is one of the disabled items.</p>"},{"location":"software/browsers/firefox/#refresh-firefox","title":"Refresh Firefox","text":"<p>If you're having problems with Firefox, refreshing may help by restoring the browser to its default state while saving your essential information, like bookmarks and passwords.</p> <ul> <li>refresh firefox</li> </ul>"},{"location":"software/browsers/firefox/#firefox-will-save-these-items","title":"Firefox will save these items:","text":"<ul> <li>Bookmarks</li> <li>Browsing and download history</li> <li>Passwords</li> <li>Cookies</li> <li>Web form auto-fill information</li> <li>Personal dictionary</li> </ul>"},{"location":"software/browsers/firefox/#these-items-and-settings-will-be-removed","title":"These items and settings will be removed:","text":"<ul> <li>Extensions and themes</li> <li>Website permissions</li> <li>Modified preferences</li> <li>Added search engines</li> <li>DOM storage</li> <li>Security certificate and device settings</li> <li>Download actions</li> <li>Toolbar customizations</li> <li>User styles (chrome subfolder containing userChrome and/or userContent CSS files, if previously created.)</li> </ul>"},{"location":"software/browsers/plugins/markdownload/","title":"MarkDownload","text":"<ul> <li>deathaumark/download - A Firefox and Google Chrome extension to clip websites and download them into a readable markdown file. (github.com)</li> </ul>"},{"location":"software/browsers/plugins/markdownload/#include-hostname-in-link-text","title":"Include (hostname) in link text","text":"<p>Custom text -&gt; Title template -&gt; {pageTitle} ({hostname})</p> <p></p>"},{"location":"software/browsers/plugins/markdownload/#issues","title":"Issues","text":""},{"location":"software/browsers/plugins/markdownload/#fails-on-some-sites","title":"Fails on some Sites","text":"<p>Using \"Copy tab URL as Markdown Link\" fails on some sites.</p> <p>Site: https://learn.microsoft.com/en-us/azure/frontdoor/front-door-overview Output:  (4f1655d8-3aa4-47be-97f9-8db3c6e55945)</p>"},{"location":"software/git/","title":"Git","text":"<p>Source control.</p>"},{"location":"software/git/#conventions","title":"Conventions","text":"<ul> <li>Commit</li> </ul>"},{"location":"software/git/#development-workflow","title":"Development Workflow","text":"<ul> <li>Development Setup for Forked Projects</li> </ul>"},{"location":"software/git/#how-to","title":"How to","text":"<ul> <li>Self Hosting</li> <li>Authentication using Device Flow</li> <li> <p>Find deleted files</p> </li> <li> <p>Debugging git push</p> </li> <li>Remove large file from git repo with git-filter-repo</li> </ul>"},{"location":"software/git/#core-git","title":"Core Git","text":"<ul> <li>[[Alias]]</li> <li>Branch</li> <li>Commit</li> <li>Config</li> <li>conflict: git diff --check</li> <li>Diff</li> <li>Submodule</li> <li>Ignore</li> <li>pre-commit (pre-commit.com)</li> <li>reflog</li> <li>Stash</li> <li>Tag</li> </ul>"},{"location":"software/git/#extras","title":"Extras","text":"<ul> <li>git-lfs</li> <li>GitKraken</li> <li>GitLens</li> </ul>"},{"location":"software/git/#untracked-files","title":"Untracked files","text":"<p>List untracked files and dirs:</p> <pre><code>git clean -fdn\n</code></pre> <p>List modification times:</p> <pre><code>git clean -n | awk '{print $3}' | xargs -I {} stat -c '%y %n' {} | sort -n\n</code></pre> <p>Remove untracked files and dirs:</p> <pre><code>git clean -fd\n</code></pre> <p>Stash untracked files</p> <pre><code>git stash --include-untracked # short arg is -u\n</code></pre>"},{"location":"software/git/#deal-with-obsidian-sync-pulling-changes-when-you-didnt-make-local-changes","title":"Deal with Obsidian sync pulling changes (when you didn't make local changes)","text":"<pre><code>git fetch --all\ngit reset --hard origin/master\n</code></pre>"},{"location":"software/git/#share-via-sneakernet","title":"Share via sneakernet","text":"<pre><code>wget https://github.com/mbailey.gpg\ngpg --import ./mbailey.gpg\n# cd cloned git repo\ngit bundle create mbailey.bundle --all\ngpg --recipient mike@example.com  -e  mbailey.bundle\n# Send me mbailey.bundle.gpg\n</code></pre>"},{"location":"software/git/#check-out-file-from-specific-commit","title":"Check out file from specific commit","text":"<pre><code>git checkout c5f567 -- file1/to/restore file2/to/restore\n</code></pre>"},{"location":"software/git/#checkout-remote-branch","title":"Checkout Remote Branch","text":"<pre><code>git fetch --all\ngit switch origin/gh-pages # creates branch if missing and sets up tracking for git pull/push\n</code></pre>"},{"location":"software/git/#diff-two-arbitrary-files-using-git-diff-eg-for-gpg-files","title":"Diff two arbitrary files using git diff (e.g. for gpg files)","text":"<p>git diff --no-index file1 file2</p>"},{"location":"software/git/#change-commit-author","title":"Change commit author","text":"<pre><code>git commit --amend --author=\"Alex Doe &lt;alex@work.com&gt;\" --no-edit\n</code></pre> <p>For the last N commits:</p> <pre><code>git rebase -i HEAD~N -x \"git commit --amend --author 'Author Name &lt;author.name@mail.example&gt;' --no-edit\"\n</code></pre>"},{"location":"software/git/#update-forked-github-repo","title":"Update forked github repo","text":"<pre><code>git remote add upstream git@github.com:original-repo/goes-here.git\ngit fetch upstream\ngit checkout master\ngit rebase upstream/master\ngit push origin master --force-with-lease\n</code></pre>"},{"location":"software/git/#gpg-diff","title":"gpg diff","text":"<pre><code>https://gist.github.com/marceloalmeida/e6593b93b388cdf1dbc282dffd424d1b#file-readme-md\n\ngit config --global diff.gpg.textconv \"gpg --no-tty --decrypt\"\n\necho \"*.gpg filter=gpg diff=gpg\" &gt;&gt; .gitattributes\necho \"*.asc filter=gpg diff=gpg\" &gt;&gt; .gitattributes\n</code></pre>"},{"location":"software/git/#delete-dangling-commits","title":"Delete dangling commits","text":"<ul> <li>Listing and deleting Git commits that are under no branch (dangling) - Stack Overflow</li> </ul>"},{"location":"software/git/#shallow-clone","title":"shallow clone","text":"<p>Less files and no .git dir:</p> <pre><code>git clone --depth=1 git://someserver/somerepo dirformynewrepo\nrm -rf !$/.git\n</code></pre>"},{"location":"software/git/#see-also","title":"See also","text":"<ul> <li>Git - user-manual (file:///usr/share/doc/./user-manual.html)</li> <li>Git - Community</li> <li><code>man gittutorial</code></li> <li>Tech Talk Linus Torvalds on git - YouTube<ul> <li>distributed</li> </ul> </li> <li>https://gregoryszorc.com/blog/2021/05/12/why-you-shouldn%27t-use-git-lfs/<ul> <li>performance</li> </ul> </li> <li><code>git stash pop</code> song by The Ramones Blitzkrieg Bop (2016 Remaster) - YouTube</li> <li>How to Use Git Shallow Clone to Improve Performance  Perforce (www.perforce.com)</li> <li>[[vscode-gitlens-open-on-remote]]</li> </ul>"},{"location":"software/git/AWS-StartSSHSession/","title":"AWS-StartSSHSession","text":"<ul> <li>Document in AWS Console</li> </ul>"},{"location":"software/git/AWS-StartSSHSession/#content","title":"Content","text":"<pre><code>{\n  \"schemaVersion\": \"1.0\",\n  \"description\": \"Document to open SSH connection over session manager to an instance\",\n  \"sessionType\": \"Port\",\n  \"parameters\": {\n    \"portNumber\": {\n      \"type\": \"String\",\n      \"description\": \"(Optional) Port number of SSH server on the instance\",\n      \"allowedPattern\": \"^([1-9]|[1-9][0-9]{1,3}|[1-5][0-9]{4}|6[0-4][0-9]{3}|65[0-4][0-9]{2}|655[0-2][0-9]|6553[0-5])$\",\n      \"default\": \"22\"\n    }\n  },\n  \"properties\": {\n    \"portNumber\": \"{{ portNumber }}\"\n  }\n}\n</code></pre>"},{"location":"software/git/Commits/","title":"Commits","text":"<ul> <li>Commit References: Refer to commits relative to head ( e.g. <code>HEAD^^</code>, <code>HEAD~5</code>)</li> </ul> <p>Show commit summary:</p> <pre><code>git show --stat\n</code></pre> <p>Stage non-whitespace changes (ref):</p> <pre><code>git diff -U0 -w --no-color | git apply --cached --ignore-whitespace --unidiff-zero -\n</code></pre> <p>List files in change: </p> <pre><code>git show --name-only --pretty=format:\n</code></pre>"},{"location":"software/git/Commits/#list-merge-conflicts","title":"List merge conflicts","text":"<pre><code>git diff --name-only --diff-filter=U\n</code></pre>"},{"location":"software/git/Find%20deleted%20files/","title":"Git - Find deleted files","text":"<p><code>git log --diff-filter=D -- docs/chicken.md</code></p> <p>By Claude.ai</p> <p>To find a file in a Git repository that was deleted at some point, you can use the <code>git log</code> command with some specific options. Here's a concise approach:</p> <ol> <li>Use <code>git log --all --full-history -- \"*/&lt;file_path&gt;\"</code>:</li> </ol> <pre><code>git log --all --full-history -- \"*/&lt;file_path&gt;\"\n</code></pre> <p>Replace <code>&lt;file_path&gt;</code> with the path to the file you're looking for. This command will show you the commit history for that file, including when it was deleted.</p> <ol> <li>Once you find the commit where the file existed, you can checkout that specific commit to see the file contents:</li> </ol> <pre><code>git checkout &lt;commit_hash&gt; -- &lt;file_path&gt;\n</code></pre> <p>This will restore the file to your working directory.</p> <p>If you need more details on interpreting the output or using these commands, I'd be happy to elaborate further.</p>"},{"location":"software/git/Pager/","title":"Git Pager Control","text":""},{"location":"software/git/Pager/#disable-for-single-commands","title":"Disable for Single Commands","text":"<pre><code>git --no-pager log\ngit --no-pager diff\ngit --no-pager branch\n</code></pre>"},{"location":"software/git/Pager/#global-configuration","title":"Global Configuration","text":"<pre><code># Disable all paging\ngit config --global core.pager ''\n\n# Disable for specific commands\ngit config --global pager.branch false\ngit config --global pager.diff false\ngit config --global pager.log false\n\n# Auto-disable for short output only\ngit config --global core.pagerFilter false\n</code></pre>"},{"location":"software/git/Pager/#environment-variable","title":"Environment Variable","text":"<pre><code># Temporary disable for terminal session\nexport GIT_PAGER=''\n</code></pre> <p>To revert any config changes: <pre><code>git config --global --unset core.pager\ngit config --global --unset pager.{command}\n</code></pre></p>"},{"location":"software/git/alias/","title":"Git Aliases","text":"<p>Handy aliases for git</p> <p>stash --all blame -w -C -C -C: ignore whitespace, code move, ???, ???</p> <p></p> <p></p>"},{"location":"software/git/authentication-using-device-flow/","title":"Git Authentication using Device Flow","text":"<p>Clone a git repo without exposing your password to the device using Device Flow.</p> <ul> <li> <p>Requires git-credential-manager</p> </li> <li> <p>Device Flow support was added in Git 2.31</p> </li> <li>Github sends you to https://github.com/login/device</li> </ul> <p></p>"},{"location":"software/git/branches/","title":"Git branches","text":""},{"location":"software/git/branches/#local-branches","title":"Local Branches","text":"<ul> <li>Rebase a local branch on upstream master</li> </ul>"},{"location":"software/git/branches/#list","title":"List","text":"<p>Branches with unmerged changes:</p> <pre><code>git branch --no-merged master\n</code></pre> <p>Branches merged into main:</p> <pre><code>git branch --merged master\n</code></pre> <p>List branches in order of most recent commit:</p> <pre><code>$ git for-each-ref --sort=-committerdate refs/remotes/ --format=\"%(refname:short)%09%(committerdate:iso8601)%09%(committername)%09%(subject)\" | columnise \norigin/feat-fix                            2023-02-08 17:46:47 +1100  Some Person     Fixing the stack name to make it unique\norigin/r53-feat                            2023-02-08 17:15:10 +1100  Another Person  Renaming the file\n</code></pre>"},{"location":"software/git/branches/#maintain-standard-initial-branch","title":"Maintain standard initial branch","text":"<pre><code>git config --global init.defaultBranch master\n</code></pre>"},{"location":"software/git/branches/#remote-branches","title":"Remote Branches","text":"<p>Checkout a remote branch:</p> <pre><code>git fetch origin\ngit checkout BRANCH_NAME \n</code></pre> <p>Delete remote branch:</p> <pre><code>git push --delete &lt;remote_name&gt; &lt;branch_name&gt;\n</code></pre> <p>Rename default branch: </p> <p>I don't want to have to remember what the default branch is named.</p> <pre><code>git branch -m main master\ngit push -u origin master\n</code></pre> <ul> <li>stackoverflow</li> </ul>"},{"location":"software/git/branches/#fix-a-branch-where-i-rebased-from-upstream-and-it-rewrote-the-commits","title":"Fix a branch where I rebased from upstream and it rewrote the commits","text":"<p>ask&gt; maybe I should create a new branch and cherry pick my four commits into it? Or git reset --hard upstream/main on my branch and then cherry pick my new commits?                          </p> <p>Yes, that's a cleaner approach! Since you have exactly 4 commits that represent your actual changes, creating a fresh branch would be simpler. Here's how:</p> <pre><code># First make sure you're up-to-date with upstream\ngit fetch upstream\n\n# Create a new branch from upstream/main\ngit checkout -b feat/allow-use-of-other-whisper-api-endpoints-take-3 upstream/main\n\n# Cherry pick your 4 commits (in chronological order)\ngit cherry-pick 9e23254a  # feat: Support custom Whisper API endpoints for voice transcription\ngit cherry-pick 7891e92a  # feat: Add support for custom Whisper API endpoints with robust key handling\ngit cherry-pick d448bd8c  # fix: Update test to properly simulate custom API base validation\ngit cherry-pick b9ad3eba  # refactor: Remove redundant test for custom Whisper API configuration\n\n# Push the new branch to your fork\ngit push origin feat/allow-use-of-other-whisper-api-endpoints-take-3\n</code></pre>"},{"location":"software/git/code-reading-notes/","title":"code reading notes","text":"<ul> <li>Aider's repomap</li> <li>tree sitter: parser generator tool and an incremental parsing library</li> </ul>"},{"location":"software/git/code-reading-notes/#cloc-count-lines-of-code","title":"cloc: Count lines of code","text":"<pre><code>$ cloc --follow .\n     248 text files.\n     184 unique files.                                          \n      98 files ignored.\n\ngithub.com/AlDanial/cloc v 2.02  T=5.16 s (35.7 files/s, 116880.5 lines/s)\n-------------------------------------------------------------------------------\nLanguage                     files          blank        comment           code\n-------------------------------------------------------------------------------\nJavaScript                      45          32776          70081         490046\nCSS                             35            836            164           4761\nJSON                            89              0              0           4197\nMarkdown                        14             69              0            193\nText                             1              0              0              6\n-------------------------------------------------------------------------------\nSUM:                           184          33681          70245         499203\n-------------------------------------------------------------------------------\n</code></pre>"},{"location":"software/git/config/","title":"git config","text":"<ul> <li>Git Pager Control</li> </ul>"},{"location":"software/git/config/#open-config-in-editor","title":"Open config in editor","text":"<p>Git config for current repo is not always in <code>.git/config</code> (e.g. when using submodules).</p> <pre><code>git config -e\n</code></pre>"},{"location":"software/git/config/#commands","title":"Commands","text":"<ul> <li>Show config origin files: <code>git config --list --show-origin</code></li> </ul>"},{"location":"software/git/config/#diff-gpg","title":"diff gpg","text":"<ul> <li>How to show diffs for gpg-encrypted files</li> </ul> <p>Update <code>.gitattributes</code> in repo:</p> <pre><code>echo \"*.gpg filter=gpg diff=gpg\" &gt;&gt; .gitattributes\necho \"*.asc filter=gpg diff=gpg\" &gt;&gt; .gitattributes\n</code></pre> <p>Tell Git to decrypt GPG files before diff'ing them (use <code>--local</code> for current repo only):</p> <pre><code>$ git config --global diff.gpg.textconv \"gpg --no-tty --decrypt\"\n$\n</code></pre> <p>Don't ask me to run <code>git push --set-upstream origin</code>.  Rather than ask me where to push new branches:</p> <pre><code>git config --global push.default current\n</code></pre>"},{"location":"software/git/config/#disable-gpg-signing-for-current-repo","title":"Disable gpg signing for current repo","text":"<pre><code>git config --local commit.gpgsign false\n</code></pre>"},{"location":"software/git/config/#override-editor-for-commits","title":"Override $EDITOR for commits","text":"<p>Don't use <code>code</code> for commits.</p> <pre><code>git config --global core.editor \"vim\"\n</code></pre>"},{"location":"software/git/config/#global-user-config","title":"Global user config","text":"<p>--global</p> <p>For writing options: write to global\u00a0<code>~/.gitconfig</code>\u00a0file rather than the repository\u00a0<code>.git/config</code>, write to\u00a0<code>$XDG_CONFIG_HOME/git/config</code>\u00a0file if this file exists and the\u00a0<code>~/.gitconfig</code>\u00a0file doesn\u2019t.</p> <p>For reading options: read only from global\u00a0<code>~/.gitconfig</code>\u00a0and from\u00a0<code>$XDG_CONFIG_HOME/git/config</code>\u00a0rather than from all available files.</p>"},{"location":"software/git/debugging%20git%20push/","title":"debugging git push","text":"<p>By Claude.ai</p> <p>To debug the issue with <code>git push</code> requiring repeated Yubikey touches, you can increase Git's verbosity to see what's happening behind the scenes. Here are a few approaches you can try:</p> <ol> <li>Use GIT_TRACE environment variable:</li> </ol> <p>Run your git push command with increased verbosity like this:</p> <pre><code>GIT_TRACE=1 GIT_CURL_VERBOSE=1 GIT_SSH_COMMAND=\"ssh -vvv\" git push\n</code></pre> <p>This will show you detailed information about the Git operations, including SSH connection attempts.</p> <ol> <li>Use GIT_SSH environment variable:</li> </ol> <p>Set up a wrapper script for SSH and use it for debugging. Create a file named <code>ssh-wrapper.sh</code> with the following content:</p> <pre><code>#!/bin/bash\necho \"SSH command: $@\" &gt;&amp;2\nssh -vvv \"$@\"\n</code></pre> <p>Make it executable:</p> <pre><code>chmod +x ssh-wrapper.sh\n</code></pre> <p>Then use it with git push:</p> <pre><code>GIT_SSH=./ssh-wrapper.sh git push\n</code></pre> <ol> <li>Use <code>-v</code> option with git push:</li> </ol> <p>Simply add the <code>-v</code> (verbose) option to your git push command:</p> <pre><code>git push -v\n</code></pre> <p>This will show more information about the push process, though it might not be as detailed as the other methods.</p> <p>These methods should help you see what's happening between the repeated retries and potentially identify why your Yubikey is being prompted multiple times. Look for any error messages, connection resets, or authentication failures in the output.</p> <p>If you'd like me to help interpret the output or if you need more specific advice after trying these methods, please share the relevant parts of the debug output, and I'd be happy to assist further.</p>"},{"location":"software/git/development-setup/","title":"Development Setup for Forked Projects","text":"<p>When contributing to a Python project via fork, you often want to: 1. Use your development version locally 2. Keep up with upstream changes 3. Maintain multiple feature branches 4. Have system-wide access to your version</p>"},{"location":"software/git/development-setup/#virtual-environment-setup","title":"Virtual Environment Setup","text":"<p>Create a dedicated virtualenv for development: <pre><code># Create venv in a standard location\npython -m venv ~/.local/venv/project-dev\n\n# Install your development version\n~/.local/venv/project-dev/bin/pip install -e ~/path/to/your/fork\n\n# Make it available system-wide via symlink\nln -sf ~/.local/venv/project-dev/bin/project ~/.local/bin/project\n</code></pre></p>"},{"location":"software/git/development-setup/#git-remote-setup","title":"Git Remote Setup","text":"<p>Configure your fork to track upstream: <pre><code># Add upstream remote\ngit remote add upstream https://github.com/original/project.git\n\n# Keep main up to date with upstream\ngit fetch upstream\ngit checkout main\ngit rebase upstream/main\n</code></pre></p>"},{"location":"software/git/development-setup/#managing-feature-branches","title":"Managing Feature Branches","text":"<ol> <li>Create feature branches from main <pre><code>git checkout main\ngit pull upstream main\ngit checkout -b feat/new-feature\n</code></pre></li> <li>Submit PRs from feature branches to upstream/main</li> <li>If PRs take time to merge:</li> <li>Keep personal dev branch for local use</li> <li>Merge desired features into dev</li> <li>Rebase dev on main regularly</li> </ol>"},{"location":"software/git/development-setup/#benefits","title":"Benefits","text":"<p>This setup provides: - Isolated dependencies in virtualenv - System-wide access via symlink - Immediate code changes with pip -e - Easy version switching - Clean git history for PRs</p>"},{"location":"software/git/development-setup/#example-multiple-versions","title":"Example: Multiple Versions","text":"<p>To maintain both stable and development versions: <pre><code># Stable version via pipx\npipx install project-name\n\n# Development version in virtualenv\npython -m venv ~/.local/venv/project-dev\n~/.local/venv/project-dev/bin/pip install -e ~/path/to/your/fork\n\n# Switch between versions by changing symlink\nln -sf ~/.local/venv/project-dev/bin/project ~/.local/bin/project\nln -sf $(pipx environment -v | grep PIPX_BIN_DIR | cut -d= -f2)/project ~/.local/bin/project\n</code></pre></p>"},{"location":"software/git/development-setup/#branch-switching-with-editable-install","title":"Branch Switching with Editable Install","text":"<p>When using <code>pip install -e .</code> (editable/development mode): - Python sees your current branch's code immediately - No need to reinstall when switching branches - You're always running the code from your checked-out branch</p> <pre><code># Install editable version from any branch\npip install -e .\n\n# Switch branches freely\ngit checkout dev\ngit checkout feat/new-feature\n</code></pre> <p>Note: If a branch changes dependencies (setup.py/pyproject.toml), run <code>pip install -e .</code> again after switching to it.</p>"},{"location":"software/git/diff/","title":"git diff","text":""},{"location":"software/git/diff/#handy-commands","title":"Handy Commands","text":""},{"location":"software/git/diff/#list-only-filenames","title":"List only filenames","text":"<pre><code>git diff --name-only master\n</code></pre>"},{"location":"software/git/diff/#diff-images","title":"Diff images","text":"<ul> <li>https://github.com/ewanmellor/git-diff-image</li> </ul>"},{"location":"software/git/git-commit-references/","title":"Git Commit References","text":""},{"location":"software/git/git-commit-references/#common-syntax","title":"Common Syntax","text":"<ul> <li><code>HEAD</code>: Current commit</li> <li><code>HEAD^</code> or <code>HEAD~1</code>: Previous commit</li> <li><code>HEAD^^</code> or <code>HEAD~2</code>: Two commits back</li> <li><code>HEAD^^^</code> or <code>HEAD~3</code>: Three commits back</li> <li><code>HEAD^2</code>: Second parent of a merge commit</li> </ul>"},{"location":"software/git/git-commit-references/#usage-examples","title":"Usage Examples","text":""},{"location":"software/git/git-commit-references/#git-log","title":"Git Log","text":"<pre><code># Last 3 commits\ngit log HEAD~3..HEAD\n\n# Show commits between two points\ngit log HEAD~5..HEAD~2\n\n# Graph view of last 4 commits\ngit log --graph HEAD~4..HEAD\n</code></pre>"},{"location":"software/git/git-commit-references/#git-rebase","title":"Git Rebase","text":"<pre><code># Interactive rebase of last 3 commits\ngit rebase -i HEAD~3\n\n# Rebase onto specific commit\ngit rebase -i HEAD~5\n</code></pre>"},{"location":"software/git/git-commit-references/#git-show","title":"Git Show","text":"<pre><code># Show previous commit\ngit show HEAD^\n\n# Show second parent of merge commit\ngit show HEAD^2\n\n# Show three commits ago\ngit show HEAD~3\n</code></pre>"},{"location":"software/git/git-commit-references/#git-diff","title":"Git Diff","text":"<pre><code># Changes between current and previous\ngit diff HEAD^\n\n# Changes between two ancestors\ngit diff HEAD~2 HEAD\n\n# Changes in specific file from 2 commits ago\ngit diff HEAD^^ path/to/file\n</code></pre>"},{"location":"software/git/git-commit-references/#important-notes","title":"Important Notes","text":"<ul> <li><code>^</code> vs <code>~</code>: Both count back commits but behave differently on merge commits</li> <li><code>^</code> follows first parent in merges</li> <li><code>~</code> follows history linearly</li> <li>Multiple <code>^</code> can be chained: <code>^^^^</code> = 4 commits back</li> <li>Combine with numbers: <code>~5</code> = 5 commits back</li> <li>Works with commit hashes too: <code>abc123^</code></li> </ul>"},{"location":"software/git/git-credential-manager/","title":"Git Credential Manager","text":"<p>Encrypt your tokens and avoid entering your github password onto less-trusted devices.</p> <ul> <li> <p>Clarify which account the prompt is for \u00b7 Issue 1472 \u00b7 git-ecosystemgit-credential-manager (github.com)</p> <ul> <li>Git - Credential Storage (git-scm.com)</li> </ul> <p></p> </li> </ul>"},{"location":"software/git/git-credential-manager/#problems","title":"Problems","text":""},{"location":"software/git/git-credential-manager/#login-prompt-doesnt-indicate-which-repo-server","title":"Login prompt doesn't indicate which repo / server","text":"<p>GitHub Issue: The tool should accommodate users with more than one account on a github. \u00b7 Issue 1532 \u00b7 git-ecosystemgit-credential-manager (github.com)</p>"},{"location":"software/git/git-credential-manager/#commands","title":"Commands","text":"<p>While the tool is used behind the scenes by other programs, there are a few commands you can use:</p> <pre><code>$ git-credential-manager github list\nmbailey\n</code></pre>"},{"location":"software/git/git-credential-manager/#install-git-credential-manager","title":"Install Git Credential Manager","text":""},{"location":"software/git/git-credential-manager/#debian","title":"Debian","text":"<ul> <li>debian package (github.com)</li> </ul> <pre><code>wget https://github.com/git-ecosystem/git-credential-manager/releases/download/v2.4.1/gcm-linux_amd64.2.4.1.deb\nsudo apt install ./gcm-linux_amd64.2.4.1.deb\nsudo dpkg -i ./gcm-linux_amd64.2.4.1.deb\ngit-credential-manager configure\n</code></pre>"},{"location":"software/git/git-credential-manager/#other-linux","title":"Other linux","text":"<p>git-credential-manager/docs/install.md (github.com)</p> <p>If you trust it:</p> <pre><code>curl -L https://aka.ms/gcm/linux-install-source.sh | sh\ngit-credential-manager configure\n</code></pre>"},{"location":"software/git/git-credential-manager/#amazon-linux-2","title":"Amazon Linux 2","text":"<ul> <li>special trick for vscode-1.86+</li> <li>TODO - copy this in</li> </ul>"},{"location":"software/git/git-credential-manager/#configure","title":"Configure","text":""},{"location":"software/git/git-credential-manager/#credentialusehttppath-use-different-creds-per-repo","title":"credential.useHttpPath : Use different creds per repo","text":"<p>If you have different identities (personal, work, etc) you will need this:</p> <pre><code>git config --global credential.useHttpPath true\n</code></pre>"},{"location":"software/git/git-credential-manager/#credentialcredentialstore-choose-a-backend","title":"credential.credentialStore : choose a backend","text":"<p>Select the type of credential store to use on supported platforms.</p> <ul> <li>docs (github.com)</li> </ul> <p>Defaults: - Windows: wincredman - macOS:  keychain - Linux: unset</p> Value Credential Store Platforms wincredman Windows Credential Manager (not available over SSH). Windows dpapi DPAPI protected files. Customize the DPAPI store location with credential.dpapiStorePath Windows keychain macOS Keychain. macOS secretservice freedesktop.org Secret Service API via libsecret (requires a graphical interface to unlock secret collections). Linux gpg Use GPG to store encrypted files that are compatible with the pass (requires GPG and pass to initialize the store). macOS, Linux cache Git's built-in credential cache. macOS, Linux plaintext Store credentials in plaintext files (UNSECURE). Customize the plaintext store location with credential.plaintextStorePath. Windows, macOS, Linux"},{"location":"software/git/git-credential-manager/#credentialcredentialstore-gpg","title":"credential.credentialStore gpg","text":"<p>Ideally store your GPG key on a hardware device (e.g. yubikey)</p> <ul> <li>GPG / Pass Compatible files (github.com)</li> </ul> <p>Install <code>pass</code>:</p> <pre><code>sudo apt install -y pass gpg\n</code></pre> <p>Tell git to use it: <pre><code>git config --global credential.credentialStore gpg\n</code></pre></p>"},{"location":"software/git/git-credential-manager/#headlesstty-only-sessions","title":"Headless/TTY-only sessions","text":"<p>If you are using the gpg credential store in a headless/TTY-only environment, you must ensure you have configured the GPG Agent (gpg-agent) with a suitable pin-entry program for the terminal such as pinentry-tty or pinentry-curses.</p> <p>If you are connecting to your system via SSH, then the SSH_TTY variable should automatically be set. GCM will pass the value of SSH_TTY to GPG/GPG Agent as the TTY device to use for prompting for a passphrase.</p> <p>If you are not connecting via SSH, or otherwise do not have the SSH_TTY environment variable set, you must set the GPG_TTY environment variable before running GCM. The easiest way to do this is by adding the following to your profile (~/.bashrc, ~/.profile etc):</p> <pre><code>export GPG_TTY=$(tty)\n</code></pre> <p>Note: Using /dev/tty does not appear to work here - you must use the real TTY device path, as returned by the tty utility.</p>"},{"location":"software/git/git-ignore/","title":"git ignore","text":""},{"location":"software/git/git-ignore/#global-ignore-rules","title":"Global Ignore Rules","text":"<pre><code>git config --global core.excludesfile ~/.gitignore_global\necho '*sync-conflict*' &gt;&gt; ~/.gitignore_global\n</code></pre>"},{"location":"software/git/git-ignore/#check-which-rule-caused-git-to-ignore","title":"Check which rule caused git to ignore","text":"<pre><code>git check-ignore -v path/to/check\n</code></pre>"},{"location":"software/git/git-ignore/#ignore-some-local-changes","title":"Ignore some local changes","text":"<ul> <li>How do I configure git to ignore some files locally - Stack Overflow (stackoverflow.com)</li> </ul> <p>Patterns which are specific to a particular repository but which do not need to be shared with other related repositories (e.g., auxiliary files that live inside the repository but are specific to one user's workflow) should go into the <code>$GIT_DIR/info/exclude</code> file.</p> <p>Note, if you already have unstaged changes you must run the following after editing your ignore-patterns: <pre><code>git update-index --assume-unchanged &lt;file-list&gt;\n</code></pre></p>"},{"location":"software/git/git-ignore/#ignore-local-changes","title":"Ignore local changes","text":"<p>Tell Git to ignore changes to a file locally without affecting the repository or other collaborators:</p> <pre><code>git update-index --assume-unchanged path/to/file\n</code></pre> <p>List affected files with:</p> <pre><code>git ls-files -v | grep '^h'\n</code></pre> <p>Undo with: <pre><code>git update-index --no-assume-unchanged path/to/file\n</code></pre></p>"},{"location":"software/git/git-ignore/#global-ignore-file","title":"Global Ignore file","text":"<pre><code>$\u00a0touch\u00a0~/.gitignore\n$\u00a0git\u00a0config\u00a0--global\u00a0core.excludesFile\u00a0~/.gitignore\n</code></pre>"},{"location":"software/git/git-ignore/#list-ignored-files-under-current-dir","title":"List ignored files under current dir","text":"<pre><code>git clean -n -X\n</code></pre>"},{"location":"software/git/git-ignore/#which-file-to-place-a-pattern-in-depends-on-how-the-pattern-is-meant-to-be-used","title":"Which file to place a pattern in depends on how the pattern is meant to be used.","text":"<p>\u2022   Patterns which should be version-controlled and distributed to other repositories via clone (i.e., files that all developers will     want to ignore) should go into a .gitignore file.</p> <p>\u2022   Patterns which are specific to a particular repository but which do not need to be shared with other related repositories (e.g.,     auxiliary files that live inside the repository but are specific to one user\u2019s workflow) should go into the $GIT_DIR/info/exclude     file.</p> <p>\u2022   Patterns which a user wants Git to ignore in all situations (e.g., backup or temporary files generated by the user\u2019s editor of     choice) generally go into a file specified by core.excludesFile in the user\u2019s ~/.gitconfig. Its default value is     $XDG_CONFIG_HOME/git/ignore. If $XDG_CONFIG_HOME is either not set or empty, $HOME/.config/git/ignore is used instead.</p>"},{"location":"software/git/git-ignore/#gitignore-and-gitattributes-pattern-format","title":"gitignore (and gitattributes) PATTERN FORMAT","text":"<p>\u2022   A blank line matches no files, so it can serve as a separator for readability.</p> <p>\u2022   A line starting with # serves as a comment. Put a backslash (\"\\\") in front of the first hash for patterns that begin with a hash.</p> <p>\u2022   Trailing spaces are ignored unless they are quoted with backslash (\"\\\").</p> <p>\u2022   An optional prefix \"!\" which negates the pattern; any matching file excluded by a previous pattern will become included again. It     is not possible to re-include a file if a parent directory of that file is excluded. Git doesn\u2019t list excluded directories for     performance reasons, so any patterns on contained files have no effect, no matter where they are defined. Put a backslash (\"\\\") in     front of the first \"!\" for patterns that begin with a literal \"!\", for example, \"!important!.txt\".</p> <p>\u2022   The slash / is used as the directory separator. Separators may occur at the beginning, middle or end of the .gitignore search     pattern.</p> <p>\u2022   If there is a separator at the beginning or middle (or both) of the pattern, then the pattern is relative to the directory level of     the particular .gitignore file itself. Otherwise the pattern may also match at any level below the .gitignore level.</p> <p>\u2022   If there is a separator at the end of the pattern then the pattern will only match directories, otherwise the pattern can match     both files and directories.</p> <p>\u2022   For example, a pattern doc/frotz/ matches doc/frotz directory, but not a/doc/frotz directory; however frotz/ matches frotz and     a/frotz that is a directory (all paths are relative from the .gitignore file).</p> <p>\u2022   An asterisk \"*\" matches anything except a slash. The character \"?\" matches any one character except \"/\". The range notation, e.g.     [a-zA-Z], can be used to match one of the characters in a range. See fnmatch(3) and the FNM_PATHNAME flag for a more detailed     description.</p> <p>Two consecutive asterisks (\"**\") in patterns matched against full pathname may have special meaning:</p> <p>\u2022   A leading \"\" followed by a slash means match in all directories. For example, \"/foo\" matches file or directory \"foo\" anywhere,     the same as pattern \"foo\". \"**/foo/bar\" matches file or directory \"bar\" anywhere that is directly under directory \"foo\".</p> <p>\u2022   A trailing \"/\" matches everything inside. For example, \"abc/\" matches all files inside directory \"abc\", relative to the     location of the .gitignore file, with infinite depth.</p> <p>\u2022   A slash followed by two consecutive asterisks then a slash matches zero or more directories. For example, \"a/**/b\" matches \"a/b\",     \"a/x/b\", \"a/x/y/b\" and so on.</p> <p>\u2022   Other consecutive asterisks are considered regular asterisks and will match according to the previous rules.</p>"},{"location":"software/git/git-lfs/","title":"git-lfs","text":""},{"location":"software/git/git-lfs/#lfs","title":"lfs","text":"<pre><code>git lfs ls-files --all\n</code></pre> <p>Remove from lfs</p> <pre><code>git lfs untrack '&lt;file-type&gt;'\ngit rm --cached '&lt;file-type&gt;'\ngit add '&lt;file-type&gt;'\ngit commit -m \"restore '&lt;file-type&gt;' to git from lfs\"\n</code></pre>"},{"location":"software/git/git-lfs/#see-also","title":"See also","text":"<ul> <li>https://gregoryszorc.com/blog/2021/05/12/why-you-shouldn%27t-use-git-lfs/<ul> <li>performance</li> </ul> </li> </ul>"},{"location":"software/git/git-main-master/","title":"Change default branch  from main to master","text":"<p>Remembering whether default branch is <code>master</code> or <code>main</code> can be taxing.</p>"},{"location":"software/git/git-main-master/#update-github","title":"Update GitHub","text":"<p>Update on GitHub.com: Settings -&gt; General -&gt; Default branch</p>"},{"location":"software/git/git-main-master/#update-local-repositories","title":"Update local repositories","text":"<pre><code>git branch -m main &lt;BRANCH&gt;\ngit fetch origin\ngit branch -u origin/&lt;BRANCH&gt; &lt;BRANCH&gt;\ngit remote set-head origin -a\n</code></pre>"},{"location":"software/git/git-submodules/","title":"Git submodules","text":"<ul> <li>Git - Submodules (git-scm.com)</li> </ul> <p>Submodules allow you to keep a Git repository as a subdirectory of another Git repository. This lets you clone another repository into your project and keep your commits separate.</p> <p>The git submodule command is available since Git 1.5.3 (2007).</p> <p>Git Submodules get a bad rap. They were the \"new shiny thing\" introduced in 2007 and fulfilled a perceived need. Many of us used them, got confused, and swore \"never again\". Revisting them in 2022, it seems a bit of work has been done to make using them easier.</p>"},{"location":"software/git/git-submodules/#list-submodules","title":"List submodules","text":"<pre><code>git submodule status\n</code></pre>"},{"location":"software/git/git-submodules/#git-clone-with-submodules","title":"Git clone with submodules","text":"<p>Still not super clear on this...</p> <p>Make sure the parent repo knows that its submodule now tracks a branch:</p> <pre><code>cd /path/to/your/parent/repo\ngit config -f .gitmodules submodule.&lt;path&gt;.branch &lt;branch&gt;\n</code></pre> <p>Make sure your submodule is actually at the latest of that branch:</p> <pre><code>cd path/to/your/submodule\ngit checkout -b branch --track origin/branch\n  # if the master branch already exist:\n  git branch -u origin/master master\n</code></pre> <ul> <li>How can I specify a branchtag when adding a Git submodule - Stack Overflow (stackoverflow.com)</li> </ul> <p><pre><code>git clone --recurse-submodules https://github.com/chaconinc/MainProject\ngit submodule update --init --recursive\n</code></pre> - Set branch for all Git Submodules - Stack Overflow (stackoverflow.com)</p>"},{"location":"software/git/git-submodules/#update-submodules-in-repo","title":"Update submodules in repo:","text":"<pre><code>git submodule update --remote --recursive --rebase # [--merge]\n</code></pre>"},{"location":"software/git/git-submodules/#config","title":"Config","text":"<pre><code>$ cat .gitmodules\n[submodule \"public\"]\n    path = public\n    url = git@github-mbailey:mbailey/notes\n    branch = master\n[submodule \"work/work-notes\"]\n    path = work/work-notes\n    url = git@github-work/Work/work-notes.git\n    branch = main\n</code></pre> <p>Include submodule status in <code>git diff</code> output (vs. <code>git diff --submodule</code>):</p> <pre><code>git config --global diff.submodule log\n</code></pre> <p>Show short summary of changes to your submodules:</p> <pre><code>git config --global status.submodulesummary 1\n</code></pre> <p>Check submodules have been pushed before pushing changes:</p> <pre><code>git config --global push.recurseSubmodules check # on-demand\n</code></pre>"},{"location":"software/git/git-submodules/#add-submodule-to-repository","title":"Add submodule to repository","text":"<ul> <li>Using submodules in Git - (vogella.com)</li> </ul> <pre><code>git submodule add -b master git@github-mbailey:mbailey/notes.git public\n\n# Alternatively, don't track head of master branch\n# git submodule add git@github-mbailey:mbailey/notes.git public\n\ngit submodule init\n</code></pre>"},{"location":"software/git/git-submodules/#remove-submodule-from-repository","title":"Remove submodule from repository","text":"<pre><code>git rm &lt;path-to-submodule&gt; # and commit\n</code></pre> <p>This removes the filetree at , and the submodule's entry in the .gitmodules file. I.e. all traces of the submodule in your repository proper are removed. <p>As the docs note however, the .git dir of the submodule is kept around (in the modules/ directory of the main project's .git dir), \"to make it possible to checkout past commits without requiring fetching from another repository\". If you nonetheless want to remove this info, manually delete the submodule's directory in .git/modules/, and remove the submodule's entry in the file .git/config.</p> <p>These steps can be automated using the commands:</p> <pre><code>rm -rf .git/modules/&lt;path-to-submodule&gt;, and\ngit config --remove-section submodule.&lt;path-to-submodule&gt;.\n</code></pre> <ul> <li>git - How do I remove a submodule - Stack Overflow</li> </ul>"},{"location":"software/git/git-submodules/#move-submodule","title":"Move submodule","text":"<pre><code>git mv old/submod new/submod\n</code></pre>"},{"location":"software/git/git-submodules/#when-upstream-repository-changes-url-of-submodule-in-the-gitmodules-file","title":"When upstream repository changes URL of submodule in the .gitmodules file","text":"<p>Copy the new URL to your local config</p> <pre><code>$ git submodule sync --recursive:\n</code></pre> <p>Update the submodule from the new URL:</p> <pre><code>$ git submodule update --init --recursive\n</code></pre>"},{"location":"software/git/git-submodules/#switching-from-subdirectories-to-submodules","title":"Switching from subdirectories to submodules","text":"<p>If you delete the subdirectory and then run submodule add, Git yells at you.</p> <pre><code>$ rm -Rf CryptoLibrary/\n$ git submodule add https://github.com/chaconinc/CryptoLibrary\n'CryptoLibrary' already exists in the index\n</code></pre> <p>Unstage the CryptoLibrary directory first, then add the submodule:</p> <pre><code>$ git rm -r CryptoLibrary\n$ git submodule add https://github.com/chaconinc/CryptoLibrary\nCloning into 'CryptoLibrary'...\nremote: Counting objects: 11, done.\nremote: Compressing objects: 100% (10/10), done.\nremote: Total 11 (delta 0), reused 11 (delta 0)\nUnpacking objects: 100% (11/11), done.\nChecking connectivity... done.\n</code></pre>"},{"location":"software/git/git-submodules/#misc-commands","title":"Misc commands","text":"<p>submodule foreach:</p> <pre><code>git submodule foreach 'git stash'\n</code></pre>"},{"location":"software/git/gitattributes/","title":"gitattributes","text":""},{"location":"software/git/gitattributes/#global-attributesfile-location","title":"global attributesfile location","text":"<p>Get:</p> <pre><code>git config --get core.attributesfile\n</code></pre> <p>Set: <pre><code>git config --global core.attributesfile '~/.gitattributes'\n</code></pre></p> <p>Check git attributes:</p> <pre><code>git check-attr -a --all\n</code></pre>"},{"location":"software/git/gitattributes/#scope","title":"Scope","text":"<p>single repo, all users: <code>$GIT_DIR/info/attributes</code></p> <p>all repos, single user: <code>${XDG_CONFIG_HOME:-${HOME}/.config}/git/attributes</code></p> <p>all repos, all users:     <code>$(prefix)/etc/gitattributes</code></p> <p>If you wish to affect only a single repository (i.e., to assign attributes to files that are particular to one user\u2019s workflow for that repository), then attributes should be placed in the $GIT_DIR/info/attributes file. Attributes which should be version-controlled and distributed to other repositories (i.e., attributes of interest to all users) should go into .gitattributes files. Attributes that should affect all repositories for a single user should be placed in a file specified by the core.attributesFile configuration option (see git-config(1)). Its default value is $XDG_CONFIG_HOME/git/attributes. If $XDG_CONFIG_HOME is either not set or empty, $HOME/.config/git/attributes is used instead. Attributes for all users on a system should be placed in the $(prefix)/etc/gitattributes file. - <code>man gitattributes</code></p>"},{"location":"software/git/image-minification/","title":"Git Image Minification","text":"<p>Keep repos from growing due to unnecessarily large images.</p> <p>Note: I'm using pre-commit hooks instead to minify images now [4 Feb 2024].</p>"},{"location":"software/git/image-minification/#pngs","title":"PNGs","text":"<p>Apply lossy compression when PNG is commit commited to index from work tree.</p> <ul> <li>Depends on <code>pngquant</code> binary.</li> <li>Commit will fail if command fails (you can turn this off by setting <code>required false</code>)</li> </ul> <p>Update Git attributes in this repo to tell git to apply a Git Filter on PNG files before <code>commit</code> and <code>diff</code>:</p> <pre><code>echo \"*.png filter=pngquant\" &gt;&gt; ~/.gitattributes\n</code></pre> <p>Set Git \"clean/smudge\" filters in your checked out repo tell Git what command to run. Leave out <code>--global</code> to apply filter to current repo only.</p> <pre><code>git config --global filter.pngquant.required true \ngit config --global filter.pngquant.clean \"pngquant --speed 1 --strip -\"\ngit config --global filter.pngquant.smudge cat\n</code></pre>"},{"location":"software/git/image-minification/#resize-jpegs-on-commit","title":"Resize JPEGs on commit","text":"<p>Resize JPEG image to maximum width of 1920 pixels (only if wider) when commited to index from work tree.</p> <ul> <li> <p> Should we update image in work tree? #TODO</p> </li> <li> <p>Depends on <code>convert</code> binary (part of ImageMagick)</p> </li> <li>Commit will fail if command fails (you can turn this off by setting <code>required false</code>)</li> </ul> <p>Update Git attributes in this repo to tell git to apply a Git Filter on JPEG files before <code>commit</code> and <code>diff</code>:</p> <pre><code>echo \"*.jpg filter=jpeg-resize\" &gt;&gt; ~/.gitattributes\necho \"*.jpeg filter=jpeg-resize\" &gt;&gt; ~/.gitattributes\n</code></pre> <p>Set Git \"clean/smudge\" filters in your checked out repo tell Git what command to run. Leave out <code>--global</code> to apply filter to current repo only.</p> <pre><code>git config --global filter.jpeg-resize.required true \ngit config --global filter.jpeg-resize.clean \"convert jpg:- -resize '1920&gt;' -auto-orient -strip jpg:-\"\ngit config --global filter.jpeg-resize.smudge cat\n</code></pre>"},{"location":"software/git/image-minification/#measure-the-impact","title":"Measure the Impact","text":""},{"location":"software/git/image-minification/#simple-atomic-script-to-test-your-settings","title":"Simple atomic script to test your settings","text":"<pre><code>function image-minify-test() {\n    TMPDIR=$(mktemp -d -p .)\n    [[ -z $TMPDIR ]] &amp;&amp; echo \"Error: Failed to create tempdir\" &amp;&amp; return 1\n    cd $TMPDIR\n    wget https://upload.wikimedia.org/wikipedia/commons/3/3f/JPEG_example_flower.jpg\n    wget https://upload.wikimedia.org/wikipedia/commons/thumb/2/26/Example_png.png/640px-Example_png.png\n    du -sh .\n    git init .\n    git config --local user.email \"test\"\n    git config --local user.name \"Test\"\n    git config --local commit.gpgsign false\n    echo \"*.png filter=pngquant\" &gt;&gt; .gitattributes\n    echo \"*.jpg filter=jpeg-resize\" &gt;&gt; .gitattributes\n    echo \"*.jpeg filter=jpeg-resize\" &gt;&gt; .gitattributes\n    git add .\n    git commit -m 'Add images to check filesize reduction'\n    du -sh .git\n}\n</code></pre>"},{"location":"software/git/image-minification/#how-much-would-your-current-settings-reduce-all-images-in-a-dir-tree","title":"How much would your current settings reduce all images in a dir tree?","text":"<p>List all related images:</p> <pre><code># Create some tools (DSL - Domain Specific Language)\n\nfunction find-image() {\n  find $1 -regex  '.*\\.\\(jpeg\\|jpg\\|png\\)'\n}\n\nalias count='wc -l'\n</code></pre> <p>Copy all the images to a new dir:</p> <pre><code>$ find-images | count\n241\n$ mkdir image-copy\n$ find-images | grep -v image-copy | xargs -i cp '{}' --parents  image-copy\n$ find-images image-copy | count\n241\n$ du -sb image-copy\n38861938        image-copy\n$ du -sh image-copy\n38M     image-copy\n</code></pre> <p>Add them to new temporary local git repo:</p> <pre><code>cd image-copy\ngit init .\necho \"*.png filter=pngquant\" &gt;&gt; .gitattributes\necho \"*.jpg filter=jpeg-resize\" &gt;&gt; .gitattributes\necho \"*.jpeg filter=jpeg-resize\" &gt;&gt; .gitattributes\ngit add .\ngit commit .\n</code></pre> <p>Check size of images in git index:</p> <pre><code>$ du -sk .git \n# 14060   .git\n</code></pre>"},{"location":"software/git/remove-large-file/","title":"Remove large file with git filter-repo","text":"<p>100 times faster than git filter-branch and simpler (stackoverflow.com)</p>"},{"location":"software/git/remove-large-file/#git-filter-repo","title":"git filter-repo","text":"<p><code>git filter-repo</code> (github) is a versatile tool for rewriting history. It is now recommended by the git project instead of <code>git filter-branch</code>.</p> <p>git-filter-repo is a single-file python script, which was done to make installation for basic use on many systems trivial: just place the script into your $PATH.</p> <p>Installation is as easy as:</p> <pre><code>$ PACKAGE_TOOL install git-filter-repo\n</code></pre> <p>Warning: Do this on a copy of your repository. Many actions of filter-repo cannot be undone. filter-repo will change the commit hashes of all modified commits (of course) and all their descendants down to the last commits!</p> <p>First you can run:</p> <pre><code>git filter-repo --analyze\n</code></pre> <p>This helps you to determine what to do next.</p> <p></p> <p>You can delete your big mp3 file everywhere:</p> <pre><code>git filter-repo --invert-paths --path-match bigfile.mp3\n</code></pre>"},{"location":"software/git/self-hosting/","title":"Self hosting a Git server","text":"<p>Add a git remote to a server you have SSH access to.</p> <ol> <li> <p>On the Git server:    <pre><code>mkdir /path/to/repo.git\ncd /path/to/repo.git\ngit init --bare\n</code></pre></p> </li> <li> <p>On your local machine:    <pre><code>cd /path/to/local/repo\ngit remote add origin user@git-server:/path/to/repo.git\ngit push -u origin master\n</code></pre></p> </li> </ol>"},{"location":"software/git/tags/","title":"Git Tags","text":""},{"location":"software/git/tags/#commands","title":"Commands","text":"<p>List tags: </p>"},{"location":"software/git/tree%20sitter/","title":"tree sitter","text":"<p>Tree-sitter is a parser generator tool and an incremental parsing library.</p> <ul> <li>tree sitter</li> </ul>"},{"location":"software/git/branches/Rebase%20a%20local%20branch%20on%20upstream%20master/","title":"Rebase a local branch on upstream master","text":""},{"location":"software/git/branches/Rebase%20a%20local%20branch%20on%20upstream%20master/#steps","title":"Steps","text":""},{"location":"software/git/branches/Rebase%20a%20local%20branch%20on%20upstream%20master/#1-sync-your-fork-with-upstream","title":"1. Sync your fork with upstream","text":"<pre><code>git fetch upstream\ngit checkout master\ngit status # Check for any local changes\ngit reset --hard upstream/master\ngit push\n</code></pre>"},{"location":"software/git/branches/Rebase%20a%20local%20branch%20on%20upstream%20master/#2-rebase-your-branch","title":"2. Rebase your branch","text":"<pre><code>git fetch upstream\ngit rebase upstream/master\n</code></pre>"},{"location":"software/git/branches/Rebase%20a%20local%20branch%20on%20upstream%20master/#troubleshooting","title":"Troubleshooting","text":""},{"location":"software/git/branches/Rebase%20a%20local%20branch%20on%20upstream%20master/#rewritten-commits","title":"Rewritten commits","text":"<p>If you rebase from upstream you may inadvertantly modify the commits by changing <code>Commit:</code> to yourself.</p> <pre><code>commit eb9c41f2a0087e90936d55d3e4ba3c9b7be3e517 (HEAD -&gt; main, upstream/main)\nAuthor:     Paul Gauthier &lt;paul@aider.chat&gt;\nAuthorDate: Tue Dec 17 13:42:59 2024 -0800\nCommit:     Paul Gauthier (aider) &lt;paul@aider.chat&gt;\nCommitDate: Tue Dec 17 13:42:59 2024 -0800\n\n    feat: Enable complete_while_typing in prompt_session\n</code></pre>"},{"location":"software/git/conventions/commit/","title":"Git Commit Conventions","text":"<p>Git commit messages help track and understand changes in a project. Using consistent commit message conventions makes it easier to automate changelog generation, version management, and code review.</p> <ul> <li>Conventional Commits</li> </ul>"},{"location":"software/git/github/","title":"GitHub","text":"<ul> <li>GitHub CLI</li> <li>SSH<ul> <li>managing-github-ssh-key-cross-org-boundaries</li> </ul> </li> <li> <p>copilot-voice</p> </li> <li> <p>Find your GitHub user id (Mine is #4409 mbailey)</p> </li> </ul>"},{"location":"software/git/github/#github-command-palette","title":"GitHub Command Palette","text":"<p>Keyboard Shortcuts for GitHub.com GitHub Command Palette (docs.github.com)</p> <ul> <li>Search:  <code>Ctrl-K</code></li> <li>Run command: <code>Ctrl-Shift-K</code></li> </ul>"},{"location":"software/git/github/#releases","title":"Releases","text":"<ul> <li>Watch releases  You can limit repository notifications exclusively to releases.</li> </ul> <p>Follow releases:  <code>https://github.com/(org or user)/(repo)/releases.atom</code></p>"},{"location":"software/git/github/#issue-and-pull-request-templates","title":"Issue and Pull Request templates","text":"<ul> <li>Announce (github.com)</li> <li>docs (github.com)</li> </ul>"},{"location":"software/git/github/#creating-an-issue-from-a-task-list-item-githubcom","title":"Creating an issue from a task list item (github.com)","text":"<p>Within an issue, you can use task lists to break work into smaller tasks and track the full set of work to completion. If a task requires further tracking or discussion, you can convert the task to an issue by hovering over the task and clicking target in the upper-right corner of the task. For more information, see \"About task lists.\" </p>"},{"location":"software/git/github/#github-organizations","title":"Github Organizations","text":"<p>Settings to stop repo visibility being set to public:</p> <p>Default visibility for new repositories (github.blog) Now, when you're signed into GitHub through an organization's single sign on service and create a new repository through the website navigation, the default selection is Private.</p> <p>Restricting repository visibility changes in your organization You can restrict the ability to change repository visibility to organization owners only, or you can allow anyone with admin access to a repository to change visibility.</p>"},{"location":"software/git/github/#github-actions","title":"GitHub Actions","text":"<ul> <li>Using GitHub CLI in workflows - GitHub Docs</li> <li>Events that trigger workflows - GitHub Docs</li> <li>Using activity types and filters with multiple events</li> <li>Triggers  Dev Cheatsheets</li> </ul>"},{"location":"software/git/github/#cli","title":"CLI","text":"<p>Watch Workflow run in realtime:</p> <pre><code>gh run watch\n</code></pre> <ul> <li>Workflow: runs one or more jobs</li> <li>Event:  triggers Action</li> <li>Job:</li> <li>set of steps that execute on the same runner</li> <li>shell script or Action</li> <li>Action: custom application</li> <li>Runner: server that runs your workflows</li> </ul>"},{"location":"software/git/github/cli/","title":"Github CLI","text":"<ul> <li>https://cli.github.com</li> </ul>"},{"location":"software/git/github/cli/#extensions","title":"Extensions","text":"<ul> <li>gh-dash (dlvhdr.github.io): A GitHub (<code>gh</code>) CLI extension to display a dashboard with pull requests and issues by filters you care about.</li> </ul>"},{"location":"software/git/github/cli/#delete-workflows","title":"Delete workflows","text":"<p><pre><code>$ for x in $(gh run list --branch debug-github-workflow | cut -f7); do echo $x; gh run delete $x -R some_dir ; done\n1263336875\n\u2713 Request to delete workflow submitted.\n3364456389\n\u2713 Request to delete workflow submitted.\n3352638368\n\u2713 Request to delete workflow submitted.\n4336276464\n</code></pre> `</p>"},{"location":"software/git/github/githubusercontent/","title":"Githubusercontent","text":""},{"location":"software/git/github/githubusercontent/#hosting-on-user-imagesgithubusercontentcom-subdomain","title":"Hosting on user-images.githubusercontent.com subdomain","text":"<ul> <li>Users risk unknowingly publishing sensitive material on public web when using GitHub.</li> <li>Dragging certain files into GitHub Issue or Markdown file using GitHub Web causes upload to public site.</li> <li>Assets are published using an obscure URL.</li> <li>Removing file requires contact with GitHub support</li> </ul> <p>Dragging an asset (image, video, document, etc) into a GitHub.com Issue or editing window (for a Markdown file in the repo) will result in the asset being immediately uploaded to a publicly accessible URL location, even if the repo you're editing is not public.</p> <p>The URL looks something like the real example below:</p> <p></p> <p><code>https://user-images.githubusercontent.com/4409/191630770-ae8ea473-a0e8-47f1-9ad4-f8fde4f0af99.jpg</code></p> <p>GitHub advise against using this for sensitive media.</p> <p>To host your images, GitHub uses the open-source project Camo. Camo generates an anonymous URL proxy for each file which hides your browser details and related information from other users. The URL starts <code>https://&lt;subdomain&gt;.githubusercontent.com/</code>, with different subdomains depending on how you uploaded the image.</p> <p>Videos also get anonymized URLs with the same format as image URLs, but are not processed through Camo. This is because GitHub does not support externally hosted videos, so the anonymized URL is a link to the uploaded video hosted by GitHub.</p> <p>Anyone who receives your anonymized URL, directly or indirectly, may view your image or video. To keep sensitive media files private, restrict them to a private network or a server that requires authentication instead of using Camo.</p> <ul> <li>Anonymised URLs - GitHub.com</li> </ul>"},{"location":"software/git/github/managing-github-ssh-key-cross-org-boundaries/","title":"Managing Cross Org Github SSH Boundaries","text":"<p>SSH keys in a GitHub account are long lived and work across all Organizations that:</p> <ul> <li>permit SSH access to repos</li> <li>have authorized the key for access if the Organization enforces SSO (Single sign-on)</li> <li>have granted the user access to repos</li> </ul> <p>This means that anyone obtaining access to an SSH key for your Github account may possibly be able to access repos for more than one Org.</p> <p>Using an SSH key on a client managed device could grant access to other clients repos.</p>"},{"location":"software/git/github/managing-github-ssh-key-cross-org-boundaries/#suggested-mitigation-options","title":"Suggested Mitigation Options","text":"<ol> <li>Separate GitHub user for each Org: Reduces blast radius from compromise. 100% mitigation.</li> <li>Different SSH keys (same user) for each Org: This will only protect Orgs that require SSO.</li> <li>Store SSH keys on hardware token: Use a yubikey (or similar) for your SSH credentials. </li> <li>Org prohibits SSH Access: Orgs cannot control how users manage their SSH keys</li> </ol>"},{"location":"software/git/github/ssh/","title":"GitHub SSH","text":"<ul> <li>GitHub accepts Git connections via SSH and HTTPS.</li> <li>SSH keys are used to identify which GitHub user is connecting.<ul> <li>Multi-account Git SSH access requires special setup.</li> </ul> </li> <li>Managing GitHub SSH key cross-org boundaries</li> </ul>"},{"location":"software/git/github/ssh/#test-client-connection","title":"Test client connection","text":"<pre><code>ssh -T git@github.com_work\n</code></pre>"},{"location":"software/git/github/ssh/#multi-account-git-ssh-access","title":"Multi-account Git SSH Access","text":"<pre><code># ~/.ssh/config\n\nHost github.com_personal\n  User git\n  HostName github.com\n  IdentityFile ~/.ssh/github.com_personal\n  IdentitiesOnly yes\n\nHost github.com_work\n  User git\n  HostName github.com\n  IdentityFile ~/.ssh/github.com_work\n  IdentitiesOnly yes\n</code></pre>"},{"location":"software/git/github/ssh/#troubleshooting","title":"Troubleshooting","text":""},{"location":"software/git/github/ssh/#which-account-is-this-ssh-public-key-used-for","title":"Which account is this SSH public key used for?","text":"<p>The simplest and quickest way to verify which GitHub account a key is setup on is to use it to connect:</p> <pre><code>$ ssh -i ~/.ssh/id-github-mbailey git@github.com\nEnter passphrase for key 'id-github-mbailey': \nPTY allocation request failed on channel 0\nHi mbailey! You've successfully authenticated, but GitHub does not provide shell access.\nConnection to github.com closed.\n</code></pre>"},{"location":"software/git/github/ssh/#use-specific-key-from-ssh-agent","title":"Use specific key from ssh-agent","text":"<ul> <li>serverfault.com</li> </ul> <p>I want to interact with GitHub.com from some servers I SSH to. I use special SSH keys for GitHub.com auth. This trick lets me request a different key for my SSH Agent to forward.</p> <p>SSH to remote host with AgentForwarding enabled:</p> <pre><code>ssh -A example.com\n</code></pre> <p>Copy SSH public key to remote server and update ~/.ssh/config to point at it:</p> <pre><code>scp ${HOME}/.ssh/id-github-mike.pub somehost:.ssh/id-github-mike.pub\n</code></pre> <p>Remote servers have same SSH client config as local:</p> <pre><code>Host github.com\n  User git\n  IdentityFile ~/.ssh/id-github-mike\n  IdentitiesOnly yes\n</code></pre> <p>Test SSH access to github from remote host:</p> <pre><code>$ ssh git@github.com\nPTY allocation request failed on channel 0\nHi mike! You've successfully authenticated, but GitHub does not provide shell access.\nConnection to github.com closed.\n</code></pre>"},{"location":"software/git/github/ssh/#reviewing-your-ssh-keys","title":"Reviewing your SSH keys","text":"<ul> <li>Reviewing your SSH keys - GitHub Docs</li> <li>https://github.com/settings/keys</li> </ul> <p>You can review your SSH keys on GitHub and compare the public key fingerprints against those of your local keys. </p> <p>Start ssh-agent: <pre><code>$ eval \"$(ssh-agent -s)\"\n&gt; Agent pid 59566\n</code></pre></p> <p>Load GitHub keys into ssh-agent: <pre><code>$ ssh-add $(ls ~/.ssh/id-github* | grep -v '.pub')\nEnter passphrase for /home/m/.ssh/id-github-mbailey: \nIdentity added: /home/m/.ssh/id-github-mbailey (mike@home)\nIdentity added: /home/m/.ssh/id-github-work (mike@work)\n</code></pre></p> <p>List public key fingerprints: <pre><code>$ ssh-add -l -E sha256\n256 SHA256:i89Xb33AS/iF/ThIS/wAS/ReALdgcZWAtKpR6dn7gzAw mike@home (ED25519)\n256 SHA256:VEF2ei503nwBIqIRCOGGtAbsR5SOcFAKEYuGxMndABng mike@work (ED25519)\n</code></pre></p>"},{"location":"software/git/github/copilot/","title":"Github Copilot","text":"<ul> <li>VSCode OAuth 2.0 login with device flow only shares email address with App</li> </ul>"},{"location":"software/git/github/copilot/copilot-in-the-cli/","title":"Copilot in the CLI","text":"<ul> <li>[Using GitHub Copilot in the CLI - GitHub Docs](https://docs.github.com/en/copilot/github-copilot-in-the-cli/using-github-copilot-in-the-cli</li> </ul>"},{"location":"software/git/github/copilot/copilot-in-the-cli/#installing-copilot-in-the-cli","title":"Installing Copilot in the CLI","text":"<pre><code>gh auth login\ngh extension install github/gh-copilot\ngh extension upgrade gh-copilot\n</code></pre>"},{"location":"software/git/github/copilot/copilot-voice/","title":"Copilot Voice","text":"<p>Control VSCode with voice.</p> <ul> <li>Copilot Voice (githubnext.com)</li> </ul>"},{"location":"software/git/github/copilot/copilot-voice/#steps","title":"Steps","text":"<ul> <li>install vscode extension</li> <li>request access to preview</li> <li>Install Java: https://learn.microsoft.com/en-us/java/openjdk/download</li> </ul>"},{"location":"software/git/pre-commit/","title":"pre-commit","text":"<p>Python tool for managing git pre-commit hooks</p> <ul> <li> <p>https://pre-commit.com/</p> </li> <li> <p>remove-pre-commit-from-git-repo</p> </li> <li>Run on a commit that's already committed: <code>pre-commit run --from-ref HEAD~1 --to-ref HEAD</code></li> </ul>"},{"location":"software/git/pre-commit/#usage","title":"Usage","text":""},{"location":"software/git/pre-commit/#install-pre-commit-into-your-repos-git-hooks","title":"Install pre-commit into your repo's git hooks","text":"<ul> <li>Do this whenever on any checked out repo where you want pre-commit to run on every commit. <pre><code> pre-commit install\n</code></pre></li> </ul> <p>Run manually: <pre><code>pre-commit run --all-files\n</code></pre></p> <p>Output from failing git commit: <pre><code>&gt; git -c user.useConfigOnly=true commit --quiet --allow-empty-message --file - -S\ncheck for added large files..............................................Passed\nMarkdown Link Check......................................................Failed\n- hook id: markdown-link-check\n- exit code: 1\n\nERROR: 1 dead links found in personal/Daily/2024-01/2024-01-30-Tue.md !\n  [\u2716] ../tasks/summary.md \u2192 Status: 400\n</code></pre></p>"},{"location":"software/git/pre-commit/#install","title":"Install","text":"<pre><code>pip install --upgrade identify\npip install --upgrade pre-commit\n</code></pre> <p>Shell completion script: Takishima/pre-commit-completion Bash completion for pre-commit with hook id completion provided based on the <code>rapidyaml</code> , <code>c4core</code> and <code>c4fs</code> libraries (github.com)</p>"},{"location":"software/git/pre-commit/#configure","title":"Configure","text":""},{"location":"software/git/pre-commit/#add-pre-commit-configyaml-to-git-repo","title":"Add .pre-commit-config.yaml to git repo","text":""},{"location":"software/git/pre-commit/#setup-the-git-hook-scripts","title":"Setup the git hook scripts","text":"<pre><code>pre-commit install\n</code></pre>"},{"location":"software/git/pre-commit/#lock-external-hooks-to-a-specific-version-git-sha-with","title":"Lock external hooks to a specific version (git sha) with:","text":"<pre><code>pre-commit autoupdate --freeze\n</code></pre>"},{"location":"software/git/pre-commit/#testing","title":"Testing","text":"<pre><code>rm -fr .git &amp;&amp; git init &amp;&amp; git-config-personal &amp;&amp; pre-commit install &amp;&amp; git add . &amp;&amp; git commit\n</code></pre>"},{"location":"software/git/pre-commit/#resources","title":"Resources","text":""},{"location":"software/git/pre-commit/#hooks","title":"Hooks","text":"<ul> <li>pre-commit How to create hooks for unsupported tools - Adam Johnson (adamj.eu)</li> </ul>"},{"location":"software/git/pre-commit/#notes-from-aider","title":"Notes from aider","text":""},{"location":"software/git/pre-commit/#pre-commit-hooks","title":"Pre-commit Hooks","text":"<p>The project uses pre-commit hooks to automatically format code, lint, and run other checks before committing changes. After cloning the repository, run the following command to set up the pre-commit hooks:</p> <pre><code>pre-commit install\n</code></pre> <p>pre-commit will then run automatically on each <code>git commit</code> command. You can use the following command line to run pre-commit manually:</p> <pre><code>pre-commit run --all-files\n</code></pre>"},{"location":"software/git/pre-commit/remove-pre-commit-from-git-repo/","title":"Remove pre-commit from git repo","text":"<p>by Claude.ai</p> <p>To remove pre-commit (the Python tool) from a Git repository, you'll need to take a few steps:</p> <ol> <li> <p>Remove the pre-commit configuration file:    Delete the <code>.pre-commit-config.yaml</code> file from your repository.</p> </li> <li> <p>Uninstall pre-commit hooks:    Run the following command in your repository:    <pre><code>pre-commit uninstall\n</code></pre></p> </li> <li> <p>Remove pre-commit from your project dependencies:    If you've listed pre-commit in your project's requirements file (e.g., requirements.txt or pyproject.toml), remove it.</p> </li> <li> <p>Delete the .git/hooks/pre-commit file:    This file may have been created by pre-commit. You can safely delete it.</p> </li> <li> <p>Commit these changes:    <pre><code>git add .\ngit commit -m \"Remove pre-commit configuration\"\n</code></pre></p> </li> <li> <p>Optionally, uninstall pre-commit from your system:    If you no longer need pre-commit for any projects, you can uninstall it:    <pre><code>pip uninstall pre-commit\n</code></pre></p> </li> </ol>"},{"location":"software/git/stash/","title":"git stash","text":"<ul> <li>Conflict Resolution</li> </ul> <pre><code>list\nshow [-p] [stash@{n}] -- [path]\n\napply\npop\ndrop stash@{0}\n\nbranch\nclear: remove all\ncreate\npush\n</code></pre>"},{"location":"software/git/stash/#list-with-dates","title":"List with dates","text":"<p>Simple:  <pre><code>git stash list --date=local\n</code></pre></p> <p>Perty: <pre><code>git stash list --pretty=format:\"%C(auto)%h %&lt;(15)%gd %&lt;(10)%cr %s\"\n</code></pre></p>"},{"location":"software/git/stash/#back-out-of-a-merge","title":"Back out of a merge","text":"<pre><code>git reset --merge\n</code></pre>"},{"location":"software/git/stash/#show-diff","title":"Show diff","text":"<p>git stash show -p git stash show -p stash@{n}</p>"},{"location":"software/git/stash/Conflict%20Resolution/","title":"Git Stash Conflict Resolution","text":"<p>Cleaning up the mess after <code>git stash apply</code> (or <code>pop</code>) results in a merge conflict.</p> <p>(from ChatGPT):</p> <ol> <li>Resolve Conflicts and Add Changes:</li> <li>After running <code>git stash pop</code> and encountering conflicts, resolve the conflicts in the affected files.</li> <li> <p>Once resolved, add these files to the staging area:      <pre><code>git add &lt;file&gt;\n</code></pre></p> </li> <li> <p>Commit the Resolved Changes (Optional but Recommended):</p> </li> <li> <p>Commit the resolved changes to ensure they are saved in your branch:      <pre><code>git commit -m \"Resolved merge conflicts from stash\"\n</code></pre></p> </li> <li> <p>Drop the Stash:</p> </li> <li>Since <code>git stash pop</code> is supposed to apply and then drop the stash, but it doesn't drop it if there are conflicts, you need to manually drop the stash:      <pre><code>git stash drop\n</code></pre></li> <li> <p>This step is crucial. If you don't drop the stash, reapplying it will reintroduce the same changes and potentially cause the same conflicts.</p> </li> <li> <p>Do Not Reapply the Stash:</p> </li> <li> <p>After resolving the conflicts and dropping the stash, do not reapply the same stash. The changes from the stash are already incorporated into your branch after resolving the conflicts and committing them.</p> </li> <li> <p>Proceed with Your Work:</p> </li> <li>Continue with your work. The resolved changes are now part of your branch, and the stash that caused the conflict has been removed.</li> </ol> <p>By following these steps, you ensure that once a stash is popped and conflicts are resolved, the same stash doesn't get reapplied, preventing the same conflicts from reoccurring.</p>"},{"location":"software/gnu/date/","title":"date","text":"<pre><code>timestamp=$(date +%Y%m%dT%H%M%S%z)\n</code></pre>"},{"location":"software/gnu/date/#convert-various-formats-to-iso-8601","title":"Convert various formats to ISO-8601","text":"<p>$ echo \"Sep 24 03:30:00 2023\" | xargs -I {} date -d \"{}\" --iso-8601=seconds 2023-09-24T03:30:00+10:00</p>"},{"location":"software/gnu/date/#from-epoch","title":"From epoch","text":"<pre><code>$ date -d @1361234760\nTue Feb 19 11:46:00 2013\n</code></pre>"},{"location":"software/gnu/date/#replace-all-epoch-timestamps-in-a-file-with-human-readable","title":"Replace all epoch timestamps in a file with Human Readable","text":"<pre><code>$ echo foo,1361234760,bar | perl -pe 's/(\\d+)/localtime($1)/e'\nfoo,Tue Feb 19 11:46:00 2013,bar\n</code></pre>"},{"location":"software/gnu/gnupg/","title":"GnuPG","text":"<p>GNU Privacy Guard</p> <p>List the keys a file is encrypted for:</p> <pre><code>$ gpg example.gpg\ngpg: WARNING: no command supplied.  Trying to guess what you mean ...\ngpg: encrypted with rsa2048 key, ID FFFFFFFFFFFFFFF1, created 2011-01-11\n      \"Mike 1 &lt;mike@example1.com&gt;\"\ngpg: encrypted with rsa2048 key, ID FFFFFFFFFFFFFFF2, created 2011-01-11\n      \"Mike 2 &lt;mike2@example.com&gt;\"\ngpg: encrypted with rsa4096 key, ID FFFFFFFFFFFFFFF3, created 2011-01-11\n      \"Mike 3 &lt;mike3@example.com&gt;\"\n</code></pre> <p>Edit trust on a key:</p> <pre><code>$ gpg --edit-key 0x1234567812345678\n</code></pre> <p>Import a key from github:</p> <pre><code>wget https://github.com/mbailey.gpg\ngpg --import ./mbailey.gpg\n</code></pre>"},{"location":"software/gnu/gnupg/#create-a-new-key","title":"Create a new key","text":"<ul> <li>Creating GPG Keys  Fedora Docs (docs.fedoraproject.org)</li> </ul> <pre><code>gpg --full-generate-key\n</code></pre>"},{"location":"software/gnu/gnupg/#delete-a-key","title":"Delete a key","text":"<p>Delete Public: <pre><code>gpg --list-keys\ngpg --delete-keys [key-id]\n</code></pre></p> <p>Delete Secret/Private: <pre><code>gpg --list-secret-keys\ngpg --delete-secret-keys [key-id]\n</code></pre></p>"},{"location":"software/gnu/make/","title":"make","text":"<ul> <li>GNU make (www.gnu.org)</li> </ul>"},{"location":"software/gnu/make/#bash-completion","title":"Bash Completion","text":"<p>Add this in your ~/.bash_profile file or ~/.bashrc file:</p> <pre><code>complete -W \"\\`grep -oE '^[a-zA-Z0-9_.-]+:([^=]|$)' ?akefile | sed 's/[^a-zA-Z0-9_.-]*$//'\\`\" make\n</code></pre>"},{"location":"software/gnu/screen/","title":"screen","text":"<p>screen -ls screen -S my-id ctrl-a  d         # to detach screen -R my-id   # to reattach</p>"},{"location":"software/gnu/tar/","title":"Tar","text":"<ul> <li>How to create a tarball of a git repository using git archive  Simon Willison\u2019s TILs (til.simonwillison.net)</li> </ul>"},{"location":"software/gnu/tar/#commands","title":"Commands","text":"<p>List contents: <code>tar -ztvf filename.tar.gz</code>     Add from find: <code>tar czf x_files.tar.gz $(fd -HI .x)</code></p>"},{"location":"software/gnu/tee/","title":"tee","text":"<pre><code>```bash\ncommand &gt; &gt;(tee -a stdout.log) 2&gt; &gt;(tee -a stderr.log &gt;&amp;2)\n</code></pre> <ul> <li>https://stackoverflow.com/a/692407</li> </ul>"},{"location":"software/gnu/wget/","title":"wget","text":"<p>Save to specified file:</p> <pre><code>wget \\\n  --directory-prefix example.com.html \\\n  http://example.com\n</code></pre> <p>Save to specified file:</p> <pre><code>wget -O example.com.html http://example.com\n</code></pre> <p>stdout:</p> <pre><code>wget -O- http://example.com\n</code></pre>"},{"location":"software/gnu/wget/#mirror-a-website","title":"Mirror a website","text":"<pre><code>wget --mirror --convert-links --adjust-extension --page-requisites http://www.mywebsite.com/\n</code></pre> <p><code>shell &lt;!-- markdown-link-check-disable-next-line --&gt; wget --mirror --convert-links --adjust-extension --page-requisites --span-hosts -U Mozilla -e robots=off --no-cookies -D www.mywebsite.com,files.mywebsite.com,images.somewhere.com http://www.mywebsite.com/</code></p>"},{"location":"software/gnu/xargs/","title":"xargs","text":"<p>Where the argument you pass in using xargs isn't at the last argument:</p> <pre><code>ls  -tr1  |  tail  -5  |  xargs  -i  cp  '{}'  dest/folder/\n</code></pre>"},{"location":"software/grafana/","title":"Grafana","text":"<ul> <li>CVE-2022-21703 cross-origin request forgery against Grafana  jub0bs.com (jub0bs.com)</li> <li>dashboards</li> </ul>"},{"location":"software/grafana/#install","title":"Install","text":"<pre><code>sudo yum install -y https://dl.grafana.com/enterprise/release/grafana-enterprise-9.4.7-1.x86_64.rpm\nsystemctl enable --now grafana-server\n</code></pre> <ul> <li>Download Grafana  (grafana.com)</li> </ul> <p>fedora-36</p> <pre><code>Red Hat, CentOS, RHEL, and Fedora(64 Bit)SHA256: f956ba5ab8227dd3d1f30b019aeb933a242479a2cf2d675fd1f3dc86f099599c\nwget https://dl.grafana.com/enterprise/release/grafana-enterprise-9.2.2-1.x86_64.rpm\nsudo yum install grafana-enterprise-9.2.2-1.x86_64.rpm\nsudo systemctl enable -now grafana-server.service\nxdg-open http://admin:admin@localhost/\n</code></pre> <pre><code>cat &lt;&lt;EOF | sudo tee /etc/yum.repos.d/grafana.repo\n[grafana]\nname=grafana\nbaseurl=https://packages.grafana.com/oss/rpm\nrepo_gpgcheck=1\nenabled=1\ngpgcheck=1\ngpgkey=https://packages.grafana.com/gpg.key\nsslverify=1\nsslcacert=/etc/pki/tls/certs/ca-bundle.crt\nEOF\n</code></pre> <pre><code>sudo dnf -y install grafana\nsudo systemctl enable --now grafana-server.service\nsudo firewall-cmd --add-port=3000/tcp --permanent\nsudo firewall-cmd --reload\n</code></pre>"},{"location":"software/grafana/#dashboards","title":"Dashboards","text":""},{"location":"software/grafana/#-node-exporter-full-grafana-labs-grafanacom","title":"- Node Exporter Full  Grafana Labs (grafana.com)","text":""},{"location":"software/grafana/#plugins","title":"Plugins","text":"<pre><code>grafana-cli plugins install snuids-trafficlights-panel\n</code></pre>"},{"location":"software/grafana/dashboards/","title":"Dashboards","text":"<p> AWS ELB Application Load Balancer  Grafana Labs (grafana.com)2024-10-24 09:10:05 +11:00 Thu</p>"},{"location":"software/jupyter-notebooks/","title":"Jupyter Notebooks","text":"<p>Free software, open standards, and web services for interactive computing across all programming languages</p> <ul> <li>magic</li> </ul>"},{"location":"software/jupyter-notebooks/#install","title":"Install","text":"<pre><code>sudo dnf install -y \\\n  python3-nbformat \\\n  python3-nbconvert\n</code></pre>"},{"location":"software/jupyter-notebooks/#docs","title":"Docs","text":""},{"location":"software/jupyter-notebooks/#tools","title":"Tools","text":"<ul> <li>Jupyter Interactive Notebook (github.com)</li> <li>JupyterLab: computational environment. (github.com)</li> <li>Multi-user server for Jupyter notebooks (github.com)</li> <li>nbviewer (nbviewer.org): Renders static HTML web page (nbconvert) from Jupyter Notebook file URL.</li> <li>Binder (mybinder.org): executable environment for Jupyter notebooks.<ul> <li>Mining the social web (mybinder.org)</li> </ul> </li> <li>jupyter/nbdime(github.com):  Tools for diffing and merging of Jupyter notebooks. </li> <li>md2nb (pypi.org): Converting Markdown Files to Jupyter Notebook</li> </ul>"},{"location":"software/jupyter-notebooks/#commands","title":"Commands","text":"<ul> <li>nbconvert: convert a Jupyter notebook to various formats, including markdown</li> </ul>"},{"location":"software/jupyter-notebooks/#project-layout","title":"Project layout","text":"<ul> <li>Building a Repeatable Data Analysis Process with Jupyter Notebooks - Practical Business Python (pbpython.com)</li> </ul> <p>notebooks - retri</p>"},{"location":"software/jupyter-notebooks/#notebooks","title":"/notebooks","text":""},{"location":"software/jupyter-notebooks/#data","title":"/data","text":"<p>There are no strict standards for the top-level directories under the <code>/data</code> directory, but a common and effective approach is to organize them based on the data's stage in your workflow. For instance:</p> <ol> <li> <p><code>/raw</code>: Contains the raw, unprocessed data as it was originally acquired.</p> </li> <li> <p><code>/processed</code>: Holds data that has been cleaned, transformed, or otherwise processed for analysis.</p> </li> <li> <p><code>/external</code>: For data sourced from outside your organization, like third-party APIs.</p> </li> <li> <p><code>/interim</code>: Temporary storage for data that is in the process of being cleaned or transformed.</p> </li> </ol> <p>This structure helps in maintaining clarity about the state and source of your data at any point in your project.A</p>"},{"location":"software/jupyter-notebooks/#see-also","title":"See also","text":"<ul> <li>conda: Popular package manager among Jupyter users</li> </ul>"},{"location":"software/jupyter-notebooks/magic/","title":"Magic Commands","text":""},{"location":"software/jupyter-notebooks/magic/#commands","title":"Commands","text":"<ul> <li> <p>%env: list, get, set environment variables</p> </li> <li> <p>%lsmagic: List them all</p> </li> <li>%run: Run a python file</li> <li>%time: Get execution time</li> <li>%who: list all variables</li> <li> <p>%load: load a python file (how does this differ from %run?)</p> </li> <li> <p>%colors: nocolor, linux, lightbg</p> </li> <li>%edit: bring up editor and execute resulting code</li> </ul>"},{"location":"software/jupyter-notebooks/magic/#env","title":"env","text":"<p>Get, set, or list environment variables.</p> <p>Usage:</p> <ul> <li><code>%env</code>:  lists all environment variables/values</li> <li><code>%env var</code>:  get value for var</li> <li><code>%env var val</code>: set value for var</li> <li><code>%env var=val</code>: set value for var</li> <li><code>%env var=$val</code>:  set value for var, using python expansion if possible</li> </ul>"},{"location":"software/jupyter-notebooks/nbconvert/","title":"nbconvert","text":"<p>Convert a Jupyter notebook to various formats, including markdown</p> <p>Exporting all the markdown and code cells from a Jupyter notebook to a simple markdown file can be done in several ways. Here's a straightforward method using <code>nbconvert</code>, a tool that comes with Jupyter:</p>"},{"location":"software/jupyter-notebooks/nbconvert/#usage","title":"Usage","text":"<p><code>nbconvert</code> allows you to convert a Jupyter notebook to various formats, including markdown. To do this:</p> <ol> <li> <p>Open a Terminal: Open a command-line interface.</p> </li> <li> <p>Use the nbconvert Command:</p> </li> <li>Run the following command:      <pre><code>jupyter nbconvert --to markdown YourNotebook.ipynb [--no-output]\n</code></pre></li> <li> <p>Replace <code>YourNotebook.ipynb</code> with the name of your notebook file.</p> </li> <li> <p>Result:</p> </li> <li>This command will create a markdown file with the same name as your notebook in the same directory.</li> <li>The generated markdown file will contain all the markdown and code cells from your notebook.</li> </ol>"},{"location":"software/jupyter-notebooks/nbconvert/#install","title":"Install","text":"<pre><code>pip install nbconvert\n</code></pre>"},{"location":"software/jupyter-notebooks/nbconvert/#customizing-the-output","title":"Customizing the Output","text":"<ul> <li>If you need more customization, such as excluding code cells or including only markdown, you might need to use additional tools or write a custom script.</li> <li>For more complex requirements, you can explore Python scripts that read the notebook file (which is a JSON file) and extract the desired content.</li> </ul>"},{"location":"software/jupyter-notebooks/nbconvert/#note","title":"Note","text":"<ul> <li><code>nbconvert</code> will also convert output cells by default. If you only want the input cells (markdown and code) without outputs, you might need additional steps or custom scripting.</li> <li>Ensure that <code>nbconvert</code> is installed. It usually comes with the standard Jupyter installation, but if it's missing, you can install it using <code>pip install nbconvert</code>.</li> </ul> <p>This method provides a quick and easy way to convert your entire notebook into a markdown document for documentation purposes.</p>"},{"location":"software/jupyter-notebooks/nbconvert/#see-also","title":"See also","text":"<ul> <li>Jupyter Notebooks</li> </ul>"},{"location":"software/kvm/","title":"KVM","text":"<ul> <li>kvm-guest-create : script for creating kvm guests in bash-my-kvm</li> </ul>"},{"location":"software/kvm/#use-virsh-and-virt-manager-as-non-root-user","title":"Use virsh and virt-manager as non-root user","text":"<p>Add your user to the group: <pre><code>sudo usermod -a -G libvirt $(whoami)\nnewgrp libvirt\n</code></pre></p> <p>Check you're in the group: <pre><code>id $(whoami)\n</code></pre></p> <p>Test it works: <pre><code>virsh list\n</code></pre></p>"},{"location":"software/kvm/qcow2/","title":"qcow2","text":""},{"location":"software/kvm/qcow2/#mount-and-edit-a-qcow2-volume","title":"Mount and edit a qcow2 volume","text":"<p>Install guestfs-tools:</p> <pre><code>sudo dnf install -y guestfs-tools\n</code></pre> <p>debian/ubuntu:</p> <pre><code>sudo apt install -y guestfs-tools\n</code></pre> <p>List the partitions:</p> <pre><code># sudo guestfish -a amazon-linux-2-template.qcow2\n\nWelcome to guestfish, the guest filesystem shell for\nediting virtual machine filesystems and disk images.\n\nType: \u2018help\u2019 for help on commands\n      \u2018man\u2019 to read the manual\n      \u2018quit\u2019 to quit the shell\n\n&gt;&lt;fs&gt; run\n 100% \u27e6\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u2592\u27e7 00:00\n&gt;&lt;fs&gt; list-filesystems \n/dev/sda1: xfs\n/dev/sda128: unknown\n</code></pre> <p>Mount it:</p> <pre><code>$ sudo guestmount -a amazon-linux-2-template.qcow2 -m /dev/sda1 /mnt\n$ sudo ls /mnt/\nbin  boot  dev  etc  home  lib  lib64  local  media  mnt  opt  proc  root  run  sbin  srv  sys  tmp  usr  var\n</code></pre> <p>Edit files on qcow2 image (optional):</p> <ul> <li><code>/mnt/etc/password</code></li> <li><code>/mnt/etc/resolv.conf</code></li> <li><code>/mnt/etc/ssh/sshd_config</code></li> </ul> <p>Unmount it:</p> <pre><code>guestunmount /tmp\n</code></pre>"},{"location":"software/kvm/virsh/","title":"virsh","text":"<pre><code>virsh list --domain centos8\nvirsh start --domain centos8\nvirsh dominfo centos8\nvirsh edit /etc/libvirt/qemu/ubuntu20.04-2.xml\nvirsh create /etc/libvirt/qemu/ubuntu20.04-2.xml\n</code></pre>"},{"location":"software/kvm/virsh/#commands","title":"Commands","text":"<ul> <li>Autostart domain:  virsh autostart git</li> </ul>"},{"location":"software/kvm/virsh/#list-guest-domains","title":"List guest domains","text":"<pre><code>$ virsh list\n Id   Name          State\n-----------------------------\n 3    ubuntu22.04   running\n</code></pre>"},{"location":"software/kvm/virsh/#clone","title":"Clone","text":"<pre><code>virt-clone                           \\\n  --original=server1.linuxconfig.org \\\n  --name=server2.linuxconfig.org     \\\n  --auto-clone\n</code></pre>"},{"location":"software/kvm/virsh/#default-to-system-instead-of-session","title":"Default to system instead of session","text":"<pre><code>#/etc/libvirt/libvirt.conf\n#\n# These can be used in cases when no URI is supplied by the application\n# (@uri_default also prevents probing of the hypervisor driver).\n#\nuri_default = \"qemu:///system\"\n</code></pre> <p>Just for one user (~/.bashrc)</p> <pre><code>export LIBVIRT_DEFAULT_URI=\"qemu:///system\"\n</code></pre>"},{"location":"software/kvm/virsh/#see-also","title":"See also","text":"<ul> <li>kvm</li> </ul>"},{"location":"software/languages/code-style/","title":"code-style","text":""},{"location":"software/languages/code-style/#align-line-continuations","title":"Align Line continuations (\\)","text":"<p>VIM: <code>glip\\</code> (vim-lion)</p> <p>Great question:</p> <p>When working in the C language, sometimes you have to write multi line macros like the following.</p> <pre><code>#define SOME_FUNCTION_LIKE_MACRO(a,b)     \\\n   foo(a);                                \\\n   bar(b);                                \\\n   baz(a+b);\n</code></pre> <p>Typically, after a few iterations of editing your code, the backslashes end up unaligned like:</p> <pre><code>#define SOME_FUNCTION_LIKE_MACRO(a,b)             \\\n   foo(a);                 \\\n   bar(b);                                  \\\n   baz(a+b);\n</code></pre> <p>And it drives me crazy. I always end up wasting a lot of time manually aligning them. </p> <p>stackexchange.com</p> <p>Great answer:</p> <ul> <li><code>glip\\</code> (vim-lion)</li> <li>https://github.com/junegunn/vim-easy-align</li> <li>https://github.com/godlygeek/tabular</li> <li>http://drchip.org/astronaut/vim/index.html#ALIGN</li> </ul> <p>Answer</p>"},{"location":"software/languages/fuzzy-file-finder/","title":"Fuzzy File Finder","text":"<p>Pattern for quickly finding files that's included in many tools / editors.</p>"},{"location":"software/languages/fuzzy-file-finder/#file-naming-suggestions","title":"File naming suggestions","text":"<ul> <li>Use proper names for things where reasonable (e.g. <code>enterprise-application</code>)</li> <li>Use long name (\"Three Letter Acronym\") as fzf will still detect the TLA</li> <li>Grouping things in dir removes need to include token in filename<ul> <li>avoid <code>azure-enterprise-app</code> if there are a bunch of things starting with <code>azure</code></li> <li>e.g. results for <code>azureapp</code> includes <code>azure/enterprise-application</code></li> </ul> </li> <li>Avoid creating unnecessarily deep directory stacks with few things in them</li> </ul>"},{"location":"software/languages/hashtag/","title":"hashtag","text":"<ul> <li>hashtag (wikipedia.org)</li> </ul> <p>The use of hashtags was first proposed by American blogger and product consultant Chris Messina in a 2007 tweet.</p> <p>In June 2014, hashtag was added to the Oxford English Dictionary as \"a word or phrase with the symbol # in front of it, used on social media websites and apps so that you can search for all messages with the same subject\".</p> <p>The first published use of the term \"hash tag\" was in a blog post \"Hash Tags = Twitter Groupings\" by Stowe Boyd,19 on August 26, 2007, according to lexicographer Ben Zimmer, chair of the American Dialect Society's New Words Committee.</p>"},{"location":"software/languages/jmespath/","title":"JMESPath","text":"<p>JMESPath was created for AWSCLI (<code>--query</code>) but has standalone commandline versions as well as libraries for various languages.</p> <p>It is described in an ABNF grammar with a complete specification. This ensures that the language syntax is precisely defined.</p> <p>https://jmespath.org/</p> <p>Refs: - Tutorial</p> <p>Quoting is wierd:</p> <ul> <li>Single quotes for literal strings.</li> <li>Backticks to introduce JSON (then double quotes inside).</li> <li>Double quotes are used to select named JSON elements.</li> </ul> <p>github issue#16</p>"},{"location":"software/languages/jmespath/#install","title":"Install","text":"<pre><code>sudo wget https://github.com/jmespath/jp/releases/latest/download/jp-linux-amd64 \\\n  -O /usr/local/bin/jp  &amp;&amp; sudo chmod +x /usr/local/bin/jp\n</code></pre>"},{"location":"software/languages/jmespath/#syntax","title":"Syntax","text":"<p>Negation:  <code>\"Instances[?!(Tags[?Key=='team'])]\"</code></p>"},{"location":"software/languages/jmespath/#see-also","title":"See also","text":"<ul> <li>Working with nested data (jmespath.org)</li> </ul>"},{"location":"software/languages/mermaid/","title":"Mermaid","text":"<ul> <li>mermaid - Markdownish syntax for generating flowcharts, sequence diagrams, class diagrams, gantt charts and git graphs.</li> <li>Online FlowChart &amp; Diagrams Editor - Mermaid Live Editor</li> <li>Diagrams - Material for MkDocs</li> <li>Creating diagrams - GitHub Docs</li> <li>marmaid.js: How to make lines angular instead of curved</li> </ul> <pre><code>podman run \\\n  --userns keep-id \\\n  --user ${UID} \\\n  --rm \\\n  -v \"$(pwd)/docs\":/data:z \\\n  minlag/mermaid-cli /mermaid-cli -i architecture.md\n</code></pre>"},{"location":"software/languages/mermaid/#entity-relationship-diagrams","title":"entity relationship diagrams","text":"<p>Here is a simple flow chart:</p> <pre><code>mermaid\ngraph TD;\n    A--&gt;B;\n    A--&gt;C;\n    B--&gt;D;\n    C--&gt;D;\n    D--&gt;E;\n</code></pre> <pre><code>graph TD;\n    A--&gt;B;\n    A--&gt;C;\n    B--&gt;D;\n    C--&gt;D;\n    D--&gt;E;\n    D--&gt;B;</code></pre> <p>And here is a network flow diagram:</p> <pre><code>mermaid\nsequenceDiagram\n    Alice-&gt;&gt;+John: Hello John, how are you?\n    Alice-&gt;&gt;+John: John, can you hear me?\n    John--&gt;&gt;-Alice: Hi Alice, I can hear you!\n    John--&gt;&gt;-Alice: I feel great!\n</code></pre> <pre><code>sequenceDiagram\n    Alice-&gt;&gt;+John: Hello John, how are you?\n    Alice-&gt;&gt;+John: John, can you hear me?\n    John--&gt;&gt;-Alice: Hi Alice, I can hear you!\n    John--&gt;&gt;-Alice: I feel great!</code></pre>"},{"location":"software/languages/odata-query-options/","title":"OData Query Options","text":"<p>These OData (Open Data Protocol) query options can be used when consuming compatible APIs (such as graph.microsoft.com).</p> <ul> <li> <p>Querying Data (www.odata.org)</p> </li> <li> <p>$filter: only items where the expression evaluates to true are included in the response</p> <ul> <li><code>GET serviceRoot/People?$filter=FirstName eq 'Scott'</code></li> </ul> </li> <li>$orderby: request resources in either ascending order using <code>asc</code> or descending order using <code>desc</code><ul> <li><code>GET serviceRoot/People('scottketchum')/Trips?$orderby=EndsAt desc</code></li> </ul> </li> <li>$top: number of items to return<ul> <li><code>GET serviceRoot/People?$top=2</code></li> </ul> </li> <li>$skip: number of items to skip<ul> <li><code>GET serviceRoot/People?$skip=18</code></li> </ul> </li> <li>$count: request a count of items<ul> <li><code>GET serviceRoot/People?$count=true</code></li> </ul> </li> <li>$expand: include related items. <ul> <li><code>GET serviceRoot/People('keithpinckney')?$expand=Friends</code></li> </ul> </li> <li>$select: requests a limited set of properties for each entity<ul> <li><code>GET serviceRoot/Airports?$select=Name, IcaoCode</code></li> </ul> </li> <li>$search: restrict result to include only those entities matching the specified search expression<ul> <li><code>serviceRoot/People?$search=Boise</code></li> </ul> </li> <li>$lambda: Values of <code>any</code> and <code>all</code> evaluate a Boolean expression on a collection<ul> <li><code>GET serviceRoot/People?$filter=Emails/any(s:endswith(s, 'contoso.com'))</code></li> </ul> </li> </ul>"},{"location":"software/languages/powershell/","title":"Powershell","text":""},{"location":"software/languages/powershell/#tab-completion","title":"TAB completion","text":"<p>By default Powershell uses right arrow key for completion but we can make it use TAB.</p> <p>(Still seems to need -&gt; to accept suggestion)</p> <pre><code># Install PSReadLine (run as administrator if needed)\nInstall-Module -Name PSReadLine -Force\n\n# Add this to your PowerShell profile to configure bash-like completion\nSet-PSReadLineKeyHandler -Key Tab -Function Complete\n</code></pre>"},{"location":"software/languages/ruby/","title":"Ruby","text":""},{"location":"software/languages/ruby/#rbenv-and-ruby-build","title":"rbenv and ruby-build","text":"<p>Install deps (fedora-36):</p> <pre><code>sudo dnf -y groupinstall \"Development Tools\"\n\nsudo dnf -y install \\\n  autoconf          \\\n  automake          \\\n  bison             \\\n  bzip2             \\\n  curl              \\\n  gcc-c++           \\\n  git-core          \\\n  libffi-devel      \\\n  libtool           \\\n  libyaml-devel     \\\n  make              \\\n  openssl-devel     \\\n  patch             \\\n  readline          \\\n  readline-devel    \\\n  sqlite-devel      \\\n  zlib              \\\n  zlib-devel\n</code></pre> <p>Install deps (debian / ubuntu):</p> <pre><code>apt-get install    \\\n  autoconf         \\\n  bison            \\\n  build-essential  \\\n  libssl-dev       \\\n  libyaml-dev      \\\n  libreadline6-dev \\\n  zlib1g-dev       \\\n  libncurses5-dev  \\\n  libffi-dev       \\\n  libgdbm6         \\\n  libgdbm-dev      \\\n  libdb-dev\n</code></pre> <p>Install rbenv:</p> <pre><code>git clone https://github.com/rbenv/rbenv.git ~/.rbenv\necho 'export PATH=\"$PATH:$HOME/.rbenv/bin\"' &gt;&gt; ~/.bashrc\necho 'eval \"$(rbenv init -)\"' &gt;&gt; ~/.bashrc\nexec $SHELL\n</code></pre> <p>Install ruby-build:</p> <pre><code>git clone https://github.com/rbenv/ruby-build.git ~/.rbenv/plugins/ruby-build\necho 'export PATH=\"$PATH:$HOME/.rbenv/plugins/ruby-build/bin\"' &gt;&gt; ~/.bashrc\nexec $SHELL\n</code></pre> <p>List ruby versions available to install:</p> <pre><code>$ rbenv install  --list\n2.6.10\n2.7.6\n3.0.4\n3.1.2\njruby-9.3.6.0\nmruby-3.1.0\npicoruby-3.0.0\nrbx-5.0\ntruffleruby-22.2.0\ntruffleruby+graalvm-22.2.0\n</code></pre> <p>Install a ruby version:</p> <pre><code>$ rbenv install 3.1.2\nDownloading ruby-3.1.2.tar.gz...\n-&gt; https://cache.ruby-lang.org/pub/ruby/3.1/ruby-3.1.2.tar.gz\nInstalling ruby-3.1.2...\nInstalled ruby-3.1.2 to /home/m/.rbenv/versions/3.1.2\n</code></pre> <p>Set a ruby version to be used globally:</p> <pre><code>$ rbenv global 3.1.2\n$ ruby -v\nruby 3.1.2p20 (2022-04-12 revision 4491bb740a) [x86_64-linux]\n</code></pre>"},{"location":"software/languages/bash/","title":"bash","text":"<p>Strictly speaking, this is not all <code>bash</code>. It's command line unix.</p> <ul> <li>Bash string manipulation using parameter expansion</li> <li>SCRIPT_DIR: directory containing current script</li> </ul>"},{"location":"software/languages/bash/#cool-tricks","title":"Cool tricks","text":"<ul> <li>Uppercase: <code>${name^^}</code></li> <li>variable+x</li> <li>Indirect variable expansion.</li> </ul>"},{"location":"software/languages/bash/#commands","title":"Commands","text":"Command Description <code>bash --norc</code> Starts Bash shell without reading startup files (~/.bashrc, ~/.profile)"},{"location":"software/languages/bash/#keyboard-shortcuts","title":"Keyboard shortcuts","text":"shortcut action Ctrl+k delete to end of line Ctrl+u delete to start of line"},{"location":"software/languages/bash/#scripting","title":"Scripting","text":"<ul> <li>Mapfile: Read lines from the standard input into an indexed array variable.  </li> </ul>"},{"location":"software/languages/bash/#busybox-style-function-execution-via-symlinked-binaries","title":"\"Busybox\" style function execution via \"symlinked binaries\"","text":"<p>Make certain functions from a file executable:</p> <pre><code>bin/git-artifact-repo-update -&gt; ../lib/functions\n</code></pre> <ul> <li>https://en.wikipedia.org/wiki/BusyBox</li> </ul> <pre><code># Execute function with same name as file called unless sourced\nif [[ \"${BASH_SOURCE[0]}\" == \"${0}\" ]]; then\n  \"$(basename \"$0\")\" \"$@\"\nfi\n</code></pre>"},{"location":"software/languages/bash/#request-user-confirmation","title":"Request user confirmation","text":"<pre><code>local regex_yes=\"^[Yy]$\"\nread -p \"Are you sure you want to continue? \" -n 1 -r\necho\nif [[ $REPLY =~ $regex_yes ]]\n</code></pre> <p>Default to Yes:</p> <pre><code>local regex_yes=\"^[Yy]?$\"  # The '?' after [Yy] allows for an empty response to be treated as 'Yes'\nread -p \"Are you sure you want to continue? (Y/n) \" -n 1 -r\necho  # Move to a new line\nif [[ ! $REPLY =~ $regex_yes ]]; then\n    echo \"Update cancelled.\"\n    return 1  # Exit the function with a non-zero exit status to indicate failure\nelse\n    echo \"Proceeding with update.\"\nfi\n</code></pre>"},{"location":"software/languages/bash/Indirect%20variable%20expansion/","title":"Indirect variable expansion","text":"<p>${!varname} tells bash to:</p> <ol> <li>Get the value of 'varname'</li> <li>Use that value as the name of another variable to expand</li> </ol> <p>Example: <pre><code>prefix=\"OPENAI_PROXY\"\nvar=\"${prefix}_PORT\"\necho \"${!var}\"  # Prints the value of OPENAI_PROXY_PORT\n</code></pre></p> <p>This feature requires Bash 2.0 or later It won't work in standard sh or other shells</p>"},{"location":"software/languages/bash/SCRIPT_DIR-directory-holding-script/","title":"SCRIPT_DIR: directory containing current script","text":"<p>This functionality is provided by the shared <code>get_script_dir()</code> function.</p>"},{"location":"software/languages/bash/SCRIPT_DIR-directory-holding-script/#usage","title":"Usage","text":"<p>Source the shared function and use it to set SCRIPT_DIR:</p> <pre><code>source \"$(dirname -- \"$(realpath \"${BASH_SOURCE[0]}\")\")/../lib/bash-functions/get-script-dir.sh\"\nSCRIPT_DIR=\"$(get_script_dir)\"\n</code></pre> <p>The function: - Follows symlinks correctly - Falls back to alternatives if realpath is not available - Works when scripts are symlinked into <code>~/.local/bin</code> - Handles relative symlinks properly</p>"},{"location":"software/languages/bash/SCRIPT_DIR-directory-holding-script/#implementation","title":"Implementation","text":"<p>The implementation is in <code>lib/bash-functions/get-script-dir.sh</code>. It provides:</p> <ul> <li>Primary implementation using <code>realpath</code> when available</li> <li>Fallback using <code>readlink</code> for symlink resolution</li> <li>Final fallback using <code>pwd</code> for basic path resolution</li> </ul> <p>See the source file for the complete implementation.</p>"},{"location":"software/languages/bash/bash-history/","title":"bash-history","text":"<p>I want to immediately append bash history to disk.</p> <ul> <li>Better Bash history  Arabesque (blog.sanctum.geek.nz)</li> </ul> <pre><code>shopt -s cmdhist            # One line per command\nshopt -s histappend         # Append instead of replace file\n\nHISTCONTROL=ignoreboth # repeated commands and those starting with space\nHISTFILESIZE=1000000 # lines to store to disk\nHISTIGNORE='ls:bg:fg:history'\nHISTSIZE=1000000 # lines to keep in memory\nHISTTIMEFORMAT='%F %T '\nPROMPT_COMMAND='history -a' # Store history immediately\n</code></pre>"},{"location":"software/languages/bash/bash-history/#disable","title":"Disable","text":"<ul> <li><code>unset HISTFILE</code></li> <li><code>set +o</code></li> </ul>"},{"location":"software/languages/bash/bash-string-manipulation-using-parameter-expansion/","title":"Bash String manipulation using parameter expansion","text":"<p>Includes pattern removal, substitution, and case conversion.</p> Operation Description Example Result <code>${var#Pattern}</code> Remove shortest match of <code>Pattern</code> from the beginning of <code>$var</code>. <code>var='src_main.c'</code><code>echo ${var#*_}</code> <code>main.c</code> <code>${var##Pattern}</code> Remove longest match of <code>Pattern</code> from the beginning of <code>$var</code>. <code>var='src_inner_main.c'</code><code>echo ${var##*_}</code> <code>main.c</code> <code>${var%Pattern}</code> Remove shortest match of <code>Pattern</code> from the end of <code>$var</code>. <code>var='src_main.c'</code><code>echo ${var%.*}</code> <code>src_main</code> <code>${var%%Pattern}</code> Remove longest match of <code>Pattern</code> from the end of <code>$var</code>. <code>var='src.main.backup.tar'</code><code>echo ${var%%.*}</code> <code>src</code> <code>${var/Pattern/Replacement}</code> Replace first match of <code>Pattern</code> with <code>Replacement</code>. <code>var='src_main.c'</code><code>echo ${var/_main/_test}</code> <code>src_test.c</code> <code>${var//Pattern/Replacement}</code> Replace all matches of <code>Pattern</code> with <code>Replacement</code>. <code>var='src_main_main.c'</code><code>echo ${var//_main/_test}</code> <code>src_test_test.c</code> <code>${var/#Pattern/Replacement}</code> If <code>Pattern</code> matches the beginning of <code>$var</code>, replace it with <code>Replacement</code>. <code>var='src_main.c'</code><code>echo ${var/#src/src_code}</code> <code>src_code_main.c</code> <code>${var/%Pattern/Replacement}</code> If <code>Pattern</code> matches the end of <code>$var</code>, replace it with <code>Replacement</code>. <code>var='src_main.c'</code><code>echo ${var/%.c/.h}</code> <code>src_main.h</code> <code>${var:Position}</code> Extract substring from <code>$var</code> starting at <code>Position</code>. <code>var='src_main.c'</code><code>echo ${var:4}</code> <code>main.c</code> <code>${var:Position:Length}</code> Extract <code>Length</code> characters of substring from <code>$var</code> starting at <code>Position</code>. <code>var='src_main.c'</code><code>echo ${var:4:4}</code> <code>main</code> <code>${#var}</code> Length of <code>$var</code>. <code>var='src_main.c'</code><code>echo ${#var}</code> <code>9</code> <code>${var^}</code> Convert first character of <code>$var</code> to uppercase. <code>var='src_main.c'</code><code>echo ${var^}</code> <code>Src_main.c</code> <code>${var^^}</code> Convert all characters of <code>$var</code> to uppercase. <code>var='src_main.c'</code><code>echo ${var^^}</code> <code>SRC_MAIN.C</code> <code>${var,}</code> Convert first character of <code>$var</code> to lowercase. <code>var='SRC_MAIN.C'</code><code>echo ${var,}</code> <code>sRC_MAIN.C</code> <code>${var,,}</code> Convert all characters of <code>$var</code> to lowercase. <code>var='SRC_MAIN.C'</code><code>echo ${var,,}</code> <code>src_main.c</code> <code>${v::-4}</code> Remove last 4 chars from var <code>var='src_main.c.bak'</code><code>echo $var::-4</code> <code>src_main.c</code>"},{"location":"software/languages/bash/variable%2Bx/","title":"variable+x","text":"<p>By claude-3-5-sonnet 2024-11-12 11:04:32 +11:00 Tue</p> <p>Let's break down how <code>[ -n \"${MODEL_SIZES[$model_name]+x}\" ]</code> works:</p> <ol> <li> <p><code>${MODEL_SIZES[$model_name]}</code> - This tries to access the array value for key <code>$model_name</code></p> </li> <li> <p><code>${variable+x}</code> is a special parameter expansion in bash that:</p> </li> <li>Returns <code>x</code> if the variable exists (even if empty)</li> <li> <p>Returns nothing if the variable doesn't exist</p> </li> <li> <p>So <code>${MODEL_SIZES[$model_name]+x}</code> means:</p> </li> <li>If the array has the key <code>$model_name</code>: returns \"x\"</li> <li> <p>If the array doesn't have the key: returns empty string</p> </li> <li> <p><code>[ -n STRING ]</code> tests if STRING is non-empty</p> </li> <li>Returns true (0) if STRING is non-empty</li> <li>Returns false (1) if STRING is empty</li> </ol> <p>Putting it all together: <pre><code># If \"tiny.en\" exists in MODEL_SIZES:\nmodel_name=\"tiny.en\"\n[ -n \"${MODEL_SIZES[$model_name]+x}\" ]  # Returns true\n\n# If \"invalid\" doesn't exist in MODEL_SIZES:\nmodel_name=\"invalid\"\n[ -n \"${MODEL_SIZES[$model_name]+x}\" ]  # Returns false\n</code></pre></p> <p>Example with debug output: <pre><code># With valid model\nmodel_name=\"tiny.en\"\necho \"${MODEL_SIZES[$model_name]+x}\"  # Prints: x\n[ -n \"${MODEL_SIZES[$model_name]+x}\" ] &amp;&amp; echo \"exists\" || echo \"doesn't exist\"\n# Prints: exists\n\n# With invalid model\nmodel_name=\"invalid\"\necho \"${MODEL_SIZES[$model_name]+x}\"  # Prints: (empty)\n[ -n \"${MODEL_SIZES[$model_name]+x}\" ] &amp;&amp; echo \"exists\" || echo \"doesn't exist\"\n# Prints: doesn't exist\n</code></pre></p> <p>This is more reliable than pattern matching because it: 1. Uses bash's built-in array key checking 2. Avoids issues with special characters in names 3. Is more efficient than looping or string matching 4. Has clearer intent - explicitly checking if key exists</p>"},{"location":"software/languages/markdown/","title":"Markdown","text":""},{"location":"software/languages/markdown/#conventions","title":"Conventions","text":"<ul> <li>Daring Fireball Markdown Syntax Documentation</li> <li>CommonMark (commonmark.org)</li> <li>GitHub Flavored Markdown (GFM) Spec (github.github.com): CommonMark with extensions</li> </ul>"},{"location":"software/languages/markdown/#conversion","title":"Conversion","text":"<ul> <li>microsoft/markitdown Python tool for converting files and office documents to Markdown. (github.com)</li> </ul>"},{"location":"software/languages/markdown/#editing","title":"Editing","text":"<ul> <li>Obsidian: Cross Platform, WYSIWYG, extensive plugins (tables, calendar, etc)</li> <li>README: Cross Platform, Live Preview, Syntax Highlighting, Linting, Plugins</li> <li>vim: Cross Platform, Terminal, Syntax Highlighting, Linting</li> <li>GitHub.com: Web App</li> </ul>"},{"location":"software/languages/markdown/#web-clipping","title":"Web Clipping","text":"<ul> <li>Markdownload : A Firefox and Google Chrome extension to clip websites and download them into a readable markdown file. (github.com/deathau)<ul> <li>It's a bit buggy - including <code>moz-extension</code> in copied links sometimes</li> </ul> </li> </ul>"},{"location":"software/languages/markdown/#syntax","title":"Syntax","text":"<ul> <li>Markdown Links</li> <li>Markdown code blocks </li> <li>Headings may be folded in some editors/viewers (README)</li> </ul>"},{"location":"software/languages/markdown/#python-markdown","title":"Python-Markdown","text":"<p>Python-Markdown requires 4 spaces for list indentation</p> <p>Sorry, but the quote from Gruber's rules which is contained in our explanation...</p> <pre><code>each subsequent paragraph in a list item must be indented by either 4\n spaces or one tab\n</code></pre> <p>... can only be interpreted one way by me. Nothing will persuade me otherwise. Gruber simply failed to follow his own rule in his implementation. I have not made that mistake and never will. End of discussion.</p> <p>That said, you are free to implement your own behavior in an extension/fork/clone/whatever.</p>"},{"location":"software/languages/markdown/front-matter/","title":"Front Matter","text":"<p>Front Matter can refer to YAML style metadata in Markdown.</p> <pre><code>---\ntitle: My Document\nsummary: A brief description of my document.\nauthors:\n    - Waylan Limberg\n    - Tom Christie\ndate: 2018-07-10\nsome_url: https://example.com\n---\nThis is the first paragraph of the document.\n</code></pre> <ul> <li>hugoblog frsamework</li> <li>jekyll</li> <li>MkDocs</li> <li>MkDocs-Material<ul> <li>tags</li> <li>site-search</li> </ul> </li> <li>Python Frontmatter documentation</li> <li>Front Matter (CMS)- Visual Studio Extension</li> </ul> <p>Github.com presentation of front matter seems acceptable. Would be nice to be able to toggle it off/on for a project.</p> <p></p>"},{"location":"software/languages/markdown/links/","title":"Markdown Links","text":""},{"location":"software/languages/markdown/links/#questions","title":"Questions","text":"<ul> <li>What is the correct format for targets?<ul> <li><code>./file.md</code> or <code>file.md</code></li> </ul> </li> <li>Include extensions?</li> <li>Anchors - how best to deal with spaces? (github vs. obsidian)</li> </ul>"},{"location":"software/languages/markdown/links/#link-checking","title":"Link Checking","text":"<ul> <li>markdown-link-check: CLI link checker (NPM)</li> </ul>"},{"location":"software/languages/markdown/lists/","title":"Markdown Lists","text":"<p>Example list showing Key: in bold, followed by a value</p> <ul> <li>Key: Value</li> <li>Another Key: Another value</li> </ul> <p>In lists, especially those formatted with colons, the part before the colon is referred to as the \"key,\" \"term,\" or \"label,\" and the part after the colon is known as the \"value,\" \"definition,\" or \"description.\" This format is commonly used for defining terms, explaining concepts, or listing properties and their corresponding details. The \"key\" introduces the concept or item, while the \"value\" provides more specific information or elaborates on the key.</p>"},{"location":"software/languages/markdown/markdown%20code%20blocks/","title":"Markdown code blocks","text":""},{"location":"software/languages/markdown/markdown%20code%20blocks/#language-identifiers-tags","title":"Language Identifiers / Tags","text":"<p>Language identifiers assist with syntax highlighting</p> <pre><code>```python\nprint ('hello world')\n```\n</code></pre> <ul> <li>List of languages github knows about github-linguist/linguist (github.com)</li> </ul>"},{"location":"software/languages/markdown/markdown%20code%20blocks/#code-block-within-a-numbered-list-in-markdown","title":"Code block within a numbered list in Markdown","text":"<ol> <li>Leave a blank line after the text of your list item.</li> <li> <p>Indent the code block by four spaces for it to be recognized as part of the list item.</p> <pre><code>$ echo \"Like this\"\n</code></pre> </li> </ol>"},{"location":"software/languages/markdown/markdown-link-check/","title":"markdown-link-check","text":"<p>npm package providing CLI tool and libraries for checking links in Markdown files.</p> <ul> <li>tcort/markdown-link-check checks all of the hyperlinks in a markdown text to determine if they are alive or dead (github.com)</li> </ul>"},{"location":"software/languages/markdown/markdown-link-check/#exclusions","title":"Exclusions","text":"<p>Ignore known problem links.</p> <p>Disable next line:  <pre><code>&lt;!-- markdown-link-check-disable-next-line --&gt;\n</code></pre></p> <p>Disable current line:</p> <pre><code>&lt;!-- markdown-link-check-disable-line --&gt;\n</code></pre> <p>Disable block: <pre><code>&lt;!-- markdown-link-check-disable --&gt; disables markdown link check. &lt;!-- markdown-link-check-enable --&gt;\n</code></pre></p>"},{"location":"software/languages/markdown/markdown-link-check/#install","title":"Install","text":"<pre><code>npm install -g markdown-link-check\n</code></pre>"},{"location":"software/languages/markdown/markdown-link-check/#usage","title":"Usage","text":"<pre><code>$ markdown-link-check README.md \n\nFILE: README.md\n  [\u2713] https://mike.bailey.net.au/notes\n  [\u2713] https://github.com/mbailey/notes/blob/master/notes.sh\n  [\u2713] docs/fast-learning.md\n  [\u2713] https://www.youtube.com/embed/N5b4_5hvOog\n\n  4 links checked.\n</code></pre> <p>Recursive:  </p> <pre><code>find . -name \\*.md -print0 | xargs -0 -n1 markdown-link-check\n</code></pre> <p>Bash function:</p> <p>Check given directory (defaults to current) <pre><code>markdown-link-check-dir ()  { \n    cd \"${1:-.}\";\n    find . -name \\*.md -print0 | xargs -0 -n1 markdown-link-check -q\n}\n</code></pre></p> <p>Alias:</p> <ul> <li>Only report on problems</li> <li>Don't treat unauthenticated as a broken link</li> </ul> <pre><code>markdown-link-check -q --alive 200,403'\n</code></pre>"},{"location":"software/languages/markdown/markdown-link-check/#see-also","title":"See also","text":"<ul> <li>pre-commit</li> </ul>"},{"location":"software/languages/python/","title":"Python","text":"<ul> <li>Pip</li> <li>pipx</li> <li>README</li> <li>pypi</li> <li>poetry</li> <li> <p>ensure-venv-loaded</p> </li> <li> <p>When to use python3</p> </li> <li>where-to-find-function-docs</li> </ul>"},{"location":"software/languages/python/#commands","title":"Commands","text":"<ul> <li>Execute a local file: <code>python -m aider.voice</code></li> <li>Run http server: <code>python3 -m http.server</code></li> </ul>"},{"location":"software/languages/python/#create-virtual-env","title":"Create Virtual Env","text":"<pre><code>python -m venv venv\nsource venv/bin/activate\n</code></pre>"},{"location":"software/languages/python/#idioms","title":"Idioms","text":""},{"location":"software/languages/python/#res","title":"<code>res</code>","text":"<pre><code>res = some_function()\nmatching_commands, first_word, rest_inp = res\n</code></pre>"},{"location":"software/languages/python/When%20to%20use%20python3/","title":"When to use python3","text":""},{"location":"software/languages/python/When%20to%20use%20python3/#when-to-use-python3","title":"When to use <code>python3</code>","text":"<p>It depends largely on your system and how Python is set up:</p> <p>On older systems:</p> <ul> <li><code>python</code> might refer to Python 2.x.</li> <li><code>python3</code> is explicitly Python 3.x.</li> </ul> <p>On newer systems (like recent Linux distributions):</p> <ul> <li><code>python3</code> is the standard command for Python 3.</li> <li><code>python</code> may be absent, or may point to Python 3, but this can vary by distribution or your local setup.</li> </ul> <p>Best practice:</p> <ul> <li>If you want to ensure you\u2019re running Python 3 (especially when Python 2 might still be present), always use <code>python3</code>.</li> <li>If you know your system\u2019s <code>python</code> command is set to Python 3 (for example, through tools like <code>pyenv</code> or a recent distro that defaults <code>python</code> to Python 3), then using <code>python</code> alone is fine.</li> </ul> <p>In short, to avoid ambiguity, <code>python3</code> is safer for guaranteeing Python 3, while <code>python</code> might be Python 2 or Python 3 depending on how your system is configured.</p>"},{"location":"software/languages/python/poetry/","title":"python poetry","text":"<p>poetry init poetry add poetry use python3.10</p> <p>poetry</p>"},{"location":"software/languages/python/poetry/#install-e","title":"Install -e","text":""},{"location":"software/languages/python/pypi/","title":"PyPI - Python Package Index","text":""},{"location":"software/languages/python/pypi/#bash-completion","title":"bash completion","text":"<pre><code>pip completion --bash &gt; ~/.pip-completion\necho '. ~/.pip-completion' &gt;&gt; ~/.bashrc\n</code></pre>"},{"location":"software/languages/python/pypi/#package-versions","title":"Package versions","text":"<p>Install specific package version: <code>pip install &lt;package_name&gt;==</code></p> <p>List package versions:</p> <pre><code>$ pip index versions aider-chat\nWARNING: pip index is currently an experimental command. It may be removed/changed in a future release without prior warning.\naider-chat (0.57.1)\nAvailable versions: 0.57.1, 0.57.0, 0.56.0, 0.55.0, 0.54.12, 0.54.11, 0.54.10, 0.54.9, 0.54.8, 0.54.7, 0.54.6, 0.54.5, 0.54.4, 0.54.3, 0.54.2, 0.54.0, 0.53.0, 0.52.1, 0.52.0, 0.51.1, 0.51.0, 0.50.1, 0.50.0, 0.49.1, 0.49.0, 0.48.1, 0.48.0, 0.47.1, 0.47.0, 0.46.1, 0.46.0, 0.45.1, 0.45.0, 0.44.0, 0.43.4, 0.43.3, 0.43.2, 0.43.0, 0.42.0, 0.41.0, 0.40.6, 0.40.5, 0.40.1, 0.40.0, 0.39.0, 0.38.0, 0.37.0, 0.36.0, 0.35.0, 0.34.0, 0.33.0, 0.32.0, 0.31.1, 0.31.0, 0.30.1, 0.30.0, 0.29.2, 0.29.1, 0.29.0, 0.28.0, 0.27.0, 0.26.1, 0.26.0, 0.25.0, 0.24.1, 0.24.0, 0.23.0, 0.22.0, 0.21.1, 0.21.0, 0.16.0, 0.15.0, 0.14.2, 0.14.1, 0.14.0, 0.13.0\n  INSTALLED: 0.57.1\n  LATEST:    0.57.1\n</code></pre>"},{"location":"software/languages/python/where-to-find-function-docs/","title":"Where to find function docs","text":"<p>By ChatGPT</p> <p>To quickly look up the documentation for the <code>emojize</code> function in the <code>emoji</code> library or any Python function, you have several options:</p> <p>by ChatGPT</p>"},{"location":"software/languages/python/where-to-find-function-docs/#1-online-documentation","title":"1. Online Documentation","text":"<p>For most popular Python libraries, including <code>emoji</code>, the quickest way might be to look up the library's official documentation online. You can search for \"Python emoji library documentation\" in your preferred search engine. Typically, you'll find detailed documentation on Read the Docs, GitHub, or the project's official website.</p>"},{"location":"software/languages/python/where-to-find-function-docs/#2-pypi","title":"2. PyPI","text":"<p>The Python Package Index (PyPI) often links to the official project homepage and documentation. You can search for the <code>emoji</code> package on PyPI by going to https://pypi.org and searching for \"emoji\". The package page usually contains a project description and links to the homepage and documentation.</p>"},{"location":"software/languages/python/where-to-find-function-docs/#3-interactive-python-help","title":"3. Interactive Python Help","text":"<p>If you have the library installed, you can use Python's built-in help system. Run Python in interactive mode and use the <code>help()</code> function:</p> <pre><code>import emoji\nhelp(emoji.emojize)\n</code></pre> <p>This will display the function's docstring, showing its description, parameters, and sometimes examples.</p>"},{"location":"software/languages/python/where-to-find-function-docs/#4-ipython-or-jupyter-notebooks","title":"4. IPython or Jupyter Notebooks","text":"<p>If you're using IPython or Jupyter Notebooks, you can use the <code>?</code> operator to get the docstring of any function:</p> <pre><code>import emoji\nemoji.emojize?\n</code></pre> <p>This command will open a sub-window in IPython or Jupyter with the documentation.</p>"},{"location":"software/languages/python/where-to-find-function-docs/#5-reading-the-source-code","title":"5. Reading the Source Code","text":"<p>As a last resort, if documentation is lacking or you want more detail, you can look directly at the source code. If you've installed the package using pip, you can find its source code in your Python site-packages directory. Alternatively, you can visit the library's repository on GitHub or its hosting platform. For the <code>emoji</code> library, you would go to its GitHub page and navigate to the source file that defines <code>emojize</code>.</p> <p>Choosing the right method depends on your situation and preferences. Online documentation or the interactive Python help system is usually the quickest and easiest way to get the information you need.</p>"},{"location":"software/languages/python/pip/","title":"Python pip","text":"<p>Installs python packages from PyPI.</p> <ul> <li>dealing-with-conflicts</li> </ul>"},{"location":"software/languages/python/pip/#commands","title":"Commands","text":"<p>Install in editable mode: <code>pip install -e .</code> Identify what depends on a package: <code>pip aws awscli | grep \"Required-by\"</code></p>"},{"location":"software/languages/python/pip/#generate-requirementstxt","title":"Generate requirements.txt","text":"<p>You can use tools like pipreqs or pip-tools to analyze your Python files and generate a requirements.txt  file. For pipreqs:</p> <pre><code>pip install pipreqs\npipreqs /path/to/your/project\n</code></pre> <p>This will create a requirements.txt file in your project root.  </p>"},{"location":"software/languages/python/pip/#see-also","title":"See also","text":"<ul> <li>pipx</li> </ul>"},{"location":"software/languages/python/pip/dealing-with-conflicts/","title":"Dealing with conflicts in python pip","text":"<p>Installation of python packages sometimes fails because AI TO COMPLETE SENTENCE.</p>"},{"location":"software/languages/python/pip/dealing-with-conflicts/#problem","title":"Problem","text":"<p>Sometimes when installing a python package with pip:</p> <pre><code>$ pip install --upgrade aider-chat\n</code></pre> <p>We get an error based on dependencies:</p> <pre><code>ERROR: pip's dependency resolver does not currently take into account all the packages that are installed. This behaviour is the source of the following dependency conflicts.\ncached-path 1.6.4 requires filelock&lt;3.14,&gt;=3.4, but you have filelock 3.16.1 which is incompatible.\ndatasets 3.1.0 requires fsspec[http]&lt;=2024.9.0,&gt;=2023.1.0, but you have fsspec 2024.10.0 which is incompatible.\ndocling 2.5.2 requires scipy&lt;2.0.0,&gt;=1.14.1, but you have scipy 1.13.1 which is incompatible.\ngradio 5.6.0 requires fastapi&lt;1.0,&gt;=0.115.2, but you have fastapi 0.111.1 which is incompatible.\ngradio 5.6.0 requires markupsafe~=2.0, but you have markupsafe 3.0.2 which is incompatible.\ngradio 5.6.0 requires python-multipart==0.0.12, but you have python-multipart 0.0.9 which is incompatible.\ngradio 5.6.0 requires starlette&lt;1.0,&gt;=0.40.0; sys_platform != \"emscripten\", but you have starlette 0.37.2 which is incompatible.\ntransformers 4.46.3 requires tokenizers&lt;0.21,&gt;=0.20, but you have tokenizers 0.19.1 which is incompatible.\n</code></pre>"},{"location":"software/languages/python/pip/dealing-with-conflicts/#solutions","title":"Solutions","text":"<ul> <li>Use pipx</li> </ul>"},{"location":"software/languages/python/pip/pipx/","title":"Using <code>pipx</code> to Install and Run CLI Tools","text":"<p>pipx (pipx.pypa.io)</p> <p>By ChatGPT 2024-12-11 12:40:14 +11:00 Wed</p> <p>What is <code>pipx</code>? </p> <p><code>pipx</code> lets you install and run Python-based command-line applications in isolated virtual environments. It protects your global Python environment from dependency conflicts and provides a consistent way to run these tools anywhere in your directory tree.</p> <p>Key Benefits: </p> <ul> <li>Isolated environments: Each CLI tool gets its own virtual environment.  </li> <li>Global commands: Tools are made globally accessible (added to your <code>PATH</code>) so you can run them from anywhere.  </li> <li>No conflicts: Dependencies don\u2019t clash with your main Python environment or other tools.</li> </ul>"},{"location":"software/languages/python/pip/pipx/#installation","title":"Installation","text":"<p>Recommended Methods: </p> <ul> <li>macOS: </li> </ul> <pre><code>brew install pipx\npipx ensurepath\n</code></pre> <ul> <li>Linux (e.g. Fedora): </li> </ul> <pre><code>sudo dnf install pipx\npipx ensurepath\n</code></pre> <ul> <li>Other Linux Distros (via pip): </li> </ul> <pre><code>python3 -m pip install --user pipx\npython3 -m pipx ensurepath\n</code></pre> <ul> <li>Windows (via pip): </li> </ul> <pre><code>py -m pip install --user pipx\npipx ensurepath\n</code></pre> <p>If <code>ensurepath</code> shows a warning about directories not on your <code>PATH</code>, open a new terminal or <code>source</code> your shell\u2019s config file. For more installation methods and distributions, see the official pipx documentation.</p> <p>What does <code>ensurepath</code> do? <code>pipx ensurepath</code> checks if the directory where <code>pipx</code> installs apps (usually <code>~/.local/bin</code> on Linux/macOS) is on your <code>PATH</code>. If not, it updates your shell initialization files (like <code>~/.bashrc</code>, <code>~/.zshrc</code>) so that installed tools are accessible by simply typing their names. This doesn\u2019t usually reorder your <code>PATH</code>; it just ensures <code>pipx</code>\u2019s bin directory is included. Your existing Python tools and <code>pyenv</code>-managed versions still take precedence.</p>"},{"location":"software/languages/python/pip/pipx/#using-pipx","title":"Using <code>pipx</code>","text":"<p>Installing a CLI Tool (e.g. <code>aider-chat</code>): </p> <pre><code>pipx install aider-chat\n</code></pre> <p>After this, you can run <code>aider-chat</code> from any directory.</p> <p>Run Commands Temporarily: </p> <pre><code>pipx run some-tool\n</code></pre> <p>This downloads, installs, and runs the tool in an ephemeral environment that\u2019s removed afterwards.</p> <p>Upgrading or Removing Tools: </p> <pre><code>pipx upgrade aider-chat\npipx uninstall aider-chat\n</code></pre>"},{"location":"software/languages/python/pip/pipx/#how-pipx-chooses-python","title":"How <code>pipx</code> Chooses Python","text":"<p>By default, <code>pipx</code> uses the Python interpreter it was installed with (e.g. the <code>python3</code> used in <code>python3 -m pip install --user pipx</code>). If you use <code>pyenv</code> or other environment managers, <code>pipx</code> typically respects your current <code>PATH</code> settings. To override this, set <code>PIPX_DEFAULT_PYTHON</code> or use the <code>--python</code> flag:</p> <pre><code>pipx install aider-chat --python python3.10\n</code></pre>"},{"location":"software/languages/python/pip/pipx/#interaction-with-pyenv-and-other-tools","title":"Interaction with <code>pyenv</code> and Other Tools","text":"<p><code>pipx</code> creates separate virtual environments for each installed tool, so it\u2019s largely unaffected by <code>pyenv</code> or other environment managers. Changing your Python version with <code>pyenv</code> won\u2019t break existing <code>pipx</code>-installed tools since they have their own environments. If you want <code>pipx</code> to use a specific Python version managed by <code>pyenv</code>, just ensure that version is active before running <code>pipx install</code>, or specify <code>--python</code>.</p>"},{"location":"software/languages/python/pip/pipx/#potential-issues-or-conflicts","title":"Potential Issues or Conflicts","text":"<ul> <li>PATH issues: If tools aren\u2019t found, ensure <code>~/.local/bin</code> (or the directory indicated by <code>ensurepath</code>) is on your <code>PATH</code>. Restart your shell if needed.</li> <li>Global vs. local environments: <code>pipx</code> is not meant to manage libraries\u2014only CLI tools. Continue using <code>venv</code> or other methods for project-specific dependencies.</li> <li>Versioning and dependency conflicts: <code>pipx</code> isolates each tool, so conflicts are rare. If a tool is incompatible with your system\u2019s Python or dependencies, it won\u2019t affect others.</li> </ul> <p>In summary, <code>pipx</code> provides a clean, safe way to install and run Python-based CLI tools. This ensures that when you install something like <code>aider-chat</code>, you\u2019ll have a stable, globally accessible command without cluttering or conflicting with your main Python environment.</p>"},{"location":"software/languages/python/pyenv/","title":"python pyenv","text":"<ul> <li>pyenv (github.com)</li> <li>pyenv-virtualenv</li> <li> <p>pyenv doctor</p> </li> <li> <p>install</p> </li> </ul>"},{"location":"software/languages/python/pyenv/#commands","title":"Commands","text":"Action Command Comments List versions <code>pyenv versions</code> Install pytrhon <code>pyenv install 3</code> Set global version <code>pyenv global 3</code> Set local version <code>pyenv local 3</code> Set version for current shell <code>pyenv shell 3</code> Unset: <code>pyenv shell --unset</code> Rehash <code>pyenv rehash</code> See also: rehash"},{"location":"software/languages/python/pyenv/#set-python-version","title":"Set python version","text":"<ul> <li>in-a-folder :  <code>echo \"3.9.5\" &gt; .python-version</code></li> </ul>"},{"location":"software/languages/python/pyenv/#config","title":"Config","text":""},{"location":"software/languages/python/pyenv/in-a-folder/","title":"Set python version in a folder","text":"<p>To set a specific Python version for a particular Git repository using pyenv, you can follow these steps:</p> <ol> <li> <p>Navigate to the root directory of your Git repository in the terminal.</p> </li> <li> <p>Create a <code>.python-version</code> file in the repository root with the desired Python version. You can do this by running:</p> </li> </ol> <pre><code>echo \"3.9.5\" &gt; .python-version\n</code></pre> <p>Replace \"3.9.5\" with the specific Python version you want to use.</p> <ol> <li>Alternatively, you can use the <code>pyenv local</code> command to set the local Python version:</li> </ol> <pre><code>pyenv local 3.9.5\n</code></pre> <p>This command will create the <code>.python-version</code> file for you.</p> <ol> <li>Verify that the correct version is set by running:</li> </ol> <pre><code>pyenv version\n</code></pre> <p>It should display the version you just set.</p> <p>Now, whenever you're in this Git repository or any of its subdirectories, pyenv will automatically use the specified Python version.</p> <p>Remember to ensure that you have installed the desired Python version using pyenv before setting it as the local version. You can install a specific version with:</p> <pre><code>pyenv install 3.9.5\n</code></pre> <p>Would you like me to explain any part of this process in more detail?</p>"},{"location":"software/languages/python/pyenv/install/","title":"Install pyenv","text":"<p>To install pyenv on Fedora 40, you'll need to follow these steps:</p> <ol> <li>Install the required dependencies:</li> </ol> <pre><code>sudo dnf install -y make gcc zlib-devel bzip2 bzip2-devel readline-devel sqlite sqlite-devel openssl-devel tk-devel libffi-devel xz-devel\n</code></pre> <ol> <li>Clone the pyenv repository:</li> </ol> <pre><code>git clone https://github.com/pyenv/pyenv.git ~/.pyenv\n</code></pre> <ol> <li>Add pyenv to your PATH and initialize it. Add these lines to your ~/.bashrc or ~/.zshrc file:</li> </ol> <pre><code>echo 'export PYENV_ROOT=\"$HOME/.pyenv\"' &gt;&gt; ~/.bashrc\necho 'export PATH=\"$PYENV_ROOT/bin:$PATH\"' &gt;&gt; ~/.bashrc\necho 'eval \"$(pyenv init -)\"' &gt;&gt; ~/.bashrc\n</code></pre> <ol> <li>Reload your shell configuration:</li> </ol> <pre><code>source ~/.bashrc\n</code></pre> <ol> <li>Verify the installation:</li> </ol> <pre><code>pyenv --version\n</code></pre> <p>This should output the version of pyenv you've installed.</p> <p>Now you can use pyenv to install and manage different Python versions. For example, to install Python 3.9.5:</p> <pre><code>pyenv install 3.9.5\n</code></pre> <p>And to set it as your global Python version:</p> <pre><code>pyenv global 3.9.5\n</code></pre> <p>Would you like me to explain any part of this process in more detail?</p>"},{"location":"software/languages/python/pyenv/pyenv-doctor/","title":"pyenv doctor","text":"<p>This command will check your <code>pyenv</code> installation for common issues and provide feedback on how to resolve them. It does not typically take options like <code>-c</code>. If <code>-c</code> is intended to be a reference to CPython (the standard implementation of Python), it's worth noting that <code>pyenv doctor</code> checks the pyenv environment as a whole and isn't typically used to check specific Python implementations.</p>"},{"location":"software/languages/python/pyenv/pyenv-doctor/#install","title":"Install","text":"<p>Fedora:</p> <pre><code>git clone https://github.com/pyenv/pyenv-doctor.git $(pyenv root)/plugins/pyenv-doctor\n</code></pre>"},{"location":"software/languages/python/pyenv/pyenv-doctor/#usage","title":"Usage","text":"<p>These commands check your pyenv.</p> <pre><code>pyenv doctor # check pyenv\npyenv doctor -c # check \n</code></pre>"},{"location":"software/languages/python/pyenv/pyenv-virtualenv/","title":"pyenv-virtualenv","text":"<ul> <li>pyenv-virtualenv (github.com)</li> </ul>"},{"location":"software/languages/python/pyenv/pyenv-virtualenv/#usage","title":"Usage","text":"<pre><code>pyenv virtualenv 3 jupyterlab\n</code></pre>"},{"location":"software/languages/python/pyenv/pyenv/","title":"python pyenv","text":"<ul> <li>pyenv (github.com)</li> <li>pyenv-virtualenv</li> <li> <p>pyenv doctor</p> </li> <li> <p>install</p> </li> </ul>"},{"location":"software/languages/python/pyenv/pyenv/#commands","title":"Commands","text":"Action Command Comments List versions <code>pyenv versions</code> Install pytrhon <code>pyenv install 3</code> Set global version <code>pyenv global 3</code> Set local version <code>pyenv local 3</code> Set version for current shell <code>pyenv shell 3</code> Unset: <code>pyenv shell --unset</code>"},{"location":"software/languages/python/pyenv/pyenv/#set-python-version","title":"Set python version","text":"<ul> <li>in-a-folder :  <code>echo \"3.9.5\" &gt; .python-version</code></li> </ul>"},{"location":"software/languages/python/pyenv/pyenv/#config","title":"Config","text":""},{"location":"software/languages/python/pyenv/rehash/","title":"pyenv rehash","text":"<p>By claude-3-5-sonnet 2025-01-08 14:32:54 +11:00 Wed</p> <p>After uninstalling a package, you might need to rehash pyenv to update the shims. Try this command:</p> <pre><code>pyenv rehash\n</code></pre> <p>This will refresh pyenv's shims, removing references to uninstalled executables. After running this command, you shouldn't see the \"No such file or directory\" error anymore.</p> <p>If you're still seeing the error, you might also want to:</p> <ol> <li> <p>Clear your shell's command hash table: <pre><code>hash -r\n</code></pre></p> </li> <li> <p>Or try restarting your terminal session.</p> </li> </ol> <p>If the problem persists, you can also check if there are any aliases or references to 'chicken' in your shell configuration files (.bashrc, .zshrc, etc.).</p>"},{"location":"software/mt/","title":"mt","text":"<p>Reduce the effort to turn an idea into reality - and be able to find it again later!</p> <p>mt is a personal organiser for code and config. </p> <ul> <li>https://github.com/mbailey/mt</li> </ul>"},{"location":"software/mt/#dotfiles","title":"dotfiles","text":"<ul> <li>XDG_config_home: symlink in for apps without support</li> <li>Don't stow non dotfiles:<ul> <li>.stowignore requires dot-config</li> <li>wrapper script specifies dot-config</li> </ul> </li> </ul>"},{"location":"software/mt/#merge-mt-public-with-notes","title":"Merge mt-public with notes","text":"<ul> <li>Disable graph</li> <li>Exclude non notes (bin / config)</li> </ul>"},{"location":"software/mt/#chatgpt-01-discussion","title":"Chatgpt 01 discussion","text":"<p>2025-01-08 21:11:38 +11:00 Wed</p> <p>Yes, you can absolutely include external YAML files in your mkdocs.yml configuration to manage things like navigation. This is particularly useful if you want to separate your navigation configuration into its own file and regenerate it dynamically as part of your build process.</p> <p>How to Include External Files in mkdocs.yml</p> <p>MkDocs supports YAML anchors and aliases, but for full external file inclusion, you can use the !include syntax provided by plugins like mkdocs-include-yaml.</p> <p>Steps to Include Navigation from an External File</p> <ol> <li>Install the Plugin:</li> </ol> <p>First, install the mkdocs-include-yaml plugin:</p> <p>pip install mkdocs-include-yaml</p> <ol> <li>Update mkdocs.yml:</li> </ol> <p>Use the !include syntax to include an external file for the navigation section:</p> <p>site_name: My Documentation</p> <p>theme:</p> <p>name: material</p> <p>nav: !include nav.yml</p> <p>plugins:</p> <p>- include-yaml</p> <ol> <li>Create the nav.yml File:</li> </ol> <p>Place your dynamically generated navigation structure in a nav.yml file:</p> <ul> <li>Editors:</li> </ul> <p>- Neovim:</p> <p>- Overview: editors/neovim/readme.md</p> <p>- Installation Guide: editors/neovim/docs/install.md</p> <p>- Usage: editors/neovim/docs/usage.md</p> <ul> <li>Tools:</li> </ul> <p>- TMUX:</p> <p>- Overview: tools/tmux/readme.md</p> <p>- Configurations: tools/tmux/docs/config.md</p> <ol> <li>Regenerate nav.yml During Build:</li> </ol> <p>Write a script to regenerate nav.yml dynamically based on your repository structure. For example:</p>"},{"location":"software/mt/#usrbinenv-bash","title":"!/usr/bin/env bash","text":""},{"location":"software/mt/#_1","title":"mt","text":""},{"location":"software/mt/#generate-nav-regenerate-navyml-for-mkdocs-navigation","title":"generate-nav - Regenerate nav.yml for MkDocs navigation","text":""},{"location":"software/mt/#_2","title":"mt","text":""},{"location":"software/mt/#usage-generate-nav","title":"Usage: ./generate-nav","text":"<p>set -eu -o pipefail</p> <p>generate-nav() {</p> <p>echo \"- Editors:\" &gt; nav.yml</p> <p>for dir in mt-public/editors/*; do</p> <p>pkg=\\((basename \"\\)dir\")</p> <p>echo \"\u00a0 - ${pkg^}:\" &gt;&gt; nav.yml</p> <p>echo \"\u00a0 \u00a0 \u00a0 - Overview: $dir/readme.md\" &gt;&gt; nav.yml</p> <p>if [[ -d \"$dir/docs\" ]]; then</p> <p>for file in \"$dir/docs\"/*.md; do</p> <p>filename=\\((basename \"\\)file\" .md)</p> <p>echo \"\u00a0 \u00a0 \u00a0 - ${filename^}: $file\" &gt;&gt; nav.yml</p> <p>done</p> <p>fi</p> <p>done</p> <p>}</p> <p>generate-nav</p> <ol> <li>Integrate the Script into Your Build:</li> </ol> <p>Add this script to your build process (e.g., Makefile, CI pipeline):</p> <p>./generate-nav &amp;&amp; mkdocs build</p> <p>Benefits of This Approach</p> <p>\u2022 Separation of Concerns: Keeps the main mkdocs.yml clean and focused on general configuration.</p> <p>\u2022 Dynamic Updates: Automates the navigation generation, reducing manual errors.</p> <p>\u2022 Scalability: Works well for large repositories with many packages.</p> <p>Would you like a refined version of the script or help integrating this into your workflow?</p>"},{"location":"software/mt/#again","title":"again","text":"<p>Yes, you can absolutely include external YAML files in your mkdocs.yml configuration to manage things like navigation. This is particularly useful if you want to separate your navigation configuration into its own file and regenerate it dynamically as part of your build process.</p> <p>How to Include External Files in mkdocs.yml</p> <p>MkDocs supports YAML anchors and aliases, but for full external file inclusion, you can use the !include syntax provided by plugins like mkdocs-include-yaml.</p> <p>Steps to Include Navigation from an External File</p> <ol> <li>Install the Plugin:</li> </ol> <p>First, install the mkdocs-include-yaml plugin:</p> <p>pip install mkdocs-include-yaml</p> <ol> <li>Update mkdocs.yml:</li> </ol> <p>Use the !include syntax to include an external file for the navigation section:</p> <p>site_name: My Documentation</p> <p>theme:</p> <p>name: material</p> <p>nav: !include nav.yml</p> <p>plugins:</p> <p>- include-yaml</p> <ol> <li>Create the nav.yml File:</li> </ol> <p>Place your dynamically generated navigation structure in a nav.yml file:</p> <ul> <li>Editors:</li> </ul> <p>- Neovim:</p> <p>- Overview: editors/neovim/readme.md</p> <p>- Installation Guide: editors/neovim/docs/install.md</p> <p>- Usage: editors/neovim/docs/usage.md</p> <ul> <li>Tools:</li> </ul> <p>- TMUX:</p> <p>- Overview: tools/tmux/readme.md</p> <p>- Configurations: tools/tmux/docs/config.md</p> <ol> <li>Regenerate nav.yml During Build:</li> </ol> <p>Write a script to regenerate nav.yml dynamically based on your repository structure. For example:</p>"},{"location":"software/mt/#usrbinenv-bash_1","title":"!/usr/bin/env bash","text":""},{"location":"software/mt/#_3","title":"mt","text":""},{"location":"software/mt/#generate-nav-regenerate-navyml-for-mkdocs-navigation_1","title":"generate-nav - Regenerate nav.yml for MkDocs navigation","text":""},{"location":"software/mt/#_4","title":"mt","text":""},{"location":"software/mt/#usage-generate-nav_1","title":"Usage: ./generate-nav","text":"<p>set -eu -o pipefail</p> <p>generate-nav() {</p> <p>echo \"- Editors:\" &gt; nav.yml</p> <p>for dir in mt-public/editors/*; do</p> <p>pkg=\\((basename \"\\)dir\")</p> <p>echo \"\u00a0 - ${pkg^}:\" &gt;&gt; nav.yml</p> <p>echo \"\u00a0 \u00a0 \u00a0 - Overview: $dir/readme.md\" &gt;&gt; nav.yml</p> <p>if [[ -d \"$dir/docs\" ]]; then</p> <p>for file in \"$dir/docs\"/*.md; do</p> <p>filename=\\((basename \"\\)file\" .md)</p> <p>echo \"\u00a0 \u00a0 \u00a0 - ${filename^}: $file\" &gt;&gt; nav.yml</p> <p>done</p> <p>fi</p> <p>done</p> <p>}</p> <p>generate-nav</p> <ol> <li>Integrate the Script into Your Build:</li> </ol> <p>Add this script to your build process (e.g., Makefile, CI pipeline):</p> <p>./generate-nav &amp;&amp; mkdocs build</p> <p>Benefits of This Approach</p> <p>\u2022 Separation of Concerns: Keeps the main mkdocs.yml clean and focused on general configuration.</p> <p>\u2022 Dynamic Updates: Automates the navigation generation, reducing manual errors.</p> <p>\u2022 Scalability: Works well for large repositories with many packages.</p> <p>Would you like a refined version of the script or help integrating this into your workflow?</p>"},{"location":"software/obs/","title":"OBS","text":"<p>Open Broadcaster Software  OBS (obsproject.com)</p>"},{"location":"software/obs/#questions","title":"Questions","text":"<ul> <li>Can I playback recordings from within OBS? Answer</li> <li>How can I stop OBS from silencing the output when I play back recording in vlc? Answer</li> <li>How to make OBS </li> </ul>"},{"location":"software/obs/#install","title":"Install","text":""},{"location":"software/obs/#fedora","title":"fedora","text":"<pre><code>sudo dnf install -y obs-studio\n</code></pre>"},{"location":"software/obs/#macos","title":"macos","text":"<ul> <li>How to record audio with OBS on macos</li> </ul> <pre><code>brew install --cask obs\n</code></pre>"},{"location":"software/obs/#configure","title":"Configure","text":""},{"location":"software/obs/questions/playback-recordings/","title":"Can I playback recordings within OBS?","text":"<p>Yes, you can playback recordings from within OBS Studio using the \"Media Source\" feature:</p> <ol> <li>In OBS, click the + button under Sources</li> <li>Select \"Media Source\" </li> <li>Create a new source or select an existing one</li> <li>Click \"Browse\" and select your recording file</li> <li>Configure playback options as needed:</li> <li>Loop</li> <li>Restart when activated</li> <li>Local file</li> <li>etc.</li> <li>Click OK to add the media source</li> </ol> <p>The recording will now be available as a source that you can play back within your OBS scenes.</p> <p>Note: This method plays the recording as a source in your scenes. To simply review a recording without adding it to a scene, use your system's default media player to open the recording file in your OBS recordings folder.</p>"},{"location":"software/obs/questions/record-audio-macos/","title":"How to record audio with OBS on macOS","text":"<p>To record audio in OBS on macOS:</p> <ol> <li> <p>Install BlackHole (virtual audio device): <pre><code>brew install blackhole-2ch\n</code></pre></p> </li> <li> <p>Configure macOS Audio:</p> </li> <li>Open System Preferences &gt; Sound</li> <li> <p>Set BlackHole 2ch as output device for the audio you want to capture</p> </li> <li> <p>Configure OBS:</p> </li> <li>Add Audio Input Capture source</li> <li>Select BlackHole 2ch as the Device</li> <li> <p>Add Desktop Audio source if you want system sounds</p> </li> <li> <p>Test recording:</p> </li> <li>Play some audio</li> <li>Check OBS audio meters are showing activity</li> <li>Make a test recording</li> </ol> <p>Note: You may want to use Audio MIDI Setup to create a Multi-Output Device if you want to hear the audio while recording.</p>"},{"location":"software/obs/questions/silence-vlc-playback/","title":"How can I stop OBS from silencing the output when I play back recording in VLC?","text":"<p>This happens because OBS is still monitoring the audio device. To prevent OBS from silencing VLC playback:</p> <ol> <li>Exit OBS completely before playing back recordings in VLC</li> <li>Alternatively, in OBS:</li> <li>Go to Settings -&gt; Audio</li> <li>Set the monitoring device to \"Disabled\" or select a different output device</li> <li>This will allow VLC to access the audio device without interference</li> </ol> <p>Remember to re-enable your monitoring device in OBS when you want to record again.</p>"},{"location":"software/obsidian/","title":"Obsidian","text":"<ul> <li>sync</li> </ul>"},{"location":"software/obsidian/#cool-stuff","title":"Cool stuff","text":"<ul> <li>bookmarklets</li> <li>https://github.com/sytone/obsidian-remote</li> <li>List files reverse alphabetical(?)</li> <li>Collaborate on a shared vault (publish.obsidian.md)</li> <li>emoji</li> </ul>"},{"location":"software/obsidian/#questions","title":"Questions","text":"<ul> <li>How can each user manage their own preferences for a shared repo in Git?</li> <li>Issue: Color scheme adapt to system not working on Linux (FedoraGNOME) - Bug graveyard - Obsidian Forum (forum.obsidian.md)</li> </ul>"},{"location":"software/obsidian/#tasks","title":"Tasks","text":"<ul> <li>Put my standard .obsidian dir somewhere I can pull as template</li> <li>Obsidian open Notes in GitHub https://chat.openai.com/share/e/82d4710d-6fea-4c3e-9597-62b7ac9bf293</li> <li> Put global settings somewhere public</li> <li>Obsidian Copilot with Ollama</li> <li>Plugin to copy path to note to clipboard</li> <li>Auto-add title based on filename</li> <li>Add alias for files called README.md</li> <li>Review top ten plugins</li> <li>Make clicking a link in my second brain open Slack</li> <li>Open \"sub-vaults\" (e.g. \"work\" to not show personal at work)</li> </ul>"},{"location":"software/obsidian/#features","title":"Features","text":"<ul> <li>Updates links when you move/rename files</li> <li>Extract current selection</li> <li>Extract this Heading</li> </ul>"},{"location":"software/obsidian/#install","title":"Install","text":""},{"location":"software/obsidian/#fedora","title":"Fedora","text":"<pre><code>$ ./bin/obsidian-install.sh\nhttps://github.com/obsidianmd/obsidian-releases/releases/download/v0.15.9/Obsidian-0.15.9.AppImage\ninstall ok\n</code></pre>"},{"location":"software/obsidian/#macos","title":"macOS","text":""},{"location":"software/obsidian/#config","title":"Config","text":"<p>User Workspace</p>"},{"location":"software/obsidian/#plugins","title":"Plugins","text":"<ul> <li>Advanced Slides</li> <li>Markdown to Slack: idreamer/markdown-to-slack-message (github.com)</li> <li> <p>Recent Files: tgrosinger/recent-files-obsidian</p> </li> <li> <p>Obsidian Sample Plugin: obsidianmd/obsidian-sample-plugin</p> </li> <li>Obsidian Kanban: mgmeyers/obsidian-kanban Create markdown-backed Kanban boards in Obsidian.</li> </ul>"},{"location":"software/obsidian/#hotkeys","title":"Hotkeys","text":"<p>Obsidian Keyboard Shortcuts are known as \"Hotkeys\".</p> Action Shortcut Open quick switcher <code>ctrl + o</code> Open command palette <code>ctrl + p</code> Open settings <code>ctrl + ,</code> Toggle bold <code>ctrl + b</code> Toggle code TBA Toggle checkboxes TBA Toggle headings TBA"},{"location":"software/obsidian/#templates","title":"Templates","text":""},{"location":"software/obsidian/#date-snippet","title":"<code>date</code> Snippet","text":"<p>I run <code>Ctrl+T</code>,  <code>d</code>,  <code>Enter</code> to insert <code>Thu 25 Aug 2022 05:04:15</code>.</p> <p>Enable <code>Templates</code> plugin (Core Plugin) and enable it. Configure templates directory (through Settings or  .obsidian/templates.json):</p> <pre><code>{\n  \"folder\": \"Templates\"\n}\n</code></pre> <p>Create <code>Templates/d.md</code>:</p> <pre><code>{{date:ddd DD MMM YYYY HH:mm:ss}}\n</code></pre> <p>Configure Hotkey (through Settings or .obsidian/hotkeys.json) :</p> <pre><code>{\n  \"insert-template\": [\n    {\n      \"modifiers\": [\n        \"Mod\"\n      ],\n      \"key\": \"T\"\n    }\n  ]\n\n}\n</code></pre>"},{"location":"software/obsidian/#multiple-vaults","title":"Multiple Vaults","text":"<p>I'd prefer to have multiple vaults open instead of having to keep switching.</p> <ul> <li>Feature request  \u201cSame Window\u201d and \u201cNew Window\u201d options for open vault</li> </ul>"},{"location":"software/obsidian/#example-of-website-you-can-generate","title":"Example of website you can generate","text":""},{"location":"software/obsidian/#shortcuts-ios-macos","title":"Shortcuts (ios, macos","text":"<p>) https://www.carlcassar.com/articles/five-useful-apple-shortcuts-for-obsidian</p> <ul> <li>siri today: opens daily note</li> <li> <p>Make one to append</p> </li> <li> <p>No Boilerplate https://youtube.com/watch?v=DbsAQSIKQXk&amp;si=TmwCea_05YzeDyvA)</p> </li> </ul>"},{"location":"software/obsidian/#see-also","title":"See also","text":"<ul> <li>https://forum.obsidian.md/t/support-gfm-style-kebab-case-heading-slug-anchor-targets/30350 GFM links for headings</li> <li>manual (help.obsidian.md)</li> <li> <p>date formatting</p> </li> <li> <p>Settings that may break quick switcher and link completer</p> </li> <li> <p>Plugins</p> </li> <li>A Few of Our Favorite Obsidian Plugins \u2013 The Sweet Setup</li> </ul>"},{"location":"software/obsidian/List%20files%20reverse%20alphabetical/","title":"List files reverse alphabetical","text":"<p>This makes dates show most recent first.</p> <p>Good idea generally?</p> <p></p>"},{"location":"software/obsidian/Troubleshooting/","title":"Troubleshooting","text":"<ul> <li>Troubleshoot Obsidian Sync - Obsidian Help (publish.obsidian.md)</li> </ul>"},{"location":"software/obsidian/Troubleshooting/#testing-sync","title":"Testing sync","text":"<ol> <li>Create some test files:</li> </ol> <pre><code>touch ~/Notes/{,public/,personal/,work/}test-$(datestamp).md\n</code></pre> <ol> <li>Check Obsidian sync log on other devices.</li> <li>Check the files</li> </ol>"},{"location":"software/obsidian/Troubleshooting/#file-count","title":"File count","text":"<p>It's a bit hard to match them if you're not sure what filetypes are being synced.</p> <p>Linux: <pre><code>$ fd .md | wc -l\n5491\n</code></pre></p> <p>iOS: Files and dirs are listed </p>"},{"location":"software/obsidian/bookmarklets/","title":"Obsidian Bookmarklets","text":"<p>Bookmarks for your browser toolbar that do neat things.</p> <p>See also: bookmarklets</p>"},{"location":"software/obsidian/bookmarklets/#open-in-obsidian-wip","title":"Open in Obsidian (WIP)","text":"<p>Click this bookmarklet while browsing a page from your vault on the web (e.g. GitHub.com) to open it in Obsidian.</p> <p>Note: It requires that you configure mappings between URLs and your paths in your Obsidian Vault.</p> <p> <p>```javascript javascript:(function() {     let obsidianBasePath = 'obsidian://open?vault=notes&amp;file=';     let pathMappings = [         {urlPath: 'https://github.com/bash-my-aws/bash-my-aws/blob/master', obsidianPath: 'bash-my-aws'},         // Add more path mapping objects as needed     ];</p> <pre><code>let currentUrl = window.location.href;\nconsole.log('Original URL:', currentUrl);  // Debugging: Log the original URL\n\nlet modifiedPath = currentUrl;\npathMappings.forEach(mapping =&gt; {\n    if (typeof mapping.urlPath === 'string') {\n        modifiedPath = modifiedPath.replace(new RegExp(mapping.urlPath, 'i'), mapping.obsidianPath);\n    } else {\n        modifiedPath = modifiedPath.replace(mapping.urlPath, mapping.obsidianPath);\n    }\n    console.log('After mapping:', modifiedPath);  // Debugging: Log the URL after each mapping\n});\n\nlet obsidianUrl = obsidianBasePath + encodeURIComponent(modifiedPath);\nconsole.log('Final Obsidian URL:', obsidianUrl);  // Debugging: Log the final Obsidian URL\n\n// Optionally, open the URL (comment out for debugging only)\nwindow.open(obsidianUrl);\n</code></pre> <p>})();</p>"},{"location":"software/obsidian/emoji/","title":"Emoji in Obsidian","text":"<p>By claude-3-5-sonnet - 2024-12-29 16:57:47 +11:00 Sun</p> <p>In Obsidian, there are several ways to easily add emojis:</p> <ol> <li>Built-in keyboard shortcuts:</li> <li>Windows: <code>Windows key + .</code> (period)</li> <li>Mac: <code>Command + Control + Space</code></li> <li> <p>Linux: <code>Control + .</code> (period) or <code>Super + .</code> (period)</p> </li> <li> <p>Community Plugins:</p> </li> <li>Install \"Emoji Toolbar\" plugin from Community Plugins</li> <li>Adds an emoji picker button to your editor</li> <li> <p>Can be triggered with customizable hotkey</p> </li> <li> <p>Text expansion:</p> </li> <li>Some users use <code>:</code> shortcuts like <code>:smile:</code> </li> <li>Requires additional plugins/setup</li> </ol> <p>Would you like me to: 1. Show how to install and configure the Emoji Toolbar plugin? 2. Show different emoji shortcut options? 3. Explain how to customize emoji shortcuts?</p> <p>The Emoji Toolbar plugin is probably the most convenient option for Obsidian specifically.</p>"},{"location":"software/obsidian/obsidian-settings-that-may-break-quick-switcher-and-link-completer/","title":"Obsidian Settings that may break Quick Switcher and Link Completer","text":"<p>Quick Switcher breaks for me when either of the following settings are enabled.</p> <p>The result is that I need to include hyphens when searching. </p>"},{"location":"software/obsidian/obsidian-settings-that-may-break-quick-switcher-and-link-completer/#desktop-app","title":"Desktop App","text":"<p>Enabling \"Show attachments\" or \"Show all file types\" degrades switcher for me.</p> <p>Settings -&gt; Core Plugins -&gt; Quick switcher</p> <p></p> <p>This can also be updated in the config file:</p> <p><code>.obsidian/switcher.json</code> <code>json {   \"showAttachments\": false,   \"showAllFileTypes\": false  }</code></p>"},{"location":"software/obsidian/obsidian-settings-that-may-break-quick-switcher-and-link-completer/#mobile-app","title":"Mobile App","text":"<p>Settings -&gt; Quick Switcher -&gt; Show Attachments</p> <p></p> <p></p>"},{"location":"software/obsidian/performance/","title":"Obsidian performance","text":""},{"location":"software/obsidian/performance/#tasks","title":"Tasks","text":""},{"location":"software/obsidian/performance/#enable-notify-if-startup-takes-longer-than-expected","title":"Enable \"Notify if startup takes longer than expected\"","text":"<p>This is good! The problem appears to be the 54,199 files (only ~8000 documents).</p>"},{"location":"software/obsidian/performance/#enable-option-and-re-open-obsidian","title":"Enable Option and re-open Obsidian","text":"<p>Options -&gt; General -&gt; Advanced -&gt; Notify if startup takes longer than expected</p>"},{"location":"software/obsidian/performance/#with-community-plugins-disabled","title":"With community plugins disabled","text":"<pre><code>Obsidian start-up time breakdown\n\nObsidian version: v1.8.0\nInstaller version: v1.4.13\nOperating system: #1 SMP PREEMPT_DYNAMIC Thu Dec 19 23:18:14 UTC 2024 6.12.6-100.fc40.x86_64\n\n- Total startup time: 15,483ms\n- Initialization: 1,435ms\n- Vault (54,199 files): 12,974ms\n- Workspace (10 tabs, 9 deferred): 976ms\n- Core plugins: 99ms\n</code></pre>"},{"location":"software/obsidian/performance/#with-community-plugins-enabled","title":"With community plugins enabled","text":"<pre><code>Obsidian start-up time breakdown\n\nObsidian version: v1.8.0\nInstaller version: v1.4.13\nOperating system: #1 SMP PREEMPT_DYNAMIC Thu Dec 19 23:18:14 UTC 2024 6.12.6-100.fc40.x86_64\n\n- Total startup time: 20,909ms\n- Initialization: 1,683ms\n- Vault (54,199 files): 16,769ms\n- Workspace (10 tabs, 8 deferred): 992ms\n- Core plugins: 78ms\n- Community plugins (19 active): 1,386ms\n  - Emoji Toolbar (v0.4.1): 385ms\n  - Diagrams (v1.5.0): 305ms\n  - Dataview (v0.5.67): 116ms\n  - Templater (v2.4.2): 89ms\n  - Banners (v1.3.3): 81ms\n  - Note Refactor (v1.8.2): 68ms\n  - Emoji Autocomplete (v1.4.1): 51ms\n  - Plaintext (v0.2.0): 37ms\n  - Emoji Shortcodes (v2.2.0): 33ms\n  - Whisper (v1.5.5): 32ms\n  - Homepage (v3.8.0): 27ms\n  - Image Toolkit (v1.4.1): 22ms\n  - Calendar (v1.5.10): 19ms\n  - Paste URL into selection (v1.7.0): 16ms\n  - Hotkeys for templates (v1.4.3): 13ms\n  - Periodic Notes (v0.0.17): 13ms\n  - Paste image rename (v1.6.1): 11ms\n  - Recent Files (v1.4.2): 7ms\n  - Image Context Menus (v1.9.0): 6ms\n</code></pre>"},{"location":"software/obsidian/performance/#remote-debugging-with-web-browser-devtools","title":"Remote debugging with web browser devtools","text":"<p>Haven't explored how to use this.</p> <pre><code>Obsidian.AppImage --enable-logging --remote-debugging-port=9222\n</code></pre>"},{"location":"software/obsidian/sync/","title":"Sync","text":"<ul> <li>Troubleshooting</li> </ul>"},{"location":"software/obsidian/sync/#tools","title":"Tools","text":"<ul> <li>SyncThing is free and works well between computers. Data stays on your hardware.</li> <li>Obsidian Sync: USD $10 per month. Supports end to end encryption.</li> <li>Git: Open Source and free source control.<ul> <li>changing between branches can lead to a lot of sync updates</li> </ul> </li> </ul> <p>linux  \u2194 linux : Obsidian Sync or SyncThing, Git iphone \u2194 linux : Obsidian Sync</p>"},{"location":"software/obsidian/sync/#note","title":"Note","text":"<p>Sync conflicts will likely result from using Obsidian Sync with another type (like SyncThing).     - Setting \"Open Daily Note at Startup\" to true on multiple hosts will likely cause sync issues. forum.obsidian.com</p>"},{"location":"software/obsidian/issues/markdown-heading-anchors/","title":"Obsidian markdown heading anchors incompatible with other tools","text":"<p>One benefit of teams using Git/Markdown for documentation is that team members can use their preferred editors. </p> <p>Obsidian's way of creating / consuming Markdown links to Headings that contain spaces is incompatible with most other tools (including VSCode and GitHub.com).</p> <p>This means links to headings with spaces won't work.</p>"},{"location":"software/obsidian/issues/markdown-heading-anchors/#background","title":"Background","text":"<p>There are two distinct issues with spaces in Markdown links:</p> <ol> <li> <p>Link Destinations with Spaces (well-defined by CommonMark):</p> <ul> <li>Must be enclosed in angle brackets</li> <li>Invalid: <code>[link](/my file.md)</code> </li> <li>Valid: <code>[link](&lt;my file.md&gt;)</code></li> <li>When rendered, spaces are automatically percent-encoded (%20)</li> </ul> </li> <li> <p>Links to Headings with Spaces (not specified by CommonMark):</p> <ul> <li>No standardized way to handle spaces in heading IDs/anchors</li> <li>Tools implement different approaches:<ul> <li>Most replace spaces with hyphens (e.g., <code>#my-heading</code>)</li> <li>Some (including Obsidian) use URL encoding (e.g., <code>#My%20Heading</code>)</li> </ul> </li> </ul> </li> </ol> <p>Examples (View on GitHub.com):</p> <ul> <li><code>#proposed-solutions</code> </li> <li><code>#Proposed%20Solutions</code></li> </ul> <p>Handling of spaces in Markdown anchor links by different tools.</p> Tool Space Replacement Notes Obsidian URL Encoding (%20) GitHub Hyphens VSCode Hyphens MkDocs Hyphens GitLab Hyphens (unconfirmed) Hugo Hyphens (unconfirmed) Configurable via settings Jekyll Hyphens (unconfirmed) Configurable via settings Pandoc Hyphens (unconfirmed) Also removes punctuation"},{"location":"software/obsidian/issues/markdown-heading-anchors/#proposed-solutions","title":"Proposed Solutions","text":""},{"location":"software/obsidian/issues/markdown-heading-anchors/#1-make-markdown-heading-link-space-substitution-configurable","title":"1. Make Markdown heading link space substitution configurable","text":"<p>This would allow the user to decide whether Obsidian should replace spaces with hyphens or %20 when generating Markdown links to headings with spaces in them.</p>"},{"location":"software/obsidian/issues/markdown-heading-anchors/#2-add-obsidian-support-for-viewing-both-types-of-links","title":"2. Add Obsidian support for viewing both types of links","text":"<p>This would make hyphenated links work in Obsidian but would not solve the problem of Obsidian creating links incompatible with other tools.</p> <p>It would work well with 1. to ensure legacy files (using <code>%20</code>) still work regardless of the configured default.</p> <p>The implementation would have to define how to handle ambiguous heading references, where two two headings differ only by spaces vs hyphens.</p> <pre><code>### My-Heading\n### My Heading\n</code></pre>"},{"location":"software/obsidian/issues/markdown-heading-anchors/#implementation","title":"Implementation","text":"<ol> <li>Community Plugin: Develop an Obsidian plugin that changes it's behaviour.</li> <li>Pros: Non-invasive, opt-in solution</li> <li> <p>Cons: Requires plugin development and maintenance</p> </li> <li> <p>Feature Request: Submit a feature request to Obsidian for configurable support so users can choose. </p> </li> <li>Pros: Would solve the issue at the source</li> <li>Cons: No guarantee of implementation, potentially long timeline</li> </ol>"},{"location":"software/obsidian/plugins/","title":"Obsidian Plugins","text":"<ul> <li>Create an Obsidian Plugin</li> </ul>"},{"location":"software/obsidian/plugins/#community-plugins","title":"Community Plugins","text":"<p>I have these enabled today (2025-01-20).</p> Plugin Links calendar Web Obsidian copy-url-in-preview Web Obsidian drawio-obsidian Web Obsidian emoji-autocomplete Web Obsidian emoji-shortcodes Web Obsidian homepage Web Obsidian markdown-table-editor Web Obsidian note-refactor-obsidian Web Obsidian obsidian-banners Web Obsidian obsidian-emoji-toolbar Web Obsidian obsidian-hotkeys-for-templates Web Obsidian obsidian-image-toolkit Web Obsidian obsidian-paste-image-rename Web Obsidian obsidian-plaintext Web Obsidian periodic-notes Web Obsidian recent-files-obsidian Web Obsidian templater-obsidian Web Obsidian url-into-selection Web Obsidian whisper Web Obsidian"},{"location":"software/obsidian/plugins/Create%20an%20Obsidian%20Plugin/","title":"Create an Obsidian Plugin","text":""},{"location":"software/obsidian/plugins/copilot/","title":"Obsidian Copilot - Obsidian Plugin","text":""},{"location":"software/obsidian/plugins/copilot/#local-ollama","title":"Local Ollama","text":"<ul> <li>Local Copilot Setup Guide (github.com)</li> </ul>"},{"location":"software/obsidian/plugins/copilot/#setting-ollama-context-window","title":"Setting Ollama context window","text":"<p>need to manually set it after running model(???)</p> <p>AFAIK <code>ollama serve</code> doesn't have a consolidated way to configure context window for all the models at a single place. The current best way is to run <code>ollama run &lt;modelname&gt;</code> and then <code>/set parameter num_ctx 32768</code> (this is the max for Mistral, set it based on your model requirement), and don't forget to <code>/save &lt;modelname&gt;</code> for each model individually.</p> <p>Remember that you MUST set this parameter for Ollama models, or they will silently fail and you will think your long prompt successfully reached the model!</p> <ul> <li>important note</li> </ul>"},{"location":"software/obsidian/plugins/copilot/#ollama-for-local-embeddings","title":"Ollama for Local Embeddings","text":"<ul> <li>Ollama for local embeddings</li> </ul> <p>Ollama has added support for local embeddings for RAG since v0.1.26! It's super easy to setup, just run</p> <pre><code>ollama pull nomic-embed-text\n</code></pre> <p>and start your local Ollama server as before. Now you can set your embedding model in Copilot settings as <code>ollama-nomic-embed-text</code>, and it will use your local embeddings!</p> <p>With this one Ollama server running, you can set your Chat model as Ollama too, meaning it handles both chat streaming and embedding! You can then have a completely offline QA experience!</p>"},{"location":"software/obsidian/plugins/copilot/#now-go-crazy-with-local-models-in-chat-mode-and-qa-modes","title":"Now, go crazy with local models in Chat mode and QA modes!","text":""},{"location":"software/obsidian/plugins/tasks/","title":"Tasks - Obsidian plugin","text":"<ul> <li>Quick Reference (obsidian-tasks-group.github.io)</li> <li>Introduction (obsidian-tasks-group.github.io)</li> <li> <p>(not) My Task Management System (forum.obsidian.md)</p> </li> <li> <p>https://youtu.be/quXNtjTe5WE?si=i5VSyCGTAW0dePyN</p> </li> </ul> <p>Combining Filters: <pre><code>```tasks\nnot done\n(path includes shopping/hardware) OR (tags includes #hardware)\n</code></pre></p>"},{"location":"software/obsidian/plugins/tasks/#naming-of-things","title":"Naming of Things","text":"<ul> <li>every task should have a project or bau assigned, either by being under a projetc or by having its take assigned</li> <li>a project is a bit like a costcode - it provides context</li> </ul>"},{"location":"software/obsidian/plugins/tasks/#hotkeys","title":"Hotkeys","text":"<ul> <li>CTRL-SHIFT-T: Create or edit task</li> <li>CTRL-L: Toggle Task/Checkbox Done</li> </ul>"},{"location":"software/obsidian/plugins/tasks/#cleanup-in-files","title":"Cleanup <code>- [ ]</code> in files","text":"<p>I decided against ising <code>#task</code> tag and needed to cleanup &gt;2000 <code>- [ ]</code> checkboxes in my notes.</p> <pre><code>grep -cr '\\- \\[ \\]'  | grep -v ':0$' | sort -nk 2 -t':'\n</code></pre>"},{"location":"software/obsidian/plugins/tasks/#example-queries-in-daily-note-tasks","title":"Example Queries in Daily Note Tasks","text":"<ul> <li>Any task that requires more than one action to complete is a project. Each project is a note in my Obsidian vault, and the tasks related to that project sit in that note.</li> <li>Recurring tasks also each have their own note. This enables me to list all my recurring tasks via Dataview, and has the further advantage that I can see the history of when I completed each recurring task.</li> <li>A one-off task can go into any note to which it relates, but most often that is a project note or my Daily Note.</li> <li>Every task is either \u2018planned\u2019 or \u2018unplanned\u2019. If it is unplanned, it does not use the Tasks plugin functionality at all, and is just a checkbox. I can review all my unplanned tasks using a Dataview query and see which need to be planned. Planned tasks use the power of the Tasks plugin to determine when they start (are available from), are scheduled, or are due.</li> <li> <p>My Daily Note uses Tasks queries to show which tasks are due, scheduled or available today - as well as those completed today.</p> </li> <li> <p>My Task Management System (forum.obsidian.md)</p> </li> </ul> <p></p>"},{"location":"software/obsidian/plugins/tasks/#break-vim-less","title":"Break vim less","text":"<p>Set <code>Minimum match length for auto-suggest</code> above <code>0</code> to enable vim command like <code>dd</code> to work on task items.</p> <p></p>"},{"location":"software/openssh/","title":"OpenSSH","text":""},{"location":"software/openssh/#handy-commands","title":"Handy commands","text":"<p>Extract public key: <code>ssh-keygen -y -f /path/to/private/key</code></p>"},{"location":"software/openssh/#cve","title":"CVE","text":"<ul> <li>https://github.com/xaitax/CVE-2024-6387_Check</li> </ul>"},{"location":"software/openssh/#install","title":"Install","text":"<ul> <li>install</li> </ul>"},{"location":"software/openssh/#cool-tricks","title":"Cool Tricks","text":"<p>Make remote webapp available locally: <code>ssh -L 9000:localhost:9000 username@remote_host</code>L</p>"},{"location":"software/openssh/install/","title":"Install","text":""},{"location":"software/openssh/install/#install","title":"Install","text":""},{"location":"software/openssh/install/#from-source","title":"From source","text":"<p>You probably only want to install from source if:</p> <ul> <li>You're running on an old distro without security updates.</li> <li>You want to run a newer version than your distro offers.</li> </ul>"},{"location":"software/openssh/install/#fedora","title":"Fedora","text":"<p>I'm running fedora-40 on a host.</p> <ol> <li> <p>Download openssh portable source code: from a mirror</p> </li> <li> <p>Install deps: </p> <pre><code>sudo dnf install -y libfido2-devel\n</code></pre> </li> <li> <p>Compile and install:</p> <p>This will replace <code>/usr/sbin/sshd</code>. </p> <p>Non-system packages are more commonly installed to dirs under:</p> <ul> <li><code>/usr/local</code>: default location, usually ahead of <code>/usr</code> in <code>$PATH</code></li> <li><code>/opt</code>: Another common place for </li> </ul> <p>I'm doing this because then the existing systemd files will just work.</p> <pre><code>tar zxfv openssh-9.8p1.tar.gz\ncd openssh-9.8p1\n./configure --prefix=/usr\nmake\nsudo make install\n</code></pre> </li> <li> <p>Restart sshd: <pre><code>sudo systemctl stop sshd\nsudo systemctl start sshd\n</code></pre></p> </li> <li> <p>Check version of sshd running:</p> </li> </ol> <pre><code>$ nc --recv-only --idle-timeout 0.2 localhost 22 2&gt;/dev/null\nSSH-2.0-OpenSSH_9.8\n</code></pre> <p>Note: Your shell may have cached old version of client</p> <p>Old version of ssh client still reported: <pre><code>$ ssh -V\nOpenSSH_9.0p1, OpenSSL 3.0.9 30 May 2023\n</code></pre></p> <p>This is because shell hashed location: <pre><code>$ type ssh\nssh is hashed (/usr/bin/ssh)\n</code></pre></p> <p>Rehash and it should find new version: <pre><code>$ hash -r\n$ type ssh\nssh is hashed (/usr/local/bin/ssh)\n$ ssh -V\nOpenSSH_9.8p1, OpenSSL 3.0.9 30 May 2023\n</code></pre></p>"},{"location":"software/os/linux/systemd/","title":"Systemd","text":""},{"location":"software/os/linux/systemd/#commands","title":"Commands","text":"<p>Check version: <code>systemctl --version</code></p>"},{"location":"software/os/linux/debian/","title":"debian","text":""},{"location":"software/os/linux/debian/#updates","title":"updates","text":""},{"location":"software/os/linux/debian/#automatic-security-updates","title":"Automatic security updates","text":""},{"location":"software/os/linux/fedora-redhat/automatic-updates/","title":"Enable automatic updates:","text":"<pre><code>sudo dnf -y install dnf-automatic\nsudo systemctl enable --now dnf-automatic.timer\n</code></pre>"},{"location":"software/os/linux/fedora-redhat/fedora-install/","title":"Fedora / Redhat","text":"<p>Install from USB Update packages: <code>sudo dnf update -y</code> Enable automatic-updates Setup etckeeper </p>"},{"location":"software/os/linux/fedora-redhat/fedora-install/#see-also","title":"See also","text":"<ul> <li>setup user account on fedora</li> </ul>"},{"location":"software/os/linux/fedora-redhat/install-from-usb/","title":"Install from usb","text":""},{"location":"software/os/linux/fedora-redhat/install-from-usb/#install-from-usb","title":"Install from USB","text":"<ul> <li>Custom partitioning<ul> <li>Standard partitioning (not LVM)</li> <li>EXT4</li> <li>Select Full disk encryption</li> <li>Extra partition:  /var 300GB # for VMS</li> </ul> </li> <li>Reboot</li> <li>Create login</li> <li>Update packages: <code>sudo dnf update -y</code> </li> <li>Enable automatic-updates </li> </ul>"},{"location":"software/os/linux/fedora-redhat/setup-etckeeper/","title":"Setup etckeeper","text":"<p>Keep /etc in Git.</p> <p>```shell  sudo dnf -y install etckeeper</p> <p>git config --global user.email || git config --global user.email \"you@example.com\"  git config --global user.name || git config --global user.name \"Your Name\"</p> <p>etckeeper init  etckeeper vcs status  etckeeper vcs commit -m 'msg'  ```</p>"},{"location":"software/os/linux/ubuntu-debian/","title":"ubuntu","text":"<ul> <li>ubuntu-unattended-updates</li> </ul>"},{"location":"software/os/linux/ubuntu-debian/#update","title":"Update","text":"<pre><code>apt update &amp;&amp; apt upgrade -y\n</code></pre>"},{"location":"software/os/linux/ubuntu-debian/#choose-an-editor","title":"Choose an editor","text":"<pre><code>sudo update-alternatives --config editor\n</code></pre>"},{"location":"software/os/linux/ubuntu-debian/#install","title":"Install","text":""},{"location":"software/os/linux/ubuntu-debian/#create-install-usb","title":"Create install USB","text":"<pre><code>sudo dd if=/path-to-the-iso/ubuntu-18.04.1-desktop-amd64.iso of=/dev/sdb bs=8M\n\nsudo apt update\n</code></pre>"},{"location":"software/os/linux/ubuntu-debian/#packages","title":"Packages","text":"<pre><code>sudo apt install -y \\\n  net-tools \\\n  etckeeper\n\nsudo update-alternatives --config editor\n</code></pre>"},{"location":"software/os/linux/ubuntu-debian/#install-unattended-upgrades","title":"Install Unattended Upgrades","text":"<ul> <li> <p>https://www.linode.com/docs/guides/how-to-configure-automated-security-updates-debian/ <pre><code>sudo apt install unattended-upgrades\nsudo systemctl enable --now unattended-upgrades\n</code></pre></p> </li> <li> <p>WSL:  While WSL does not support systemd by default, the package installs a daily cron job that should handle the updates.</p> </li> </ul>"},{"location":"software/os/linux/ubuntu-debian/apt/","title":"apt","text":""},{"location":"software/os/linux/ubuntu-debian/apt/#commands","title":"Commands","text":""},{"location":"software/os/linux/ubuntu-debian/apt/#what-packages-provides-file","title":"What packages provides file?","text":"<p>Install <code>apt-file</code>:</p> <pre><code>sudo apt install apt-file\n</code></pre> <p>Usage:</p> <pre><code>apt-file search symlinks\n</code></pre>"},{"location":"software/os/linux/ubuntu-debian/deb/","title":"debian packages","text":"<p>extract deb contents</p> <pre><code>mkdir tmp\ndpkg-deb -R original.deb tmp\n</code></pre>"},{"location":"software/os/linux/ubuntu-debian/ubuntu-unattended-updates/","title":"Ubuntu Unattended Updates","text":"<p>Unattended updates</p> <ul> <li>Enabled by default.</li> </ul>"},{"location":"software/os/linux/ubuntu-debian/ubuntu-unattended-updates/#check-config","title":"Check config","text":"<p>Check Systemd service enabled: <pre><code>$ sudo systemctl is-enabled unattended-upgrades.service\nenabled\n</code></pre></p> <p>Check apt config: <pre><code>$ sudo apt-config dump APT::Periodic::Unattended-Upgrade\nAPT::Periodic::Unattended-Upgrade \"1\";\n</code></pre></p>"},{"location":"software/os/linux/ubuntu-debian/ubuntu-unattended-updates/#install","title":"Install","text":"<pre><code>sudo apt-get install unattended-upgrades\nsudo dpkg-reconfigure --priority=low unattended-upgrades\n</code></pre>"},{"location":"software/os/linux/ubuntu-debian/ubuntu-unattended-updates/#see-also","title":"See also","text":"<ul> <li>AutomaticSecurityUpdates - Community Help Wiki</li> </ul>"},{"location":"software/os/macos/","title":"macOS","text":"<ul> <li>macOS Launch Daemons</li> <li>Disable Sleep</li> </ul>"},{"location":"software/os/macos/disable-sleep/","title":"Disable Sleep","text":"<p>To disable suspend (sleep mode) on macOS, you can use the following Terminal command:</p> <pre><code>sudo pmset -a disablesleep 1\n</code></pre> <p>This command uses the <code>pmset</code> utility to modify power management settings. Here's a breakdown:</p> <ul> <li><code>sudo</code>: Run the command with administrator privileges</li> <li><code>pmset</code>: The power management settings utility</li> <li><code>-a</code>: Apply the setting to all power sources (battery and AC)</li> <li><code>disablesleep 1</code>: Enable the \"disable sleep\" setting (1 means enable, 0 means disable)</li> </ul> <p>To re-enable sleep mode later, you can use:</p> <pre><code>sudo pmset -a disablesleep 0\n</code></pre> <p>Would you like me to explain more about this command or provide any additional information about power management on macOS?</p>"},{"location":"software/os/macos/macos%20Launch%20Daemons/","title":"macOS launchd","text":"<ul> <li>https://developer.apple.com/library/archive/documentation/MacOSX/Conceptual/BPSystemStartup/Chapters/CreatingLaunchdJobs.html</li> </ul>"},{"location":"software/os/macos/macos%20Launch%20Daemons/#commands","title":"Commands","text":""},{"location":"software/os/macos/macos%20Launch%20Daemons/#find-an-agent","title":"Find an agent","text":"<pre><code>sudo find /Library/LaunchAgents /Library/LaunchDaemons /System/Library/LaunchAgents /System/Library/LaunchDaemons -name \"*whisperserver*\"\n</code></pre>"},{"location":"software/os/macos/macos%20Launch%20Daemons/#stop","title":"Stop","text":"<pre><code>sudo launchctl stop com.system.whisperserver\n</code></pre>"},{"location":"software/os/macos/macos%20Launch%20Daemons/#start","title":"Start","text":"<pre><code>sudo launchctl stop com.system.whisperserver\n</code></pre>"},{"location":"software/os/macos/macos%20Launch%20Daemons/#status","title":"Status","text":"<pre><code>sudo launchctl print system/com.system.whisperserver\n</code></pre>"},{"location":"software/os/macos/macos-launchd/","title":"macOS launchd","text":"<ul> <li>https://developer.apple.com/library/archive/documentation/MacOSX/Conceptual/BPSystemStartup/Chapters/CreatingLaunchdJobs.html</li> </ul> <p>Troubleshoot plist: <code>plutil -lint ~/Library/LaunchAgents/com.ollama.service.plist</code></p>"},{"location":"software/os/macos/macos-launchd/#commands","title":"Commands","text":""},{"location":"software/os/macos/macos-launchd/#find-an-agent","title":"Find an agent","text":"<pre><code>sudo find /Library/LaunchAgents /Library/LaunchDaemons /System/Library/LaunchAgents /System/Library/LaunchDaemons -name \"*whisperserver*\"\n</code></pre>"},{"location":"software/os/macos/macos-launchd/#stop","title":"Stop","text":"<pre><code>sudo launchctl stop com.system.whisperserver\n</code></pre>"},{"location":"software/os/macos/macos-launchd/#start","title":"Start","text":"<pre><code>sudo launchctl stop com.system.whisperserver\n</code></pre>"},{"location":"software/os/macos/macos-launchd/#status","title":"Status","text":"<pre><code>sudo launchctl print system/com.system.whisperserver\n</code></pre>"},{"location":"software/os/windows/","title":"Microsoft Windows","text":"<p>The non-unix operating system.</p>"},{"location":"software/os/windows/#cli","title":"CLI","text":"<p>Windows offers three CLi alternatives:</p> <ul> <li>Command Prompt: Legacy</li> <li>PowerShell: 21<sup>st</sup> Century replacement</li> <li>WSL Linux: Windows commands and environment can be exposed to linux virtual machines</li> </ul>"},{"location":"software/os/windows/#environment-variables","title":"Environment Variables","text":"<ul> <li>%UserProfile%: <code>C:\\Users\\[YourUsername]</code></li> </ul>"},{"location":"software/os/windows/#print-all","title":"Print all","text":"<p>Command Prompt:</p> <pre><code>set\n</code></pre> <p>PowerShell: </p> <p><pre><code>Get-ChildItem Env:\n</code></pre> <pre><code>gci env:\n</code></pre></p>"},{"location":"software/os/windows/#see-also","title":"See also:","text":"<ul> <li>WSL: Windows Subsystem for Linux</li> </ul>"},{"location":"software/os/windows/screenshots/","title":"Windows screenshots","text":"<ul> <li>greenshot (github.com): Open Source screenshot tool</li> </ul> <p>by ChatGPT</p> <p>To take a screenshot in Windows, you have several options:</p> <ol> <li> <p>Using Snipping Tool: Press <code>Windows logo key + Shift + S</code> to open the Snipping Tool. Choose from options like rectangular, freehand, window, or full-screen capture. The screenshot is copied to your clipboard and can be pasted into another app.</p> </li> <li> <p>Using Print Screen Key: </p> </li> <li>To capture an active window: Press <code>ALT + Print Screen</code>, then paste into an app.</li> <li>To capture the entire screen: Press <code>Print Screen</code>, then paste into an app.</li> <li>To save the screenshot as an image file: Press <code>Windows + Print Screen</code>. Find your screenshot in PNG format in the Pictures &gt; Screenshots folder.</li> </ol> <p>more stuff</p> <p>To take a screenshot of a selection on Windows and save it directly to the \"Pictures\" -&gt; \"Screenshots\" folder, you can use the built-in Snip &amp; Sketch tool. Here are the steps:</p> <ol> <li>Open Snip &amp; Sketch:</li> <li>Press <code>Windows key + Shift + S</code>. This opens the Snip &amp; Sketch tool in snipping mode.</li> <li> <p>Alternatively, you can search for \"Snip &amp; Sketch\" in the start menu and open the application.</p> </li> <li> <p>Select the Area:</p> </li> <li>Once you press <code>Windows key + Shift + S</code>, your screen will dim, and you'll see a small toolbar at the top of your screen. Choose the type of snip you want to make (rectangular, freeform, window, or fullscreen).</li> <li> <p>For a selection, use the rectangular snip or freeform snip. Click and drag to select the area of your screen that you want to capture.</p> </li> <li> <p>Save the Screenshot:</p> </li> <li>After making the selection, the screenshot will be copied to your clipboard and a notification will appear in the lower right corner. Click on the notification to open the Snip &amp; Sketch editor.</li> <li>In the Snip &amp; Sketch editor, click on the save button (a floppy disk icon) or press <code>Ctrl + S</code>.</li> <li>Navigate to the \"Pictures\" -&gt; \"Screenshots\" folder in the save dialog and save your screenshot there.</li> </ol> <p>Note that by default, when you use the <code>PrtScn</code> key or the <code>Windows key + PrtScn</code>, Windows saves the screenshots in the \"Pictures\" -&gt; \"Screenshots\" folder automatically. However, these methods capture the entire screen or window, not a selection.</p> <p>Using Snip &amp; Sketch with the <code>Windows key + Shift + S</code> shortcut allows for selecting a specific area but requires you to manually save the screenshot in the desired folder.</p>"},{"location":"software/os/windows/windows-performance/","title":"Windows performance","text":""},{"location":"software/os/windows/windows-performance/#commands","title":"Commands","text":"<ul> <li>Open Task Manager: <code>Ctrl</code> + <code>Shift</code> + <code>Escape</code></li> </ul>"},{"location":"software/os/windows/wsl/","title":"WSL - Windows Subsystem for Linux","text":"<p>Built in tool that enables running Linux OS under Windows.</p>"},{"location":"software/os/windows/wsl/#install","title":"Install","text":""},{"location":"software/os/windows/wsl/#configuration","title":"Configuration","text":"<ul> <li>Fix fuzzy fonts in wsl gui apps</li> <li>Advanced settings configuration in WSL</li> <li>%UserProfile%\\.wslconfig to configure global settings across all installed distributions running on WSL 2.</li> <li>/etc/wsl.conf to configure local settings per-distribution for each Linux distribution running on WSL 1 or WSL 2.</li> <li>8 second rule: You must wait until the subsystem running your Linux distribution completely stops running and restarts for configuration setting updates to appear. This typically takes about 8 seconds after closing ALL instances of the distribution shell.</li> </ul>"},{"location":"software/os/windows/wsl/#commands","title":"Commands","text":"<p>These can be run in: - WSL Terminal (by adding <code>.exe</code> to commands). - Windows Command Prompt - PowerShell</p> <p>Shutdown: <code>wsl --shutdown</code> Terminate: <code>wsl --terminate &lt;distro_name&gt;</code> List: <code>wsl --list --running</code></p>"},{"location":"software/os/windows/wsl/#running-windows-commands-from-wsl-terminal","title":"Running Windows Commands from WSL Terminal","text":"<p>You can run windows Command Prompt and PowerShell commands from WSL Linux.</p> <p>Command Prompt: <code>cmd.exe /C set</code></p> <p>PowerShell: <code>powershell.exe Get-ChildItem Env:</code></p>"},{"location":"software/os/windows/wsl/#note","title":"Note:","text":"<ul> <li>Running Windows executables from WSL: When you run Windows executables from WSL, the path to the executable is typically required unless it's in the Windows system PATH. For system utilities like <code>cmd.exe</code> and <code>powershell.exe</code>, no additional path specification is needed because they reside in a directory that's included in the system PATH.</li> <li>File System Integration: WSL integrates with the Windows file system, allowing you to execute Windows binaries directly. However, keep in mind that while you can access Windows files from within WSL, the reverse (accessing WSL's Linux files from Windows) should be done cautiously to avoid data corruption.</li> <li>Performance Note: Running Windows applications from WSL incurs a slight performance penalty compared to running them directly in their native environment due to the cross-environment call.</li> </ul>"},{"location":"software/os/windows/wsl/Fix%20fuzzy%20fonts%20in%20wsl%20gui%20apps/","title":"Fix fuzzy fonts in wsl gui apps","text":"<p>Don't know what fixed it:</p> <ul> <li>Turned off scaling</li> <li>Added <code>~/.config/fontconfig/fonts.conf</code>,  <code>fc-cache -f -v</code></li> <li>Restarted wsl</li> <li>Restarted windows</li> </ul>"},{"location":"software/prometheus/node_exporter/","title":"node_exporter","text":""},{"location":"software/prometheus/node_exporter/#-prometheusnode_exporter-exporter-for-machine-metrics-githubcom","title":"- prometheus/node_exporter Exporter for machine metrics (github.com)","text":"<ul> <li>https://hub.docker.com/r/prom/node-exporter</li> <li>https://formulae.brew.sh/formula/node_exporter</li> </ul>"},{"location":"software/prometheus/node_exporter/#questions","title":"Questions","text":"<ul> <li>How to list all enabled collectors?</li> </ul>"},{"location":"software/prometheus/node_exporter/#install","title":"Install","text":"<p>fedora-38 <pre><code>sudo dnf install -y golang-github-prometheus-node-exporter\nsystemctl enable --now node_exporter\n</code></pre></p> <p>ubuntu</p> <pre><code>sudo apt install -y prometheus-node-exporter prometheus-node-exporter-collectors\n</code></pre>"},{"location":"software/prometheus/node_exporter/#config","title":"Config","text":"<p>systemd unit file: <pre><code>EnvironmentFile=/etc/default/prometheus-node-exporter\n</code></pre></p> <pre><code>/etc/default/prometheus-node-exporter\n/etc/systemd/system/prometheus-node-exporter.service\n</code></pre>"},{"location":"software/prometheus/node_exporter/#textfile","title":"textfile","text":"<ul> <li>prometheus/node_exporter Exporter for machine metrics (github.com)</li> </ul> <p><code>--collector.textfile.directory=\"/var/lib/prometheus/node-exporter</code></p>"},{"location":"software/prometheus/node_exporter/#notes","title":"Notes","text":"<p>podman exec -ti promcom_prometheus_1 wget -O- host.containers.internal:9100/metrics</p>"},{"location":"software/prometheus/prometheus/","title":"Prometheus","text":"<p>Prometheus monitoring</p>"},{"location":"software/prometheus/prometheus/#install","title":"Install","text":"<pre><code>sudo dnf -y install golang-github-prometheus\nsystemctl enable --now prometheus\n</code></pre> <p>Update to latest</p> <pre><code>wget https://github.com/prometheus/prometheus/releases/download/v2.46.0/prometheus-2.46.0.linux-amd64.tar.gz\ntar zxfv prometheus-2.46.0.linux-amd64.tar.gz\ncd \n</code></pre>"},{"location":"software/prometheus/prometheus/#port-forwarding","title":"Port Forwarding","text":"<pre><code>LocalForward 59090 localhost:9090 # prometheus\nLocalForward 59091 localhost:9091 # pushgateway\nLocalForward 59093 localhost:9093 # alertmanager\nLocalForward 59100 localhost:9100 # node_exporter\nLocalForward 53000 localhost:3000 # grafana\nLocalForward 59115 localhost:9115 # blackbox_exporter\n</code></pre>"},{"location":"software/syncthing/","title":"Syncthing","text":"<p>Default URL: http://localhost:8384/</p> <ul> <li> <p>macos</p> </li> <li> <p>Syncthing (syncthing.net)</p> </li> </ul> <p>Syncthing is a continuous file synchronization program. It synchronizes files between two or more computers in real time, safely protected from prying eyes. Your data is your data alone and you deserve to choose where it is stored, whether it is shared with some third party, and how it's transmitted over the internet.</p> <ul> <li>Understanding Synchronization \u2014 Syncthing v1.21.0 documentation</li> </ul> <ul> <li>Is putting a Git workspace in a synced folder really a good idea? (forum.syncthing.net)<ul> <li>I do it and have had no problems but YYMV.</li> </ul> </li> </ul>"},{"location":"software/syncthing/#ideas","title":"Ideas","text":"<ul> <li>Archive host: <ul> <li> Use external file versioning to add file to .stignore</li> <li>Get archive host to ignore deletes</li> </ul> </li> </ul>"},{"location":"software/syncthing/#firewalld","title":"firewalld","text":"<pre><code>sudo firewall-cmd --zone=dmz --add-service=syncthing --permanent\nsudo firewall-cmd --zone=dmz --add-service=syncthing-gui --permanent\nsudo firewall-cmd --reload\n</code></pre>"},{"location":"software/syncthing/#install","title":"Install","text":"<p>fedora: <code>sudo dnf install -y syncthing</code></p> <p>ubuntu:</p> <pre><code>sudo curl -o /usr/share/keyrings/syncthing-archive-keyring.gpg https://syncthing.net/release-key.gpg\necho \"deb [signed-by=/usr/share/keyrings/syncthing-archive-keyring.gpg] https://apt.syncthing.net/ syncthing stable\" | sudo tee /etc/apt/sources.list.d/syncthing.list\nsudo apt-get update\nsudo apt-get install syncthing\n</code></pre>"},{"location":"software/syncthing/#config","title":"Config","text":"<p>Start on boot (gnome):</p> <p></p>"},{"location":"software/syncthing/#web-ui","title":"web ui","text":"<ul> <li>https://docs.syncthing.net/users/guilisten.html</li> </ul> <p><code>~/.config/syncthing/config.xml</code></p> <pre><code>&lt;gui enabled=\"true\" tls=\"false\" debugging=\"false\"&gt;\n    &lt;address&gt;127.0.0.1:8384&lt;/address&gt;\n    &lt;apikey&gt;dfjsfdkjhsdfa;hdsfo&lt;/apikey&gt;\n    &lt;theme&gt;default&lt;/theme&gt;\n&lt;/gui&gt;\n</code></pre> <p>Be sure to enable HTTPS and set a strong password. </p>"},{"location":"software/syncthing/#systemd-start","title":"Systemd start","text":"<ul> <li>https://docs.syncthing.net/users/autostart.html#using-systemd</li> </ul> <pre><code>$ sudo systemctl enable --now syncthing@m.service\nCreated symlink /etc/systemd/system/multi-user.target.wants/syncthing@mike.service \u2192 /lib/systemd/system/syncthing@.service.\n</code></pre>"},{"location":"software/syncthing/#reset-gui-password","title":"Reset GUI password","text":"<ul> <li>FAQ \u2014 Syncthing documentation</li> </ul> <p>If you\u2019ve forgotten / lost the GUI password, you can reset it using the --gui-password (and possibly --gui-user) options to the syncthing generate subcommand. This should be done while Syncthing is not running.</p> <pre><code>syncthing cli operations shutdown # Stop Syncthing\nsyncthing generate --gui-password=myNewPassword --gui-user=newUserName\n# Restart Syncthing as usual.\n</code></pre>"},{"location":"software/syncthing/#ignore-files-with-stignore","title":"Ignore Files with <code>.stignore</code>","text":"<ul> <li>Ignoring Files \u2014 Syncthing documentation (docs.syncthing.net)</li> </ul>"},{"location":"software/syncthing/macos/","title":"macos","text":"<p>This directory contains an example for running Syncthing in the background under macOS.</p> <ol> <li> <p>Install the <code>syncthing</code> binary in a directory called <code>bin</code> in your     home directory.</p> </li> <li> <p>Edit the <code>syncthing.plist</code> by replacing <code>USERNAME</code> with your actual     username such as <code>jb</code>.</p> </li> <li> <p>Copy the <code>syncthing.plist</code> file to <code>~/Library/LaunchAgents</code>.</p> </li> <li> <p>Log out and in again, or run <code>launchctl load     ~/Library/LaunchAgents/syncthing.plist</code>.</p> </li> </ol> <p>You probably want to turn off \"Start Browser\" among the settings to avoid it opening a browser window on each login.</p> <p>Logs are in <code>~/Library/Logs/Syncthing.log</code> and, for crashes and exceptions, <code>~/Library/Logs/Syncthing-Error.log</code>.</p>"},{"location":"software/testing/","title":"Software Testing","text":""},{"location":"software/testing/#testing-frameworks","title":"Testing Frameworks","text":"<ul> <li>BATS testing framework</li> </ul>"},{"location":"software/testing/bats/","title":"BATS testing framework","text":"<ul> <li>Tutorial \u2014 bats-core 1 documentation (bats-core.readthedocs.io)</li> <li>Conventions</li> </ul>"},{"location":"software/testing/bats/#install-in-project","title":"Install in project","text":"<pre><code>git submodule add https://github.com/bats-core/bats-core.git tests/bats\ngit submodule add https://github.com/bats-core/bats-support.git tests/test_helper/bats-support\ngit submodule add https://github.com/bats-core/bats-assert.git tests/test_helper/bats-assert\n</code></pre>"},{"location":"software/testing/bats/#usage","title":"Usage","text":""},{"location":"software/testing/bats/#run","title":"<code>run</code>:","text":"<ul> <li>returns 0</li> <li>stores stdout/stderr in <code>$output</code></li> <li>stores the exit code in <code>$status</code> and returns 0</li> </ul>"},{"location":"software/testing/bats/#setup","title":"<code>setup()</code>","text":"<ul> <li>Run before each test.</li> </ul>"},{"location":"software/testing/bats/#setup_file","title":"<code>setup_file()</code>","text":"<ul> <li>Run before each file.</li> </ul>"},{"location":"software/testing/bats/#teardown","title":"<code>teardown()</code>","text":"<p>A test ends at its first failure. None of the subsequent commands in this test will be executed. The teardown function runs after each individual test in a file, regardless of test success or failure. Similarly to setup, each .bats file can have its own teardown function which will be the same for all tests in the file.</p>"},{"location":"software/testing/bats/#teardown_1","title":"<code>teardown()</code>","text":"<p>Run after each file.</p>"},{"location":"software/testing/bats/#skip","title":"<code>skip</code>","text":"<p>Skip a test and provide explanatory message:</p> <pre><code>@test \"Show welcome message on first invocation\" {\n    if [[ -e /tmp/bats-tutorial-project-ran ]]; then\n        skip 'The FIRST_RUN_FILE already exists'\n    fi\n</code></pre>"},{"location":"software/testing/bats/conventions/","title":"Conventions","text":"<p>The BATS community practices aren't as formally documented as one might hope, but here are the main sources:</p> <ol> <li>Official BATS Documentation:</li> <li>https://bats-core.readthedocs.io/</li> <li>https://bats-core.readthedocs.io/en/stable/writing-tests.html`</li> </ol>"},{"location":"software/tmux/","title":"tmux","text":"<p>tmux is a terminal multiplexer. It lets you switch easily between several programs in one terminal, detach them (they keep running in the background) and reattach them to a different terminal.</p> <ul> <li>tmux/tmux Wiki (github.com)</li> <li>A Quick and Easy Guide to tmux - Ham Vocke (hamvocke.com)</li> <li>Tmux Cheat Sheet &amp; Quick Reference (tmuxcheatsheet.com)</li> </ul>"},{"location":"software/tmux/#usage","title":"Usage","text":"<ul> <li>mouse-support</li> </ul>"},{"location":"software/tmux/#copy-text","title":"Copy text","text":""},{"location":"software/tmux/#commands","title":"Commands","text":"Name Purpose Example \ud83d\udd17 attach-session Connect to existing session <code>tmux attach -t mysession</code> \ud83c\udd95 new-session Create new session <code>tmux new -s mysession</code> \ud83d\udccb list-sessions Show all sessions <code>tmux ls</code> \ud83d\udeaa detach-client Leave session without ending it <code>Ctrl+b d</code> \ud83d\udcdd rename-session Change session name <code>Ctrl+b $ newname</code> \ud83d\uddd1\ufe0f kill-session End a session <code>tmux kill-session -t mysession</code> \u2b1c split-window Create new pane <code>Ctrl+b %</code> (vertical), <code>Ctrl+b \"</code> (horizontal) \ud83e\ude9f new-window Create new window <code>Ctrl+b c</code> \ud83d\udccd select-pane Switch between panes <code>Ctrl+b arrow-key</code> \ud83d\udd04 swap-pane Rearrange panes <code>Ctrl+b {</code> or <code>Ctrl+b }</code> \ud83d\udcdc copy-mode Enter scroll/copy mode <code>Ctrl+b [</code> \ud83d\udd0e find-window Search for window <code>Ctrl+b f pattern</code>"},{"location":"software/tmux/#install","title":"Install","text":"<p><code>sudo dnf install tmux</code></p>"},{"location":"software/tmux/#config","title":"Config","text":"<ul> <li>config</li> </ul>"},{"location":"software/tmux/config/","title":"Config","text":""},{"location":"software/tmux/config/#config","title":"Config","text":"<ul> <li><code>~/.tmux.conf</code> </li> <li><code>~/.config/tmux/tmux.conf</code> (XDG Base Directory specification)</li> </ul> <p>Tmux looks for configuration files in the following locations, in order of precedence:</p> <ol> <li>Command line option: <code>-f path</code></li> <li>User's config: <code>~/.tmux.conf</code></li> <li>System-wide config: <code>/etc/tmux.conf</code></li> <li><code>~/.config/tmux/tmux.conf</code> (XDG Base Directory specification) # newer versions</li> </ol> <p>The most common location used is <code>~/.tmux.conf</code></p> <p>You can verify which config file tmux is using by running: <pre><code>tmux show-options -g config-file\n</code></pre></p> <p>And you can check what version of tmux you're running (which might affect config file locations) with: <pre><code>tmux -V\n</code></pre></p> <p><code>tmux source-file ~/.tmux.conf</code>: source changes without restarting session</p>"},{"location":"software/tmux/mouse-support/","title":"Mouse support","text":"<p>By claude-3-5-sonnet</p> <p>To enable mouse support in tmux for scrolling, you can either:</p> <ol> <li> <p>Run this command in your current tmux session: <pre><code>tmux set -g mouse on\n</code></pre></p> </li> <li> <p>Or add this line to your ~/.tmux.conf file for permanent effect: <pre><code>set -g mouse on\n</code></pre></p> </li> </ol> <p>After adding it to the config file, you'll need to either: - Reload tmux config with: <code>tmux source-file ~/.tmux.conf</code> - Or restart tmux</p> <p>With mouse mode enabled, you can: - Use the mouse wheel to scroll through terminal history - Click and drag to select text - Click pane borders to resize them</p>"},{"location":"software/virtualisation/virt-manager/","title":"virt-manager","text":"<ul> <li>libvirt video devices</li> </ul>"},{"location":"software/virtualisation/virt-manager/#windows-guests","title":"Windows Guests","text":"<ul> <li>spice-space guest tools</li> </ul>"},{"location":"software/virtualisation/libvirt/","title":"libvirt","text":"<p>Virtualization library for linux.</p> <ul> <li>Use libvirt as non root user</li> <li>Change default location for libvirt-images</li> </ul> <p><code>virsh autostart prometheus</code> #  start guest on boot</p>"},{"location":"software/virtualisation/libvirt/#bash-my-kvm","title":"bash-my-kvm","text":"<p>Create KVM guests in seconds based on:</p> <ul> <li>Amazon Linux 2</li> <li>Fedora, Rocky, Alma, etc</li> <li> <p>Ubuntu</p> </li> <li> <p>mbailey/bash-my-kvm (github.com)</p> </li> </ul>"},{"location":"software/virtualisation/libvirt/#see-also","title":"See also","text":"<ul> <li>mbailey/bash-my-kvm (github.com)</li> </ul>"},{"location":"software/virtualisation/libvirt/change-default-location-for-libvirt-images/","title":"Change Default location for libvirt images","text":"<p>List pools:</p> <pre><code>virsh pool-list \n</code></pre> <p>Create pool in homedir:</p> <pre><code>POOL=${HOME}/.local/share/libvirt/images/\nmkdir -p \"$POOL\"\nvirsh pool-destroy default\nvirsh pool-undefine default\nvirsh pool-define-as --name default --type dir --target \"$POOL\"\nvirsh pool-start default\nvirsh pool-autostart default\nvirsh pool-list \nsudo systemctl restart libvirtd\n</code></pre>"},{"location":"software/virtualisation/libvirt/change-default-location-for-libvirt-images/#give-qemu-access-to-images","title":"Give QEMU access to images","text":"<p>Grant access:</p> <p>fedora: <pre><code>[m@x2 bash-my-kvm]$ sudo setfacl -m u:qemu:rx /home/m /home/m/.local /home/m/.local/share\n</code></pre></p> <p>ubuntu:</p> <pre><code>$ sudo setfacl -m u:libvirt-qemu:rx /home/m /home/m/.local /home/m/.local/share\n$ sudo systemctl restart libvirtd\n</code></pre> <p>Restart libvirtfd</p> <p>Check settings:</p> <pre><code>[m@x2 bash-my-kvm]$ sudo getfacl -e /home/m/.local /home/m/.local/share\ngetfacl: Removing leading '/' from absolute path names\n# file: home/m\n# owner: m\n# group: m\nuser::rwx\nuser:qemu:r-x           #effective:r-x\ngroup::---          #effective:---\nmask::r-x\nother::---\n</code></pre>"},{"location":"software/virtualisation/libvirt/change-default-location-for-libvirt-images/#see-also","title":"See also","text":"<ul> <li>How To Change KVM Libvirt Default Storage Pool Location - OSTechNix (ostechnix.com)</li> <li>use-libvirt-as-non-root-user</li> </ul>"},{"location":"software/virtualisation/libvirt/use-libvirt-as-non-root-user/","title":"Use libvirt as non-root user","text":"<p>Create a group, put yourself in it and configure some respect:</p> <pre><code>sudo getent group | grep libvirt\nsudo usermod -a -G libvirt $(whoami)\nnewgrp libvirt\nid $(whoami)\n\n# uncomment the following two lines\n# /etc/libvirt/libvirtd.conf\nunix_sock_group = \"libvirt\"\nunix_sock_rw_perms = \"0770\"\n\nsudo systemctl restart libvirtd.service\n</code></pre> <p>I'm not sure why I need this:</p> <pre><code>export LIBVIRT_DEFAULT_URI=\"qemu:///system\"\n</code></pre>"},{"location":"software/vscode/","title":"VS Code - Visual Studio Code","text":"<p>Visual Studio Code - Code Editing. Redefined (code.visualstudio.com)</p>"},{"location":"software/vscode/#pages","title":"Pages","text":"<ul> <li>Co-pilot alternatives</li> <li>Extensions</li> <li>Keyboard Shortcuts</li> <li>Markdown</li> <li>Settings</li> <li>git</li> </ul>"},{"location":"software/vscode/#usage","title":"Usage","text":""},{"location":"software/vscode/#handy-commands","title":"Handy commands","text":"<p>Open something in a new window: <code>code -n foobar</code> Add folder to workspace: <code>code --add .</code> Diff from last save: Ctrl-K-D</p>"},{"location":"software/vscode/#install","title":"Install","text":"<ul> <li>Install VS Code Application</li> <li>Install VS Code CLI: Open paths from the command line with <code>code</code> command.</li> </ul>"},{"location":"software/vscode/#configure","title":"Configure","text":"<p>File locations:</p> <ul> <li><code>~/.config/Code/User</code></li> <li><code>~/.config/Code/Workspaces</code></li> <li><code>~/.vscode</code><ul> <li><code>argv.json</code> : pass permanent command line arguments to VS Code.</li> <li><code>extensions</code>: your extensions live here</li> </ul> </li> </ul> <p>View the default values in the Settings editor or see a read-only version of the <code>defaultSettings.json</code> via Preferences: Open Default Settings (JSON)</p> <p>My preferred settings:</p> Setting  ID Value Comment git.rebaseWhenSync true Always use rebase instead of merge when running. files.insertFinalNewline true Insert final newline into file when saving"},{"location":"software/vscode/#terminal-settings","title":"Terminal settings","text":""},{"location":"software/vscode/#keyboard-shortcuts-default","title":"Keyboard Shortcuts - Default","text":"<p>CTRL-m: View: Toggle Maximised Panel</p>"},{"location":"software/vscode/#annoyance-tab-key-moves-focus","title":"Annoyance: Tab Key Moves Focus","text":"<p>This breaks shell completion in terminal if it's enabled</p> <p></p>"},{"location":"software/vscode/#terminal-integrated-allow-chords","title":"Terminal \u203a Integrated:\u00a0Allow Chords","text":"<ul> <li>Make things like `CTRL-L`` work.</li> </ul> <p>Whether or not to allow chord keybindings in the terminal. Note that when this is true and the keystroke results in a chord it will bypass\u00a0Terminal \u203a Integrated: Commands To Skip Shell, setting this to false is particularly useful when you want ctrl+k to go to your shell (not VS Code).</p>"},{"location":"software/vscode/#shebang","title":"shebang","text":"<pre><code>\"shellcheck.arguments\": [\n    \"--format=gcc\",\n    \"--severity=warning\",\n    \"--shell=bash\",\n    \"--external-sources\",\n    \"--enable=all\",\n    \"--shebang=#!/usr/bin/env bash\"\n],\n</code></pre>"},{"location":"software/vscode/#shortcuts","title":"Shortcuts","text":"<pre><code>Ctrl-p-p: Go back to previous file\nCTRL+ALT+-: Go back\n</code></pre>"},{"location":"software/vscode/#gui","title":"GUI","text":"<p>Open two terminals with horizontal split:</p> <ul> <li>Open a first terminal</li> <li>Open a second one</li> <li>Right click a terminal and select \"move to editor area\"</li> </ul>"},{"location":"software/vscode/#troubleshooting","title":"Troubleshooting","text":""},{"location":"software/vscode/#gitignore-from-different-folders-respected","title":".gitignore from different folders respected","text":"<ul> <li>Annoyance - Features (including quickopen, git) exclude files based on .gitignore (even if in different folder!)</li> </ul>"},{"location":"software/vscode/#file-watchers","title":"File watchers","text":"<ul> <li>Visual Studio Code is unable to watch for file changes in this large workspace\" (error ENOSPC)</li> </ul> <p>Check your watcher limits, current usage and how to increase the limits for inotify</p> <pre><code>Maybe exclude some from vscode watchers:\n```json\n\"files.watcherExclude\": {\n    \"**/.git/objects/**\": true,\n    \"**/.git/subtree-cache/**\": true,\n    \"**/node_modules/*/**\": true\n  }\n</code></pre>"},{"location":"software/vscode/#see-also","title":"See also","text":"<ul> <li>Set up a Mac in 2024 for Power Users and Developers - YouTube (www.youtube.com)</li> </ul>"},{"location":"software/vscode/Co-pilot%20alternatives/","title":"copilot alternatives","text":"<ul> <li>Cody</li> <li>Continue.dev</li> </ul>"},{"location":"software/vscode/Install%20VS%20Code%20Application/","title":"Install VS Code Application","text":""},{"location":"software/vscode/Install%20VS%20Code%20Application/#install-vs-code-application","title":"Install VS Code Application","text":""},{"location":"software/vscode/Install%20VS%20Code%20Application/#fedora","title":"Fedora","text":"<ul> <li>Running Visual Studio Code on Linux (code.visualstudio.com)</li> </ul> <p>Install Key and Yum repo:</p> <pre><code>sudo rpm --import https://packages.microsoft.com/keys/microsoft.asc\nsudo sh -c 'echo -e \"[code]\\nname=Visual Studio Code\\nbaseurl=https://packages.microsoft.com/yumrepos/vscode\\nenabled=1\\ngpgcheck=1\\ngpgkey=https://packages.microsoft.com/keys/microsoft.asc\" &gt; /etc/yum.repos.d/vscode.repo'\n</code></pre> <p>Then update the package cache and install the package using dnf (Fedora 22 and above):</p> <pre><code>dnf check-update\nsudo dnf install code\n</code></pre>"},{"location":"software/vscode/Install%20VS%20Code%20CLI/","title":"Install VS Code CLI","text":""},{"location":"software/vscode/Install%20VS%20Code%20CLI/#install-vs-code-cli","title":"Install VS Code CLI","text":"<p>The <code>code</code> command make it easy to open paths from the command line.</p>"},{"location":"software/vscode/Install%20VS%20Code%20CLI/#linux","title":"Linux","text":"<p>Add it to your PATH with a symlink:</p> <pre><code>sudo ln -sr /usr/share/code/bin/code \"${XDG_BIN_HOME:-$HOME/.local/bin}\"/code\n</code></pre> <p>For the insiders version:</p> <pre><code>ln -sr /usr/share/code-insiders/bin/code-insiders \"${XDG_BIN_HOME:-$HOME/.local/bin}\"/code-insiders\n</code></pre>"},{"location":"software/vscode/Install%20VS%20Code%20CLI/#macos","title":"macOS","text":"<ul> <li>https://code.visualstudio.com/docs/setup/mac</li> </ul> <pre><code>cat &lt;&lt; EOF &gt;&gt; ~/.bash_profile\n# Add Visual Studio Code (code)\nexport PATH=\"\\$PATH:/Applications/Visual Studio Code.app/Contents/Resources/app/bin\"\nEOF\n</code></pre>"},{"location":"software/vscode/Keyboard%20Shortcuts/","title":"Keyboard Shortcuts for VS Code","text":""},{"location":"software/vscode/Keyboard%20Shortcuts/#default-shortcuts","title":"Default shortcuts","text":""},{"location":"software/vscode/Keyboard%20Shortcuts/#ui-and-workspace-controls","title":"UI and Workspace Controls","text":"Action Shortcut Comment Collapse Folders in Explorer Ctrl + Shift + P Show Explorer Ctrl + Shift + E Show Git Ctrl + Shift + G G Toggle Activity Bar visibility Ctrl + B Go Back Ctrl + Alt + - Toggle light/dark mode Ctrl + K, K Zen mode (focus on the code) Ctrl + K, Z Filter tree view Ctrl + Alt + F Useful for explorer view"},{"location":"software/vscode/Keyboard%20Shortcuts/#editing","title":"Editing","text":"Action Shortcut Multiple cursors Ctrl + Alt + \u2191/\u2193 Put cursors in multiple spots Alt + Click Toggle line wrap Alt + Z Toggle comment on line(s) Ctrl + / Indent line(s) Tab Unindent line(s) Shift + Tab"},{"location":"software/vscode/Keyboard%20Shortcuts/#shortcuts-to-disable","title":"Shortcuts to disable","text":"Action Shortcut Comment Vim: editorFocus... Ctrl + F Clashes with <code>Find</code> Vim Ctrl + P Clashes with <code>Quick Open Dialog</code> ## Custom shortcuts Action Shortcut - Maximise / minimise panel Ctrl + M"},{"location":"software/vscode/bookmarks/","title":"Bookmarks","text":"<p>In Visual Studio Code (VSCode), bookmarking specific lines or sections of code for easy navigation and reference is a helpful feature, especially in large projects. VSCode does not have a built-in bookmarking feature, but this functionality can be easily added through extensions. One of the most popular extensions for this purpose is \"Bookmarks\" by Alessandro Fragnani.</p> <p>Here's how you can use it:</p>"},{"location":"software/vscode/bookmarks/#installing-the-bookmarks-extension","title":"Installing the Bookmarks Extension","text":"<ol> <li>Open Extensions View: Press <code>Ctrl+Shift+X</code> (or <code>Cmd+Shift+X</code> on macOS) to open the Extensions view in VSCode.</li> <li>Search for Bookmarks: Type \"Bookmarks\" in the search bar.</li> <li>Install the Extension: Find the \"Bookmarks\" extension by Alessandro Fragnani and click on the install button.</li> </ol>"},{"location":"software/vscode/bookmarks/#using-the-bookmarks-extension","title":"Using the Bookmarks Extension","text":"<p>Once installed, you can start using the extension to bookmark lines of code:</p> <ol> <li>Toggle Bookmark: Place your cursor on the line you want to bookmark and press <code>Ctrl+Alt+K</code> (or <code>Cmd+Alt+K</code> on macOS) to toggle a bookmark on that line.</li> <li>Navigate Bookmarks: Use <code>Ctrl+Alt+L</code> (or <code>Cmd+Alt+L</code> on macOS) to jump between bookmarks within the same file. To navigate bookmarks across all files, use <code>Ctrl+Alt+J</code> (or <code>Cmd+Alt+J</code> on macOS).</li> <li>View All Bookmarks: To see a list of all bookmarks, use the <code>Bookmarks: List</code> command from the Command Palette (<code>Ctrl+Shift+P</code> or <code>Cmd+Shift+P</code>).</li> </ol>"},{"location":"software/vscode/bookmarks/#additional-features","title":"Additional Features","text":"<ul> <li>Labeling Bookmarks: You can add labels to your bookmarks for more descriptive navigation.</li> <li>Saving Bookmarks: The extension automatically saves your bookmarks, and they will persist across VSCode sessions.</li> <li>Bookmarks in Multiple Files: The extension supports bookmarking lines across multiple files in your project.</li> </ul>"},{"location":"software/vscode/bookmarks/#customizing-shortcuts","title":"Customizing Shortcuts","text":"<p>If you want to change the default keyboard shortcuts:</p> <ol> <li>Open Keyboard Shortcuts: Press <code>Ctrl+K Ctrl+S</code> (or <code>Cmd+K Cmd+S</code> on macOS).</li> <li>Search for Bookmarks: Type \"bookmarks\" in the search bar.</li> <li>Customize Shortcuts: Click on the edit icon next to the command you want to change and assign a new keybinding.</li> </ol> <p>By using the Bookmarks extension, you can efficiently navigate and keep track of important sections in your code. Remember to explore the extension's settings and features for additional customization and functionality.</p>"},{"location":"software/vscode/continue.dev/","title":"continue.dev - vscode extension","text":"<ul> <li>Continue (www.continue.dev)</li> </ul>"},{"location":"software/vscode/continue.dev/#models","title":"Models","text":"<ul> <li>ollama run deepseek-coder:33b</li> </ul>"},{"location":"software/vscode/continue.dev/#config","title":"Config","text":"<ul> <li> <p>Configuration Options  Continue (docs.continue.dev)</p> </li> <li> <p>allowAnonymousTelemetry</p> </li> </ul> <p>See also:</p> <ul> <li>https://www.reddit.com/r/ollama/s/8TXvHNo6KC</li> </ul>"},{"location":"software/vscode/extensions/","title":"VS Code extensions","text":"<ul> <li>bookmarks </li> <li>gitlens</li> <li>Remote-SSH</li> <li>Edit CSV</li> <li>Rainbow CSV</li> <li>AI<ul> <li>continuedev/continue \u23e9 Open-source VS Code and JetBrains extensions that enable you to easily create your own modular AI software development system (github.com)</li> </ul> </li> </ul>"},{"location":"software/vscode/extensions/#install-from-cli","title":"Install from CLI","text":"<pre><code>code --install-extension vscodevim.vim\n</code></pre>"},{"location":"software/vscode/extensions/#list","title":"List","text":"<pre><code>$ code --list-extensions | xargs -L 1 echo code --install-extension\n\ncode --install-extension alefragnani.project-manager\ncode --install-extension amazonwebservices.aws-toolkit-vscode\ncode --install-extension amodio.tsl-problem-matcher\ncode --install-extension batisteo.vscode-django\ncode --install-extension chouzz.vscode-better-align\ncode --install-extension codezombiech.gitignore\ncode --install-extension continue.continue\ncode --install-extension dbaeumer.vscode-eslint\ncode --install-extension donjayamanne.git-extension-pack\ncode --install-extension donjayamanne.githistory\ncode --install-extension donjayamanne.python-environment-manager\ncode --install-extension donjayamanne.python-extension-pack\ncode --install-extension eamodio.gitlens\ncode --install-extension esbenp.prettier-vscode\ncode --install-extension fnando.linter\ncode --install-extension fosshaas.fontsize-shortcuts\ncode --install-extension foxundermoon.shell-format\ncode --install-extension george-alisson.html-preview-vscode\ncode --install-extension github.codespaces\ncode --install-extension github.copilot\ncode --install-extension github.copilot-chat\ncode --install-extension github.github-vscode-theme\ncode --install-extension github.remotehub\ncode --install-extension github.vscode-github-actions\ncode --install-extension github.vscode-pull-request-github\ncode --install-extension googlecloudtools.cloudcode\ncode --install-extension grapecity.gc-excelviewer\ncode --install-extension hediet.vscode-drawio\ncode --install-extension iliazeus.vscode-ansi\ncode --install-extension janisdd.vscode-edit-csv\ncode --install-extension jock.svg\ncode --install-extension kddejong.vscode-cfn-lint\ncode --install-extension kevinrose.vsc-python-indent\ncode --install-extension mattflower.aider\ncode --install-extension matthewpi.caddyfile-support\ncode --install-extension mechatroner.rainbow-csv\ncode --install-extension mhutchie.git-graph\ncode --install-extension mrmlnc.vscode-duplicate\ncode --install-extension ms-azuretools.vscode-bicep\ncode --install-extension ms-azuretools.vscode-docker\ncode --install-extension ms-dotnettools.vscode-dotnet-runtime\ncode --install-extension ms-python.black-formatter\ncode --install-extension ms-python.debugpy\ncode --install-extension ms-python.isort\ncode --install-extension ms-python.pylint\ncode --install-extension ms-python.python\ncode --install-extension ms-python.vscode-pylance\ncode --install-extension ms-toolsai.jupyter\ncode --install-extension ms-toolsai.jupyter-keymap\ncode --install-extension ms-toolsai.jupyter-renderers\ncode --install-extension ms-toolsai.vscode-jupyter-cell-tags\ncode --install-extension ms-toolsai.vscode-jupyter-slideshow\ncode --install-extension ms-vscode-remote.remote-containers\ncode --install-extension ms-vscode-remote.remote-ssh\ncode --install-extension ms-vscode-remote.remote-ssh-edit\ncode --install-extension ms-vscode-remote.remote-wsl\ncode --install-extension ms-vscode-remote.vscode-remote-extensionpack\ncode --install-extension ms-vscode.azure-repos\ncode --install-extension ms-vscode.makefile-tools\ncode --install-extension ms-vscode.powershell\ncode --install-extension ms-vscode.remote-explorer\ncode --install-extension ms-vscode.remote-repositories\ncode --install-extension ms-vscode.remote-server\ncode --install-extension ms-vscode.vscode-speech\ncode --install-extension ms-vsliveshare.vsliveshare\ncode --install-extension nilssoderman.sitemap-generator\ncode --install-extension njpwerner.autodocstring\ncode --install-extension pythagoratechnologies.gpt-pilot-vs-code\ncode --install-extension redhat.vscode-yaml\ncode --install-extension remisa.shellman\ncode --install-extension ritwickdey.liveserver\ncode --install-extension sourcegraph.cody-ai\ncode --install-extension timonwong.shellcheck\ncode --install-extension tyriar.sort-lines\ncode --install-extension visualstudioexptteam.intellicode-api-usage-examples\ncode --install-extension visualstudioexptteam.vscodeintellicode\ncode --install-extension vscodevim.vim\ncode --install-extension wholroyd.jinja\ncode --install-extension yzhang.markdown-all-in-one\ncode --install-extension ziyasal.vscode-open-in-github\n</code></pre> <p>Had these but didn't keep:</p> <pre><code>almenon.arepl\nbatisteo.vscode-django\nBillDietrich.linkcheckerhtml\nbung87.rails\nbung87.vscode-gemfile\ndonjayamanne.python-environment-manager\ndonjayamanne.python-extension-pack\nesbenp.prettier-vscode\nfrhtylcn.pythonsnippets\ngolang.go\nkddejong.vscode-cfn-lint\nKevinRose.vsc-python-indent\nkiteco.kite\nloganarnett.lambda-snippets\nms-azuretools.vscode-docker\nms-toolsai.jupyter\nms-toolsai.jupyter-keymap\nms-toolsai.jupyter-renderers\nms-toolsai.vscode-jupyter-cell-tags\nms-toolsai.vscode-jupyter-slideshow\nms-vsliveshare.vsliveshare\nms-vsliveshare.vsliveshare-audio\nms-vsliveshare.vsliveshare-pack\nnjpwerner.autodocstring\nrebornix.ruby\nshd101wyy.markdown-preview-enhanced\nsianglim.slim\nVisualStudioExptTeam.intellicode-api-usage-examples\nVisualStudioExptTeam.vscodeintellicode\nwingrunr21.vscode-ruby\n</code></pre>"},{"location":"software/vscode/git/","title":"Git in vscode","text":""},{"location":"software/vscode/git/#settings","title":"Settings","text":"<pre><code>\"scm.providerCountBadge\": \"visible\"\n\"git.repositoryScanMaxDepth\": 5 \n</code></pre>"},{"location":"software/vscode/git/#extensions","title":"Extensions","text":"<ul> <li>GitLens</li> </ul>"},{"location":"software/vscode/git/#copy-github-url-for-document-using-gitlens","title":"Copy GitHub URL for document using GitLens","text":"<p>The extension Gitlens by Eric Amodio gives the Copy Remote URL option in the context menu.</p> <p>The command is: <code>gitlens.copyRemoteFileUrlToClipboard</code></p> <p>I had to configure my non-standard domains in <code>gitlens.remotes</code></p>"},{"location":"software/vscode/git/#sidebar-setup","title":"Sidebar setup","text":"<ul> <li>Opening multiple repos allows for a great Git status summary view</li> <li>Click on the repo to see only those changes below</li> </ul> <p>Enable <code>Source Control Repositories</code> from the <code>...</code> menu next to <code>SOURCE CONTROL</code> to view the list.</p> <p></p>"},{"location":"software/vscode/git/#configure-to-show-number-of-uncommitted-changes-in-each-repo","title":"Configure to show number of uncommitted changes in each repo","text":""},{"location":"software/vscode/gitlens/","title":"GitLens","text":""},{"location":"software/vscode/gitlens/#open-on-remote-with-different-ssh-domains","title":"Open on remote with different ssh domains","text":"<p>If you want to use SSH keys with more than one GitHub account, you might want this to enable \"Open on Remote\".</p> <p>VS Code GitLens settings:</p> <p>This works with the SSH Keytags convention introduced by Keycutter</p> <pre><code>  \"gitlens.remotes\": [\n\n    {\n      \"regex\": \"github.com_*\",\n      \"type\": \"Custom\",\n      \"name\": \"github.com_custom\",\n      \"protocol\": \"https\",\n      \"urls\": {\n        \"repository\": \"https://github.com/${repo}\",\n        \"branches\": \"https://github.com/${repo}/branches\",\n        \"branch\": \"https://github.com/${repo}/commits/${branch}\",\n        \"commit\": \"https://github.com/${repo}/commit/${id}\",\n        \"file\": \"https://github.com/${repo}?path=${file}${line}\",\n        \"fileInBranch\": \"https://github.com/${repo}/blob/${branch}/${file}${line}\",\n        \"fileInCommit\": \"https://github.com/${repo}/blob/${id}/${file}${line}\",\n        \"fileLine\": \"#L${line}\",\n        \"fileRange\": \"#L${start}-L${end}\"\n      }\n    }\n  ],\n</code></pre>"},{"location":"software/vscode/markdown/","title":"Markdown in VS Code","text":"<ul> <li> <p>Markdown editing with Visual Studio Code (code.visualstudio.com)</p> </li> <li> <p>Doc Writer Profile Template (code.visualstudio.com)</p> </li> </ul>"},{"location":"software/vscode/markdown/#tasks","title":"Tasks","text":"<ul> <li> Create workspace settings</li> </ul>"},{"location":"software/vscode/markdown/#hyperlinks","title":"Hyperlinks","text":"<ul> <li>Path completion built in</li> <li>Type <code>##</code> in a link to see list of all Markdown headers in workspace</li> <li>Drag file from explorer to create link to it.</li> </ul>"},{"location":"software/vscode/markdown/#automatic-link-updates-on-file-move-or-rename","title":"Automatic link updates on file move or rename","text":"<ul> <li>Automatic link updates on file move or rename</li> </ul> <pre><code>\"markdown.updateLinksOnFileMove.enabled\": \"prompt\",\n</code></pre> <p>markdown.updateLinksOnFileMove.enabled: prompt</p> <p>Automatic link updating detects renames of Markdown files, images, and directories. You can enable it for additional file types with\u00a0<code>markdown.updateLinksOnFileMove.include</code></p>"},{"location":"software/vscode/markdown/#pasting-files","title":"Pasting files","text":"<ul> <li> <p>Visual Studio Code May 2023 (code.visualstudio.com)</p> </li> <li> <p> You can paste a file from the clipboard into your workspace and automatically link from documents. This is great for adding screenshots, pdfs, etc. \u2705 2024-03-11</p> </li> </ul> <p>The\u00a0<code>markdown.copyFiles.destination</code>\u00a0setting controls where the new image file should be created</p> <ul> <li> Put pasted assets into <code>./assets/</code> <pre><code>\"markdown.copyFiles.destination\": {\n        \"/**/*\": \"assets/\"\n}\n</code></pre></li> </ul>"},{"location":"software/vscode/markdown/#keep-trailing-whitespace","title":"Keep trailing whitespace","text":"<pre><code>{\n  \"[markdown]\": {\n    \"files.trimTrailingWhitespace\": false\n  }\n}\n</code></pre>"},{"location":"software/vscode/markdown/#shortcuts","title":"Shortcuts","text":"<p><code>Ctrl+Shift+O</code>: Go to header in file  </p>"},{"location":"software/vscode/profiles/","title":"VS Code Profiles","text":"<p>Create and share profiles</p> <ul> <li>Doc Writer Template (code.visualstudio.com)</li> </ul>"},{"location":"software/vscode/settings/","title":"VS Code Settings","text":"<p>Notes on configuring VS Code.</p>"},{"location":"software/vscode/settings/#managing-your-settings","title":"Managing your settings","text":"<ul> <li>TBC</li> </ul>"},{"location":"software/vscode/settings/#setting-values","title":"Setting values","text":""},{"location":"software/vscode/settings/#enable-vim-mode","title":"Enable VIM mode","text":"<p>\"vim.vimrc.enable\": true</p>"},{"location":"software/vscode/settings/#show-count-of-changes-in-repos","title":"Show count of changes in Repos","text":"<pre><code>\"scm.providerCountBadge\": \"visible\"\n</code></pre>"},{"location":"software/vscode/settings/#git-auto-stash-dangerous","title":"Git: Auto Stash: Dangerous!","text":"<ul> <li>If you're using some other kind of sync (Obsidian) it will delete the files on your other device temporarily.</li> <li>If you get a merge conflict you may need to manually apply the stash or else wonder where all your changes went.</li> </ul> <pre><code>\"git.autoStash\": false\n</code></pre>"},{"location":"software/vscode/vscode-azure/","title":"vscode-azure","text":"<p>VSCode Extensions from Microsoft:</p> <ul> <li>Azure Account: Common Azure Login extension for VS Code (github.com)</li> <li>Azure CLI Tools: VS Code extension for the Azure CLI 2.0 (github.com)<ul> <li>Create\u00a0<code>.azcli</code>\u00a0files and use these features:<ul> <li>IntelliSense for commands and their arguments.</li> <li>Snippets for commands, inserting required arguments automatically.</li> <li>Run the current command in the integrated terminal.</li> <li>Run the current command and show its output in a side-by-side editor.</li> <li>Show documentation on mouse hover.</li> <li>Display current subscription and defaults in status bar.</li> </ul> </li> </ul> </li> <li>Azure Resources: VS Code extension for managing Azure resources. (github.com)</li> </ul>"},{"location":"software/vscode/vscode-open-file-on-remote/","title":"VS Code \"open file on remote\"","text":"<p>It's a problem when I use custom domains in remote to prompt SSH to use the right key.</p>"},{"location":"software/vscode/vscode-open-file-on-remote/#solution-gitlens-settings-in-vs-code","title":"Solution: GitLens Settings in VS Code","text":"<pre><code>  \"gitlens.remotes\": [\n    {\n      \"domain\": \"github-work\",\n      \"type\": \"Custom\",\n      \"name\": \"My Company\",\n      \"protocol\": \"https\",\n      \"urls\": {\n        \"repository\": \"https://github.com/${repo}\",\n        \"branches\": \"https://github.com/${repo}/branches\",\n        \"branch\": \"https://github.com/${repo}/commits/${branch}\",\n        \"commit\": \"https://github.com/${repo}/commit/${id}\",\n        \"file\": \"https://github.com/${repo}?path=${file}${line}\",\n        \"fileInBranch\": \"https://github.com/${repo}/blob/${branch}/${file}${line}\",\n        \"fileInCommit\": \"https://github.com/${repo}/blob/${id}/${file}${line}\",\n        \"fileLine\": \"#L${line}\",\n        \"fileRange\": \"#L${start}-L${end}\"\n      }\n    }\n  ],\n</code></pre> <ul> <li> <p>Manage GitLens Settings (help.gitkraken.com)</p> </li> <li> <p>Could maybe hack gitlens here to add support: https://github.com/gitkraken/vscode-gitlens/blob/main/src/commands/openOnRemote.ts#L161</p> </li> </ul>"},{"location":"software/vscode/vscode-open-file-on-remote/#settings","title":"Settings","text":""},{"location":"software/vscode/vscode-open-file-on-remote/#gitlenscodelensauthorscommand","title":"gitlens.codeLens.authors.command","text":"<p>Specifies the command to be executed when an\u00a0authors\u00a0CodeLens is clicked, set to (<code>gitlens.toggleFileBlame</code>) by default. Can be set to\u00a0<code>false</code>\u00a0to disable click actions on the CodeLens.</p> <p><code>gitlens.toggleFileBlame</code>\u00a0\u2013 toggles file blame annotations <code>gitlens.toggleFileHeatmap</code>\u00a0\u2013 toggles file heatmap <code>gitlens.toggleFileChanges</code>\u00a0\u2013 toggles file changes since before the commit <code>gitlens.toggleFileChangesOnly</code>\u00a0\u2013 toggles file changes from the commit <code>gitlens.diffWithPrevious</code>\u00a0\u2013 opens changes with the previous revision <code>gitlens.revealCommitInView</code>\u00a0\u2013 reveals the commit in the Side Bar <code>gitlens.showCommitsInView</code>\u00a0\u2013 searches for commits within the range <code>gitlens.showQuickCommitDetails</code>\u00a0\u2013 shows details of the commit <code>gitlens.showQuickCommitFileDetails</code>\u00a0\u2013 show file details of the commit <code>gitlens.showQuickFileHistory</code>\u00a0\u2013 shows the current file history <code>gitlens.showQuickRepoHistory</code>\u00a0\u2013 shows the current branch history <code>gitlens.openCommitOnRemote</code>\u00a0\u2013 opens the commit on the remote service (when available) <code>gitlens.copyRemoteCommitUrl</code>\u00a0\u2013 copies the remote commit url to the clipboard (when available) <code>gitlens.openFileOnRemote</code>\u00a0\u2013 opens the file revision on the remote service (when available) <code>gitlens.copyRemoteFileUrl</code>\u00a0\u2013 copies the remote file url to the clipboard (when available)</p>"},{"location":"software/vscode/extensions/remote-ssh/","title":"Remote-SSH - VS Code Extension","text":"<p>Develop on remote machines using Visual Studio Code and SSH.</p> <p>2024-08-08 Thu: VS Code Insiders required due to bug in 1.91</p> <p>Keycutter supports VS Code Remote-SSH extension hosts with:</p> <ul> <li>FIDO SSH Keys (e.g. Yubikey)</li> <li>ssh-agent forwarding</li> <li>Confirmed working:<ul> <li>Linux</li> <li>macOS</li> <li>Windows (WSL Ubuntu)</li> </ul> </li> </ul>"},{"location":"software/vscode/extensions/remote-ssh/#install","title":"Install","text":"<ol> <li> <p>Enable extension:</p> <pre><code>code --install-extension ms-vscode-remote.remote-ssh\n</code></pre> </li> <li> <p>Connect to remote host:</p> <ul> <li>CTRL-SHIFT-P</li> <li>Select <code>Remote-SSH: Connect to Host</code></li> <li>Select a host</li> <li>VSCode will install VS Code Server on remote host if not present.</li> </ul> </li> </ol>"},{"location":"software/vscode/extensions/remote-ssh/#configure","title":"Configure","text":"<p>Update VS Code Settings:</p> <pre><code>{\n    \"remote.SSH.enableRemoteCommand\": true,\n    \"remote.SSH.showLoginTerminal\": true,\n    \"remote.SSH.logLevel\": \"trace\",\n    \"remote.SSH.useCurlAndWgetConfigurationFiles\": true,\n    \"remote.SSH.remotePlatform\": {\n        \"squid\": \"linux\"\n    },\n    \"remote.SSH.permitPtyAllocation\": true,\n    \"remote.SSH.enableDynamicForwarding\": false,\n    \"window.newWindowProfile\": \"Default\",\n    \"files.autoSave\": \"afterDelay\"\n}\n</code></pre>"},{"location":"software/vscode/extensions/remote-ssh/#linux","title":"Linux","text":"<p>Tested on Fedora.</p>"},{"location":"software/vscode/extensions/remote-ssh/#macos","title":"macOS","text":"<p>Tested on ???</p>"},{"location":"software/vscode/extensions/remote-ssh/#windows-with-wsl","title":"Windows with WSL","text":"<p>We can make VS Code on Windows use WSL for SSH.</p> <p>Benefits include:</p> <ul> <li>Use config from <code>~/.ssh/config</code> instead of having to copy it to Windows.</li> <li>Use OpenSSH from linux instead of whatever Microsoft provides (they're not that into SSH).</li> </ul> <p>We need to tell Windows to use WSL's SSH which means:</p> <ul> <li>No need to sync config from <code>~/.ssh</code> to Windows</li> <li>We can load our shell environment.</li> </ul>"},{"location":"software/vscode/extensions/remote-ssh/#steps","title":"Steps","text":"<ol> <li> <p>Put a simple Windows batch file on the Windows filesystem:</p> <pre><code># Filename: %USERPROFILE%/ssh.bat\nC:\\Windows\\system32\\wsl.exe --exec bash -ic \"echo 'Running in WSL: ssh %*'; ssh %*\"\n</code></pre> </li> <li> <p>Tell VS Code to use it by setting <code>remote.SSH.path</code>:</p> <pre><code>{\n    \"remote.SSH.path\": \"%USERPROFILE%\\\\\\\\ssh.bat\",\n    \"remote.SSH.useCurlAndWgetConfigurationFiles\": true,\n    \"remote.SSH.enableRemoteCommand\": true,\n    \"remote.SSH.remotePlatform\": {\n        \"*\": \"linux\"\n    },\n    \"remote.SSH.permitPtyAllocation\": true,\n    \"workbench.sideBar.location\": \"right\",\n    \"remote.SSH.enableDynamicForwarding\": false\n}\n</code></pre> </li> <li> <p>Copy <code>scp.exe</code> to same location as <code>ssh.bat</code></p> <p>VSCode 1.93 (insiders build) looked for SCP in same dir as <code>ssh.bat</code>. More investigation would be good.</p> <pre><code>cp /mnt/c/Program\\ Files/OpenSSH/scp.exe /mnt/c/User/&lt;username&gt;/\n</code></pre> </li> </ol>"},{"location":"software/vscode/extensions/remote-ssh/#notes","title":"Notes","text":""},{"location":"software/vscode/extensions/remote-ssh/#setting-remotesshdefaultextensions","title":"Setting: remote.SSH.defaultExtensions","text":"<p>I maintain a list of extensions</p> <p>If there are extensions that you would like to always have installed on any SSH host, you can specify which ones using the\u00a0<code>remote.SSH.defaultExtensions</code>property in\u00a0<code>settings.json</code>. </p> <p>For example:</p> <pre><code>\"remote.SSH.defaultExtensions\": [\n    \"vscodevim.vim\",\n    \"fosshaas.fontsize-shortcuts\",\n    \"eamodio.gitlens\",\n    \"ms-python.python\",\n    \"ms-python.pylint\",\n    \"ms-toolsai.jupyter\"\n],\n</code></pre>"},{"location":"software/vscode/extensions/remote-ssh/#see-also","title":"See also","text":"<ul> <li>\"Always installed\" extensions (code.visualstudio.com)</li> <li>Developing on Remote Machines using SSH and Visual Studio Code (code.visualstudio.com)</li> <li>microsoft/vscode-remote-release (github.com)</li> </ul>"}]}